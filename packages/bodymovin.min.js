!function(a,b){"function"==typeof define&&define.amd?define(b):"object"==typeof module&&module.exports?module.exports=b():a.bodymovin=b()}(window,function(){function ProjectInterface(){return{}}function roundValues(a){bm_rnd=a?Math.round:function(a){return a}}function roundTo2Decimals(a){return Math.round(1e4*a)/1e4}function roundTo3Decimals(a){return Math.round(100*a)/100}function styleDiv(a){a.style.position="absolute",a.style.top=0,a.style.left=0,a.style.display="block",a.style.transformOrigin=a.style.webkitTransformOrigin="0 0",a.style.backfaceVisibility=a.style.webkitBackfaceVisibility="visible",a.style.transformStyle=a.style.webkitTransformStyle=a.style.mozTransformStyle="preserve-3d"}function styleUnselectableDiv(a){a.style.userSelect="none",a.style.MozUserSelect="none",a.style.webkitUserSelect="none",a.style.oUserSelect="none"}function BMEnterFrameEvent(a,b,c,d){this.type=a,this.currentTime=b,this.totalTime=c,this.direction=0>d?-1:1}function BMCompleteEvent(a,b){this.type=a,this.direction=0>b?-1:1}function BMCompleteLoopEvent(a,b,c,d){this.type=a,this.currentLoop=b,this.totalLoops=c,this.direction=0>d?-1:1}function BMSegmentStartEvent(a,b,c){this.type=a,this.firstFrame=b,this.totalFrames=c}function BMDestroyEvent(a,b){this.type=a,this.target=b}function _addEventListener(a,b){this._cbs[a]||(this._cbs[a]=[]),this._cbs[a].push(b)}function _removeEventListener(a,b){if(b){if(this._cbs[a]){for(var c=0,d=this._cbs[a].length;d>c;)this._cbs[a][c]===b&&(this._cbs[a].splice(c,1),c-=1,d-=1),c+=1;this._cbs[a].length||(this._cbs[a]=null)}}else this._cbs[a]=null}function _triggerEvent(a,b){var c,d;if(this._cbs[a])for(c=this._cbs[a].length,d=0;c>d;d++)this._cbs[a][d](b)}function randomString(a,b){var c,d;for(void 0===b&&(b="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ1234567890"),d="",c=a;c>0;--c)d+=b[Math.round(Math.random()*(b.length-1))];return d}function HSVtoRGB(a,b,c){var d,e,f,g,h,i,j,k;switch(1===arguments.length&&(b=a.s,c=a.v,a=a.h),g=Math.floor(6*a),h=6*a-g,i=c*(1-b),j=c*(1-h*b),k=c*(1-(1-h)*b),g%6){case 0:d=c,e=k,f=i;break;case 1:d=j,e=c,f=i;break;case 2:d=i,e=c,f=k;break;case 3:d=i,e=j,f=c;break;case 4:d=k,e=i,f=c;break;case 5:d=c,e=i,f=j}return[d,e,f]}function RGBtoHSV(a,b,c){1===arguments.length&&(b=a.g,c=a.b,a=a.r);var g,d=Math.max(a,b,c),e=Math.min(a,b,c),f=d-e,h=0===d?0:f/d,i=d/255;switch(d){case e:g=0;break;case a:g=b-c+f*(c>b?6:0),g/=6*f;break;case b:g=c-a+2*f,g/=6*f;break;case c:g=a-b+4*f,g/=6*f}return[g,h,i]}function addSaturationToRGB(a,b){var c=RGBtoHSV(255*a[0],255*a[1],255*a[2]);return c[1]+=b,c[1]>1?c[1]=1:c[1]<=0&&(c[1]=0),HSVtoRGB(c[0],c[1],c[2])}function addBrightnessToRGB(a,b){var c=RGBtoHSV(255*a[0],255*a[1],255*a[2]);return c[2]+=b,c[2]>1?c[2]=1:c[2]<0&&(c[2]=0),HSVtoRGB(c[0],c[1],c[2])}function addHueToRGB(a,b){var c=RGBtoHSV(255*a[0],255*a[1],255*a[2]);return c[0]+=b/360,c[0]>1?c[0]-=1:c[0]<0&&(c[0]+=1),HSVtoRGB(c[0],c[1],c[2])}function componentToHex(a){var b=a.toString(16);return 1==b.length?"0"+b:b}function fillToRgba(a,b){if(!cachedColors[a]){var c=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(a);cachedColors[a]=parseInt(c[1],16)+","+parseInt(c[2],16)+","+parseInt(c[3],16)}return"rgba("+cachedColors[a]+","+b+")"}function RenderedFrame(a,b){this.tr=a,this.o=b}function LetterProps(a,b,c,d,e,f){this.o=a,this.sw=b,this.sc=c,this.fc=d,this.m=e,this.props=f}function iterateDynamicProperties(a){var b,c=this.dynamicProperties;for(b=0;c>b;b+=1)this.dynamicProperties[b].getValue(a)}function reversePath(a){var e,f,i,b=[],c=[],d=[],g={},h=0;for(a.c&&(b[0]=a.o[0],c[0]=a.i[0],d[0]=a.v[0],h=1),f=a.i.length,i=f-1,e=h;f>e;e+=1)b.push(a.o[i]),c.push(a.i[i]),d.push(a.v[i]),i-=1;return g.i=b,g.o=c,g.v=d,g}function Matrix(){}function matrixManagerFunction(){var a=new Matrix,b=function(b,c,d,e,f){return a.reset().translate(e,f).rotate(b).scale(c,d).toCSS()},c=function(a){return b(a.tr.r[2],a.tr.s[0],a.tr.s[1],a.tr.p[0],a.tr.p[1])};return{getMatrix:c}}function createElement(a,b,c){var d,e;return b?(b.prototype=Object.create(a.prototype),b.prototype.constructor=b,b.prototype._parent=a.prototype,void 0):(d=Object.create(a.prototype,c),e={},d&&"[object Function]"===e.toString.call(d.init)&&d.init(),d)}function extendPrototype(a,b){for(var c in a.prototype)a.prototype.hasOwnProperty(c)&&(b.prototype[c]=a.prototype[c])}function bezFunction(){function c(a,b,c,d,e,f){var g=a*d+b*e+c*f-e*d-f*a-c*b;return g>-1e-4&&1e-4>g}function d(a,b,d,e,f,g,h,i,j){return c(a,b,e,f,h,i)&&c(a,d,e,g,h,j)}function f(a){this.segmentLength=0,this.points=new Array(a)}function g(a,b){this.partialLength=a,this.point=b}function i(a,b){var h,i,c=b.segments,d=c.length,e=bm_floor((d-1)*a),f=a*b.addedLength,g=0;if(f==c[e].l)return c[e].p;for(h=c[e].l>f?-1:1,i=!0;i;)c[e].l<=f&&c[e+1].l>f?(g=(f-c[e].l)/(c[e+1].l-c[e].l),i=!1):e+=h,(0>e||e>=d-1)&&(i=!1);return c[e].p+(c[e+1].p-c[e].p)*g}function j(){this.pt1=new Array(2),this.pt2=new Array(2),this.pt3=new Array(2),this.pt4=new Array(2)}function k(a,b,c,d,e,f,g){var k,l,m,n,o,p,h=new j;for(e=0>e?0:e>1?1:e,k=i(e,g),f=f>1?1:f,l=i(f,g),n=a.length,o=1-k,p=1-l,m=0;n>m;m+=1)h.pt1[m]=Math.round(1e3*(o*o*o*a[m]+(k*o*o+o*k*o+o*o*k)*c[m]+(k*k*o+o*k*k+k*o*k)*d[m]+k*k*k*b[m]))/1e3,h.pt3[m]=Math.round(1e3*(o*o*p*a[m]+(k*o*p+o*k*p+o*o*l)*c[m]+(k*k*p+o*k*l+k*o*l)*d[m]+k*k*l*b[m]))/1e3,h.pt4[m]=Math.round(1e3*(o*p*p*a[m]+(k*p*p+o*l*p+o*p*l)*c[m]+(k*l*p+o*l*l+k*p*l)*d[m]+k*l*l*b[m]))/1e3,h.pt2[m]=Math.round(1e3*(p*p*p*a[m]+(l*p*p+p*l*p+p*p*l)*c[m]+(l*l*p+p*l*l+l*p*l)*d[m]+l*l*l*b[m]))/1e3;return h}var e=function(){function a(a,b){this.l=a,this.p=b}return function(b,c,d,e){var g,h,j,k,m,f=defaultCurveSegments,l=0,n=[],o=[],p={addedLength:0,segments:[]},i=d.length;for(g=0;f>g;g+=1){for(k=g/(f-1),m=0,h=0;i>h;h+=1)j=bm_pow(1-k,3)*b[h]+3*bm_pow(1-k,2)*k*d[h]+3*(1-k)*bm_pow(k,2)*e[h]+bm_pow(k,3)*c[h],n[h]=j,null!==o[h]&&(m+=bm_pow(n[h]-o[h],2)),o[h]=n[h];m&&(m=bm_sqrt(m),l+=m),p.segments.push(new a(l,k))}return p.addedLength=l,p}}(),h=function(){var a={};return function(b){var k,l,m,n,o,p,q,r,s,t,u,d=b.s,e=b.e,h=b.to,i=b.ti,j=(d.join("_")+"_"+e.join("_")+"_"+h.join("_")+"_"+i.join("_")).replace(/\./g,"p");if(a[j])return b.bezierData=a[j],void 0;for(k=defaultCurveSegments,q=0,t=null,2===d.length&&(d[0]!=e[0]||d[1]!=e[1])&&c(d[0],d[1],e[0],e[1],d[0]+h[0],d[1]+h[1])&&c(d[0],d[1],e[0],e[1],e[0]+i[0],e[1]+i[1])&&(k=2),u=new f(k),n=h.length,l=0;k>l;l+=1){for(s=new Array(n),p=l/(k-1),r=0,m=0;n>m;m+=1)o=bm_pow(1-p,3)*d[m]+3*bm_pow(1-p,2)*p*(d[m]+h[m])+3*(1-p)*bm_pow(p,2)*(e[m]+i[m])+bm_pow(p,3)*e[m],s[m]=o,null!==t&&(r+=bm_pow(s[m]-t[m],2));r=bm_sqrt(r),q+=r,u.points[l]=new g(r,s),t=s}u.segmentLength=q,b.bezierData=u,a[j]=u}}();return{getBezierLength:e,getNewSegment:k,buildBezierData:h,pointOnLine2D:c,pointOnLine3D:d}}function dataFunctionManager(){function a(e,f,g){var h,i,k,l,n,o,p,q,r,m=e.length;for(l=0;m>l;l+=1)if(h=e[l],"ks"in h&&!h.completed){if(h.completed=!0,h.tt&&(e[l-1].td=h.tt),i=[],k=-1,h.hasMask)for(r=h.masksProperties,o=r.length,n=0;o>n;n+=1)if(r[n].pt.k.i)d(r[n].pt.k);else for(q=r[n].pt.k.length,p=0;q>p;p+=1)r[n].pt.k[p].s&&d(r[n].pt.k[p].s[0]),r[n].pt.k[p].e&&d(r[n].pt.k[p].e[0]);0===h.ty?(h.layers=b(h.refId,f),a(h.layers,f,g)):4===h.ty?c(h.shapes):5==h.ty&&j(h,g)}}function b(a,b){for(var c=0,d=b.length;d>c;){if(b[c].id===a)return b[c].layers;c+=1}}function c(a){var b,f,g,e=a.length,h=!1;for(b=e-1;b>=0;b-=1)if("sh"==a[b].ty){if(a[b].ks.k.i)d(a[b].ks.k);else for(g=a[b].ks.k.length,f=0;g>f;f+=1)a[b].ks.k[f].s&&d(a[b].ks.k[f].s[0]),a[b].ks.k[f].e&&d(a[b].ks.k[f].e[0]);h=!0}else"gr"==a[b].ty&&c(a[b].it)}function d(a){var b,c=a.i.length;for(b=0;c>b;b+=1)a.i[b][0]+=a.v[b][0],a.i[b][1]+=a.v[b][1],a.o[b][0]+=a.v[b][0],a.o[b][1]+=a.v[b][1]}function e(a,b){var c=b?b.split("."):[100,100,100];return a[0]>c[0]?!0:c[0]>a[0]?!1:a[1]>c[1]?!0:c[1]>a[1]?!1:a[2]>c[2]?!0:c[2]>a[2]?!1:void 0}function i(b,c){b.__complete||(g(b),f(b),h(b),a(b.layers,b.assets,c),b.__complete=!0)}function j(a,b){var c,e,g,h,i,j,l,k,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C,D,E,F,G,I,H,d=a.t.d.k,f=d.length;for(e=0;f>e;e+=1){for(g=a.t.d.k[e].s,c=[],k=0,m=a.t.m.g,n=0,o=0,p=0,q=[],r=0,s=0,v=b.getFontByName(g.f),x=0,y=v.fStyle.split(" "),z="normal",A="normal",i=y.length,h=0;i>h;h+=1)"italic"===y[h].toLowerCase()?A="italic":"bold"===y[h].toLowerCase()?z="700":"black"===y[h].toLowerCase()?z="900":"medium"===y[h].toLowerCase()?z="500":"regular"===y[h].toLowerCase()||"normal"===y[h].toLowerCase()?z="400":("light"===y[h].toLowerCase()||"thin"===y[h].toLowerCase())&&(z="200");if(g.fWeight=z,g.fStyle=A,i=g.t.length,g.sz){for(B=g.sz[0],C=-1,h=0;i>h;h+=1)j=!1," "===g.t.charAt(h)?C=h:13===g.t.charCodeAt(h)&&(r=0,j=!0),b.chars?(w=b.getCharData(g.t.charAt(h),v.fStyle,v.fFamily),x=j?0:w.w*g.s/100):x=b.measureText(g.t.charAt(h),g.f,g.s),r+x>B?(-1===C?(g.t=g.t.substr(0,h)+"\r"+g.t.substr(h),i+=1):(h=C,g.t=g.t.substr(0,h)+"\r"+g.t.substr(h+1)),C=-1,r=0):r+=x;i=g.t.length}for(r=0,x=0,h=0;i>h;h+=1)if(j=!1," "===g.t.charAt(h)?l=" ":13===g.t.charCodeAt(h)?(q.push(r),s=r>s?r:s,r=0,l="",j=!0,p+=1):l=g.t.charAt(h),b.chars?(w=b.getCharData(g.t.charAt(h),v.fStyle,b.getFontByName(g.f).fFamily),x=j?0:w.w*g.s/100):x=b.measureText(l,g.f,g.s),r+=x,c.push({l:x,an:x,add:n,n:j,anIndexes:[],val:l,line:p}),2==m){if(n+=x,""==l||" "==l||h==i-1){for((""==l||" "==l)&&(n-=x);h>=o;)c[o].an=n,c[o].ind=k,c[o].extra=x,o+=1;k+=1,n=0}}else if(3==m){if(n+=x,""==l||h==i-1){for(""==l&&(n-=x);h>=o;)c[o].an=n,c[o].ind=k,c[o].extra=x,o+=1;n=0,k+=1}}else c[k].ind=k,c[k].extra=0,k+=1;if(g.l=c,s=r>s?r:s,q.push(r),g.sz)g.boxWidth=g.sz[0],g.justifyOffset=0;else switch(g.boxWidth=s,g.j){case 1:g.justifyOffset=-g.boxWidth;break;case 2:g.justifyOffset=-g.boxWidth/2;break;default:g.justifyOffset=0}for(g.lineWidths=q,D=a.t.a,u=D.length,G=[],t=0;u>t;t+=1){for(D[t].a.sc&&(g.strokeColorAnim=!0),D[t].a.sw&&(g.strokeWidthAnim=!0),(D[t].a.fc||D[t].a.fh||D[t].a.fs||D[t].a.fb)&&(g.fillColorAnim=!0),F=0,E=D[t].s.b,h=0;i>h;h+=1)c[h].anIndexes[t]=F,(1==E&&""!=c[h].val||2==E&&""!=c[h].val&&" "!=c[h].val||3==E&&(c[h].n||" "==c[h].val||h==i-1)||4==E&&(c[h].n||h==i-1))&&(1===D[t].s.rn&&G.push(F),F+=1);if(a.t.a[t].s.totalChars=F,H=-1,1===D[t].s.rn)for(h=0;i>h;h+=1)H!=c[h].anIndexes[t]&&(H=c[h].anIndexes[t],I=G.splice(Math.floor(Math.random()*G.length),1)[0]),c[h].anIndexes[t]=I}0!==u||"m"in a.t.p||(a.singleShape=!0),g.yOffset=g.lh||1.2*g.s,g.ascent=v.ascent*g.s/100}}var f=function(){function b(a){var b=a.t.d;a.t.d={k:[{s:b,t:0}]}}function c(a){var c,d=a.length;for(c=0;d>c;c+=1)5===a[c].ty&&b(a[c])}var a=[4,4,14];return function(b){if(e(a,b.v)&&(c(b.layers),b.assets)){var d,f=b.assets.length;for(d=0;f>d;d+=1)b.assets[d].layers&&c(b.assets[d].layers)}}}(),g=function(){function b(a){var c,e,f,d=a.length;for(c=0;d>c;c+=1)if("gr"===a[c].ty)b(a[c].it);else if("fl"===a[c].ty||"st"===a[c].ty)if(a[c].c.k&&a[c].c.k[0].i)for(f=a[c].c.k.length,e=0;f>e;e+=1)a[c].c.k[e].s&&(a[c].c.k[e].s[0]/=255,a[c].c.k[e].s[1]/=255,a[c].c.k[e].s[2]/=255,a[c].c.k[e].s[3]/=255),a[c].c.k[e].e&&(a[c].c.k[e].e[0]/=255,a[c].c.k[e].e[1]/=255,a[c].c.k[e].e[2]/=255,a[c].c.k[e].e[3]/=255);else a[c].c.k[0]/=255,a[c].c.k[1]/=255,a[c].c.k[2]/=255,a[c].c.k[3]/=255}function c(a){var c,d=a.length;for(c=0;d>c;c+=1)4===a[c].ty&&b(a[c].shapes)}var a=[4,1,9];return function(b){if(e(a,b.v)&&(c(b.layers),b.assets)){var d,f=b.assets.length;for(d=0;f>d;d+=1)b.assets[d].layers&&c(b.assets[d].layers)}}}(),h=function(){function b(a){var c,e,f,d=a.length,g=!1;for(c=d-1;c>=0;c-=1)if("sh"==a[c].ty){if(a[c].ks.k.i)a[c].ks.k.c=a[c].closed;else for(f=a[c].ks.k.length,e=0;f>e;e+=1)a[c].ks.k[e].s&&(a[c].ks.k[e].s[0].c=a[c].closed),a[c].ks.k[e].e&&(a[c].ks.k[e].e[0].c=a[c].closed);g=!0}else"gr"==a[c].ty&&b(a[c].it)}function c(a){var c,d,f,g,h,i,j,e=a.length;for(d=0;e>d;d+=1){if(c=a[d],c.hasMask)for(j=c.masksProperties,g=j.length,f=0;g>f;f+=1)if(j[f].pt.k.i)j[f].pt.k.c=j[f].cl;else for(i=j[f].pt.k.length,h=0;i>h;h+=1)j[f].pt.k[h].s&&(j[f].pt.k[h].s[0].c=j[f].cl),j[f].pt.k[h].e&&(j[f].pt.k[h].e[0].c=j[f].cl);4===c.ty&&b(c.shapes)}}var a=[4,4,18];return function(b){if(e(a,b.v)&&(c(b.layers),b.assets)){var d,f=b.assets.length;for(d=0;f>d;d+=1)b.assets[d].layers&&c(b.assets[d].layers)}}}(),k={};return k.completeData=i,k}function ShapeModifier(){}function TrimModifier(){}function RoundCornersModifier(){}function BaseRenderer(){}function SVGRenderer(a,b){this.animationItem=a,this.layers=null,this.renderedFrame=-1,this.globalData={frameNum:-1},this.renderConfig={preserveAspectRatio:b&&b.preserveAspectRatio||"xMidYMid meet",progressiveLoad:b&&b.progressiveLoad||!1},this.elements=[],this.pendingElements=[],this.destroyed=!1}function MaskElement(a,b,c){var d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v;for(this.dynamicProperties=[],this.data=a,this.element=b,this.globalData=c,this.paths=[],this.storedData=[],this.masksProperties=this.data.masksProperties,this.viewData=new Array(this.masksProperties.length),this.maskElement=null,this.firstFrame=!0,d=this.globalData.defs,f=this.masksProperties.length,h=this.masksProperties,i=0,j=[],m=randomString(10),r="clipPath",s="clip-path",e=0;f>e;e++)if(("a"!==h[e].mode&&"n"!==h[e].mode||h[e].inv||100!==h[e].o.k)&&(r="mask",s="mask"),"s"!=h[e].mode&&"i"!=h[e].mode||0!=i?n=null:(n=document.createElementNS(svgNS,"rect"),n.setAttribute("fill","#ffffff"),n.setAttribute("width",this.element.comp.data?this.element.comp.data.w:this.element.globalData.compSize.w),n.setAttribute("height",this.element.comp.data?this.element.comp.data.h:this.element.globalData.compSize.h),j.push(n)),g=document.createElementNS(svgNS,"path"),"n"!=h[e].mode){if(i+=1,"s"==h[e].mode?g.setAttribute("fill","#000000"):g.setAttribute("fill","#ffffff"),g.setAttribute("clip-rule","nonzero"),0!==h[e].x.k?(r="mask",s="mask",q=PropertyFactory.getProp(this.element,h[e].x,0,null,this.dynamicProperties),t="fi_"+randomString(10),o=document.createElementNS(svgNS,"filter"),o.setAttribute("id",t),p=document.createElementNS(svgNS,"feMorphology"),p.setAttribute("operator","dilate"),p.setAttribute("in","SourceGraphic"),p.setAttribute("radius","0"),o.appendChild(p),d.appendChild(o),"s"==h[e].mode?g.setAttribute("stroke","#000000"):g.setAttribute("stroke","#ffffff")):(p=null,q=null),this.storedData[e]={elem:g,x:q,expan:p,lastPath:"",lastOperator:"",filterId:t,lastRadius:0},"i"==h[e].mode){for(l=j.length,u=document.createElementNS(svgNS,"g"),k=0;l>k;k+=1)u.appendChild(j[k]);v=document.createElementNS(svgNS,"mask"),v.setAttribute("mask-type","alpha"),v.setAttribute("id",m+"_"+i),v.appendChild(g),d.appendChild(v),u.setAttribute("mask","url(#"+m+"_"+i+")"),j.length=0,j.push(u)}else j.push(g);h[e].inv&&!this.solidPath&&(this.solidPath=this.createLayerSolidPath()),this.viewData[e]={elem:g,lastPath:"",op:PropertyFactory.getProp(this.element,h[e].o,0,.01,this.dynamicProperties),prop:ShapePropertyFactory.getShapeProp(this.element,h[e],3,this.dynamicProperties,null)},n&&(this.viewData[e].invRect=n),this.viewData[e].prop.k||this.drawPath(h[e],this.viewData[e].prop.v,this.viewData[e])}else this.viewData[e]={op:PropertyFactory.getProp(this.element,h[e].o,0,.01,this.dynamicProperties),prop:ShapePropertyFactory.getShapeProp(this.element,h[e],3,this.dynamicProperties,null),elem:g},d.appendChild(g);for(this.maskElement=document.createElementNS(svgNS,r),f=j.length,e=0;f>e;e+=1)this.maskElement.appendChild(j[e]);this.maskElement.setAttribute("id",m),i>0&&this.element.maskedElement.setAttribute(s,"url(#"+m+")"),d.appendChild(this.maskElement)}function BaseElement(){}function SVGBaseElement(a,b,c,d,e){this.globalData=c,this.comp=d,this.data=a,this.matteElement=null,this.transformedElement=null,this.parentContainer=b,this.layerId=e?e.layerId:"ly_"+randomString(10),this.placeholder=e,this.init()}function ITextElement(){}function SVGTextElement(a,b,c,d,e){this.textSpans=[],this.renderType="svg",this._parent.constructor.call(this,a,b,c,d,e)}function SVGTintFilter(a,b){var c,d,e;this.filterManager=b,c=document.createElementNS(svgNS,"feColorMatrix"),c.setAttribute("type","matrix"),c.setAttribute("color-interpolation-filters","linearRGB"),c.setAttribute("values","0.3333 0.3333 0.3333 0 0 0.3333 0.3333 0.3333 0 0 0.3333 0.3333 0.3333 0 0 0 0 0 1 0"),c.setAttribute("result","f1"),a.appendChild(c),c=document.createElementNS(svgNS,"feColorMatrix"),c.setAttribute("type","matrix"),c.setAttribute("color-interpolation-filters","sRGB"),c.setAttribute("values","1 0 0 0 0 0 1 0 0 0 0 0 1 0 0 0 0 0 1 0"),c.setAttribute("result","f2"),a.appendChild(c),this.matrixFilter=c,(100!==b.effectElements[2].p.v||b.effectElements[2].p.k)&&(d=document.createElementNS(svgNS,"feMerge"),a.appendChild(d),e=document.createElementNS(svgNS,"feMergeNode"),e.setAttribute("in","SourceGraphic"),d.appendChild(e),e=document.createElementNS(svgNS,"feMergeNode"),e.setAttribute("in","f2"),d.appendChild(e))}function SVGFillFilter(a,b){this.filterManager=b;var c=document.createElementNS(svgNS,"feColorMatrix");c.setAttribute("type","matrix"),c.setAttribute("color-interpolation-filters","sRGB"),c.setAttribute("values","1 0 0 0 0 0 1 0 0 0 0 0 1 0 0 0 0 0 1 0"),a.appendChild(c),this.matrixFilter=c}function SVGStrokeEffect(a,b){this.initialized=!1,this.filterManager=b,this.elem=a,this.paths=[]}function SVGTritoneFilter(a,b){var c,d,e,f,g;this.filterManager=b,c=document.createElementNS(svgNS,"feColorMatrix"),c.setAttribute("type","matrix"),c.setAttribute("color-interpolation-filters","linearRGB"),c.setAttribute("values","0.3333 0.3333 0.3333 0 0 0.3333 0.3333 0.3333 0 0 0.3333 0.3333 0.3333 0 0 0 0 0 1 0"),c.setAttribute("result","f1"),a.appendChild(c),d=document.createElementNS(svgNS,"feComponentTransfer"),d.setAttribute("color-interpolation-filters","sRGB"),a.appendChild(d),this.matrixFilter=d,e=document.createElementNS(svgNS,"feFuncR"),e.setAttribute("type","table"),d.appendChild(e),this.feFuncR=e,f=document.createElementNS(svgNS,"feFuncG"),f.setAttribute("type","table"),d.appendChild(f),this.feFuncG=f,g=document.createElementNS(svgNS,"feFuncB"),g.setAttribute("type","table"),d.appendChild(g),this.feFuncB=g}function SVGProLevelsFilter(a,b){var c,d;this.filterManager=b,c=this.filterManager.effectElements,d=document.createElementNS(svgNS,"feComponentTransfer"),(c[9].p.k||0!==c[9].p.v||c[10].p.k||1!==c[10].p.v||c[11].p.k||1!==c[11].p.v||c[12].p.k||0!==c[12].p.v||c[13].p.k||1!==c[13].p.v)&&(this.feFuncR=this.createFeFunc("feFuncR",d)),(c[16].p.k||0!==c[16].p.v||c[17].p.k||1!==c[17].p.v||c[18].p.k||1!==c[18].p.v||c[19].p.k||0!==c[19].p.v||c[20].p.k||1!==c[20].p.v)&&(this.feFuncG=this.createFeFunc("feFuncG",d)),(c[23].p.k||0!==c[23].p.v||c[24].p.k||1!==c[24].p.v||c[25].p.k||1!==c[25].p.v||c[26].p.k||0!==c[26].p.v||c[27].p.k||1!==c[27].p.v)&&(this.feFuncB=this.createFeFunc("feFuncB",d)),(c[30].p.k||0!==c[30].p.v||c[31].p.k||1!==c[31].p.v||c[32].p.k||1!==c[32].p.v||c[33].p.k||0!==c[33].p.v||c[34].p.k||1!==c[34].p.v)&&(this.feFuncA=this.createFeFunc("feFuncA",d)),(this.feFuncR||this.feFuncG||this.feFuncB||this.feFuncA)&&(d.setAttribute("color-interpolation-filters","sRGB"),a.appendChild(d),d=document.createElementNS(svgNS,"feComponentTransfer")),(c[2].p.k||0!==c[2].p.v||c[3].p.k||1!==c[3].p.v||c[4].p.k||1!==c[4].p.v||c[5].p.k||0!==c[5].p.v||c[6].p.k||1!==c[6].p.v)&&(d.setAttribute("color-interpolation-filters","sRGB"),a.appendChild(d),this.feFuncRComposed=this.createFeFunc("feFuncR",d),this.feFuncGComposed=this.createFeFunc("feFuncG",d),this.feFuncBComposed=this.createFeFunc("feFuncB",d))}function SVGEffects(a){var b,g,c=a.data.ef.length,d=randomString(10),e=filtersFactory.createFilter(d),f=0;for(this.filters=[],b=0;c>b;b+=1)20===a.data.ef[b].ty?(f+=1,g=new SVGTintFilter(e,a.effects.effectElements[b]),this.filters.push(g)):21===a.data.ef[b].ty?(f+=1,g=new SVGFillFilter(e,a.effects.effectElements[b]),this.filters.push(g)):22===a.data.ef[b].ty?(g=new SVGStrokeEffect(a,a.effects.effectElements[b]),this.filters.push(g)):23===a.data.ef[b].ty?(f+=1,g=new SVGTritoneFilter(e,a.effects.effectElements[b]),this.filters.push(g)):24===a.data.ef[b].ty&&(f+=1,g=new SVGProLevelsFilter(e,a.effects.effectElements[b]),this.filters.push(g));f&&(a.globalData.defs.appendChild(e),a.layerElement.setAttribute("filter","url(#"+d+")"))}function ICompElement(a,b,c,d,e){this._parent.constructor.call(this,a,b,c,d,e),this.layers=a.layers,this.supports3d=!0,this.completeLayers=!1,this.pendingElements=[],this.elements=this.layers?Array.apply(null,{length:this.layers.length}):[],this.data.tm&&(this.tm=PropertyFactory.getProp(this,this.data.tm,0,c.frameRate,this.dynamicProperties)),this.data.xt?(this.layerElement=document.createElementNS(svgNS,"g"),this.buildAllItems()):c.progressiveLoad||this.buildAllItems()}function IImageElement(a,b,c,d,e){this.assetData=c.getAssetData(a.refId),this._parent.constructor.call(this,a,b,c,d,e)}function IShapeElement(a,b,c,d,e){this.shapes=[],this.shapesData=a.shapes,this.stylesList=[],this.viewData=[],this.shapeModifiers=[],this._parent.constructor.call(this,a,b,c,d,e)}function ISolidElement(a,b,c,d,e){this._parent.constructor.call(this,a,b,c,d,e)}function CanvasRenderer(a,b){this.animationItem=a,this.renderConfig={clearCanvas:b&&void 0!==b.clearCanvas?b.clearCanvas:!0,context:b&&b.context||null,progressiveLoad:b&&b.progressiveLoad||!1,preserveAspectRatio:b&&b.preserveAspectRatio||"xMidYMid meet"},this.renderConfig.dpr=b&&b.dpr||1,this.animationItem.wrapper&&(this.renderConfig.dpr=b&&b.dpr||window.devicePixelRatio||1),this.renderedFrame=-1,this.globalData={frameNum:-1},this.contextData={saved:Array.apply(null,{length:15}),savedOp:Array.apply(null,{length:15}),cArrPos:0,cTr:new Matrix,cO:1};var c,d=15;for(c=0;d>c;c+=1)this.contextData.saved[c]=Array.apply(null,{length:16});this.elements=[],this.pendingElements=[],this.transformMat=new Matrix,this.completeLayers=!1}function HybridRenderer(a){this.animationItem=a,this.layers=null,this.renderedFrame=-1,this.globalData={frameNum:-1},this.pendingElements=[],this.elements=[],this.threeDElements=[],this.destroyed=!1,this.camera=null,this.supports3d=!0}function CVBaseElement(a,b,c){this.globalData=c,this.data=a,this.comp=b,this.canvasContext=c.canvasContext,this.init()}function CVCompElement(a,b,c){var d,e,f,g,h;this._parent.constructor.call(this,a,b,c),d={};for(e in c)c.hasOwnProperty(e)&&(d[e]=c[e]);for(d.renderer=this,d.compHeight=this.data.h,d.compWidth=this.data.w,this.renderConfig={clearCanvas:!0},this.contextData={saved:Array.apply(null,{length:15}),savedOp:Array.apply(null,{length:15}),cArrPos:0,cTr:new Matrix,cO:1},this.completeLayers=!1,g=15,f=0;g>f;f+=1)this.contextData.saved[f]=Array.apply(null,{length:16});this.transformMat=new Matrix,this.parentGlobalData=this.globalData,h=document.createElement("canvas"),d.canvasContext=h.getContext("2d"),this.canvasContext=d.canvasContext,h.width=this.data.w,h.height=this.data.h,this.canvas=h,this.globalData=d,this.layers=a.layers,this.pendingElements=[],this.elements=Array.apply(null,{length:this.layers.length}),this.data.tm&&(this.tm=PropertyFactory.getProp(this,this.data.tm,0,c.frameRate,this.dynamicProperties)),(this.data.xt||!c.progressiveLoad)&&this.buildAllItems()}function CVImageElement(a,b,c){this.assetData=c.getAssetData(a.refId),this._parent.constructor.call(this,a,b,c),this.globalData.addPendingElement()}function CVMaskElement(a,b){this.data=a,this.element=b,this.dynamicProperties=[],this.masksProperties=this.data.masksProperties,this.viewData=new Array(this.masksProperties.length);var c,d=this.masksProperties.length;for(c=0;d>c;c++)this.viewData[c]=ShapePropertyFactory.getShapeProp(this.element,this.masksProperties[c],3,this.dynamicProperties,null)}function CVShapeElement(a,b,c){this.shapes=[],this.stylesList=[],this.viewData=[],this.shapeModifiers=[],this.shapesData=a.shapes,this.firstFrame=!0,this._parent.constructor.call(this,a,b,c)}function CVSolidElement(a,b,c){this._parent.constructor.call(this,a,b,c)}function CVTextElement(a,b,c){this.textSpans=[],this.yOffset=0,this.fillColorAnim=!1,this.strokeColorAnim=!1,this.strokeWidthAnim=!1,this.stroke=!1,this.fill=!1,this.justifyOffset=0,this.currentRender=null,this.renderType="canvas",this.values={fill:"rgba(0,0,0,0)",stroke:"rgba(0,0,0,0)",sWidth:0,fValue:""},this._parent.constructor.call(this,a,b,c)}function HBaseElement(a,b,c,d,e){this.globalData=c,this.comp=d,this.data=a,this.matteElement=null,this.parentContainer=b,this.layerId=e?e.layerId:"ly_"+randomString(10),this.placeholder=e,this.init()}function HSolidElement(a,b,c,d,e){this._parent.constructor.call(this,a,b,c,d,e)}function HCompElement(a,b,c,d,e){this._parent.constructor.call(this,a,b,c,d,e),this.layers=a.layers,this.supports3d=!0,this.completeLayers=!1,this.pendingElements=[],this.elements=Array.apply(null,{length:this.layers.length}),this.data.tm&&(this.tm=PropertyFactory.getProp(this,this.data.tm,0,c.frameRate,this.dynamicProperties)),this.data.hasMask&&(this.supports3d=!1),this.data.xt&&(this.layerElement=document.createElement("div")),this.buildAllItems()}function HShapeElement(a,b,c,d,e){this.shapes=[],this.shapeModifiers=[],this.shapesData=a.shapes,this.stylesList=[],this.viewData=[],this._parent.constructor.call(this,a,b,c,d,e),this.addedTransforms={mdf:!1,mats:[this.finalTransform.mat]},this.currentBBox={x:999999,y:-999999,h:0,w:0}}function HTextElement(a,b,c,d,e){this.textSpans=[],this.textPaths=[],this.currentBBox={x:999999,y:-999999,h:0,w:0},this.renderType="svg",this.isMasked=!1,this._parent.constructor.call(this,a,b,c,d,e)}function HImageElement(a,b,c,d,e){this.assetData=c.getAssetData(a.refId),this._parent.constructor.call(this,a,b,c,d,e)}function HCameraElement(a,b,c,d,e){if(this._parent.constructor.call(this,a,b,c,d,e),this.pe=PropertyFactory.getProp(this,a.pe,0,0,this.dynamicProperties),a.ks.p.s?(this.px=PropertyFactory.getProp(this,a.ks.p.x,1,0,this.dynamicProperties),this.py=PropertyFactory.getProp(this,a.ks.p.y,1,0,this.dynamicProperties),this.pz=PropertyFactory.getProp(this,a.ks.p.z,1,0,this.dynamicProperties)):this.p=PropertyFactory.getProp(this,a.ks.p,1,0,this.dynamicProperties),a.ks.a&&(this.a=PropertyFactory.getProp(this,a.ks.a,1,0,this.dynamicProperties)),a.ks.or.k.length){var f,g=a.ks.or.k.length;for(f=0;g>f;f+=1)a.ks.or.k[f].to=null,a.ks.or.k[f].ti=null}this.or=PropertyFactory.getProp(this,a.ks.or,1,degToRads,this.dynamicProperties),this.or.sh=!0,this.rx=PropertyFactory.getProp(this,a.ks.rx,0,degToRads,this.dynamicProperties),this.ry=PropertyFactory.getProp(this,a.ks.ry,0,degToRads,this.dynamicProperties),this.rz=PropertyFactory.getProp(this,a.ks.rz,0,degToRads,this.dynamicProperties),this.mat=new Matrix}function SliderEffect(a,b,c){this.p=PropertyFactory.getProp(b,a.v,0,0,c)}function AngleEffect(a,b,c){this.p=PropertyFactory.getProp(b,a.v,0,0,c)}function ColorEffect(a,b,c){this.p=PropertyFactory.getProp(b,a.v,1,0,c)}function PointEffect(a,b,c){this.p=PropertyFactory.getProp(b,a.v,1,0,c)}function LayerIndexEffect(a,b,c){this.p=PropertyFactory.getProp(b,a.v,0,0,c)}function CheckboxEffect(a,b,c){this.p=PropertyFactory.getProp(b,a.v,1,0,c)}function NoValueEffect(){this.p={}}function EffectsManager(a,b,c){var e,f,g,d=a.ef;for(this.effectElements=[],f=d.length,e=0;f>e;e++)g=new GroupEffect(d[e],b,c),this.effectElements.push(g)}function GroupEffect(a,b,c){this.dynamicProperties=[],this.init(a,b,this.dynamicProperties),this.dynamicProperties.length&&c.push(this)}function play(a){animationManager.play(a)}function pause(a){animationManager.pause(a)}function togglePause(a){animationManager.togglePause(a)}function setSpeed(a,b){animationManager.setSpeed(a,b)}function setDirection(a,b){animationManager.setDirection(a,b)}function stop(a){animationManager.stop(a)}function moveFrame(a){animationManager.moveFrame(a)}function searchAnimations(){standalone===!0?animationManager.searchAnimations(animationData,standalone,renderer):animationManager.searchAnimations()}function registerAnimation(a){return animationManager.registerAnimation(a)}function resize(){animationManager.resize()}function start(){animationManager.start()}function goToAndStop(a,b,c){animationManager.goToAndStop(a,b,c)}function setSubframeRendering(a){subframeEnabled=a}function loadAnimation(a){return standalone===!0&&(a.animationData=JSON.parse(animationData)),animationManager.loadAnimation(a)}function destroy(a){return animationManager.destroy(a)}function setQuality(a){if("string"==typeof a)switch(a){case"high":defaultCurveSegments=200;break;case"medium":defaultCurveSegments=50;break;case"low":defaultCurveSegments=10}else!isNaN(a)&&a>1&&(defaultCurveSegments=a);defaultCurveSegments>=50?roundValues(!1):roundValues(!0)}function installPlugin(a,b){"expressions"===a&&(expressionsPlugin=b)}function getFactory(a){switch(a){case"propertyFactory":return PropertyFactory;case"shapePropertyFactory":return ShapePropertyFactory;case"matrix":return Matrix}}function checkReady(){"complete"===document.readyState&&(clearInterval(readyStateCheckInterval),searchAnimations())}function getQueryVariable(a){var c,d,b=queryString.split("&");for(c=0;c<b.length;c++)if(d=b[c].split("="),decodeURIComponent(d[0])==a)return decodeURIComponent(d[1])}var expressionsPlugin,bm_rnd,defaultCurveSegments,degToRads,roundCorner,rgbToHex,fillColorToString,Matrix,BezierFactory,MatrixManager,bez,dataManager,FontManager,PropertyFactory,ShapePropertyFactory,ShapeModifiers,ImagePreloader,featureSupport,filtersFactory,animationManager,AnimationItem,parent,Expressions,ExpressionManager,ShapeExpressionInterface,LayerExpressionInterface,CompExpressionInterface,TransformExpressionInterface,ProjectInterface,EffectsExpressionInterface,bodymovinjs,standalone,animationData,renderer,scripts,index,myScript,queryString,readyStateCheckInterval,svgNS="http://www.w3.org/2000/svg",subframeEnabled=!0,isSafari=/^((?!chrome|android).)*safari/i.test(navigator.userAgent),cachedColors={},bm_rounder=Math.round,bm_pow=Math.pow,bm_sqrt=Math.sqrt,bm_abs=Math.abs,bm_floor=Math.floor,bm_max=Math.max,bm_min=Math.min,blitter=10,BMMath={};return function(){var b,a=Object.getOwnPropertyNames(Math),c=a.length;for(b=0;c>b;b+=1)BMMath[a[b]]=Math[a[b]]}(),BMMath.random=Math.random,BMMath.abs=function(a){var c,d,e,b=typeof a;if("object"===b&&a.length){for(c=Array.apply(null,{length:a.length}),e=a.length,d=0;e>d;d+=1)c[d]=Math.abs(a[d]);return c}return Math.abs(a)},defaultCurveSegments=75,degToRads=Math.PI/180,roundCorner=.5519,roundValues(!1),rgbToHex=function(){var b,c,a=[];for(b=0;256>b;b+=1)c=b.toString(16),a[b]=1==c.length?"0"+c:c;return function(b,c,d){return 0>b&&(b=0),0>c&&(c=0),0>d&&(d=0),"#"+a[b]+a[c]+a[d]}}(),fillColorToString=function(){var a=[];return function(b,c){return void 0!==c&&(b[3]=c),a[b[0]]||(a[b[0]]={}),a[b[0]][b[1]]||(a[b[0]][b[1]]={}),a[b[0]][b[1]][b[2]]||(a[b[0]][b[1]][b[2]]={}),a[b[0]][b[1]][b[2]][b[3]]||(a[b[0]][b[1]][b[2]][b[3]]="rgba("+b.join(",")+")"),a[b[0]][b[1]][b[2]][b[3]]}}(),Matrix=function(){function a(){return this.props[0]=1,this.props[1]=0,this.props[2]=0,this.props[3]=0,this.props[4]=0,this.props[5]=1,this.props[6]=0,this.props[7]=0,this.props[8]=0,this.props[9]=0,this.props[10]=1,this.props[11]=0,this.props[12]=0,this.props[13]=0,this.props[14]=0,this.props[15]=1,this}function b(a){var b,c;return 0===a?this:(b=Math.cos(a),c=Math.sin(a),this._t(b,-c,0,0,c,b,0,0,0,0,1,0,0,0,0,1))}function c(a){var b,c;return 0===a?this:(b=Math.cos(a),c=Math.sin(a),this._t(1,0,0,0,0,b,-c,0,0,c,b,0,0,0,0,1))}function d(a){var b,c;return 0===a?this:(b=Math.cos(a),c=Math.sin(a),this._t(b,0,c,0,0,1,0,0,-c,0,b,0,0,0,0,1))}function e(a){var b,c;return 0===a?this:(b=Math.cos(a),c=Math.sin(a),this._t(b,-c,0,0,c,b,0,0,0,0,1,0,0,0,0,1))}function f(a,b){return this._t(1,b,a,1,0,0)}function g(a,b){return this.shear(Math.tan(a),Math.tan(b))}function h(a,b){var c=Math.cos(b),d=Math.sin(b);return this._t(c,d,0,0,-d,c,0,0,0,0,1,0,0,0,0,1)._t(1,0,0,0,Math.tan(a),1,0,0,0,0,1,0,0,0,0,1)._t(c,-d,0,0,d,c,0,0,0,0,1,0,0,0,0,1)}function i(a,b,c){return c=isNaN(c)?1:c,1==a&&1==b&&1==c?this:this._t(a,0,0,0,0,b,0,0,0,0,c,0,0,0,0,1)}function j(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p){return this.props[0]=a,this.props[1]=b,this.props[2]=c,this.props[3]=d,this.props[4]=e,this.props[5]=f,this.props[6]=g,this.props[7]=h,this.props[8]=i,this.props[9]=j,this.props[10]=k,this.props[11]=l,this.props[12]=m,this.props[13]=n,this.props[14]=o,this.props[15]=p,this
}function k(a,b,c){return c=c||0,0!==a||0!==b||0!==c?this._t(1,0,0,0,0,1,0,0,0,0,1,0,a,b,c,1):this}function l(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p){var q,r,s,t,u,v,w,x,y,z,A,B,C,D,E,F;return 1===a&&0===b&&0===c&&0===d&&0===e&&1===f&&0===g&&0===h&&0===i&&0===j&&1===k&&0===l?((0!==m||0!==n||0!==o)&&(this.props[12]=this.props[12]*a+this.props[13]*e+this.props[14]*i+this.props[15]*m,this.props[13]=this.props[12]*b+this.props[13]*f+this.props[14]*j+this.props[15]*n,this.props[14]=this.props[12]*c+this.props[13]*g+this.props[14]*k+this.props[15]*o,this.props[15]=this.props[12]*d+this.props[13]*h+this.props[14]*l+this.props[15]*p),this):(q=this.props[0],r=this.props[1],s=this.props[2],t=this.props[3],u=this.props[4],v=this.props[5],w=this.props[6],x=this.props[7],y=this.props[8],z=this.props[9],A=this.props[10],B=this.props[11],C=this.props[12],D=this.props[13],E=this.props[14],F=this.props[15],this.props[0]=q*a+r*e+s*i+t*m,this.props[1]=q*b+r*f+s*j+t*n,this.props[2]=q*c+r*g+s*k+t*o,this.props[3]=q*d+r*h+s*l+t*p,this.props[4]=u*a+v*e+w*i+x*m,this.props[5]=u*b+v*f+w*j+x*n,this.props[6]=u*c+v*g+w*k+x*o,this.props[7]=u*d+v*h+w*l+x*p,this.props[8]=y*a+z*e+A*i+B*m,this.props[9]=y*b+z*f+A*j+B*n,this.props[10]=y*c+z*g+A*k+B*o,this.props[11]=y*d+z*h+A*l+B*p,this.props[12]=C*a+D*e+E*i+F*m,this.props[13]=C*b+D*f+E*j+F*n,this.props[14]=C*c+D*g+E*k+F*o,this.props[15]=C*d+D*h+E*l+F*p,this)}function m(a){var b;for(b=0;16>b;b+=1)a.props[b]=this.props[b]}function n(a){var b;for(b=0;16>b;b+=1)this.props[b]=a[b]}function o(a,b,c){return{x:a*this.props[0]+b*this.props[4]+c*this.props[8]+this.props[12],y:a*this.props[1]+b*this.props[5]+c*this.props[9]+this.props[13],z:a*this.props[2]+b*this.props[6]+c*this.props[10]+this.props[14]}}function p(a,b,c){return a*this.props[0]+b*this.props[4]+c*this.props[8]+this.props[12]}function q(a,b,c){return a*this.props[1]+b*this.props[5]+c*this.props[9]+this.props[13]}function r(a,b,c){return a*this.props[2]+b*this.props[6]+c*this.props[10]+this.props[14]}function s(a){var i,b=this.props[0]*this.props[5]-this.props[1]*this.props[4],c=this.props[5]/b,d=-this.props[1]/b,e=-this.props[4]/b,f=this.props[0]/b,g=(this.props[4]*this.props[13]-this.props[5]*this.props[12])/b,h=-(this.props[0]*this.props[13]-this.props[1]*this.props[12])/b,j=a.length,k=[];for(i=0;j>i;i+=1)k[i]=[a[i][0]*c+a[i][1]*e+g,a[i][0]*d+a[i][1]*f+h,0];return k}function t(a,b,c){return[a*this.props[0]+b*this.props[4]+c*this.props[8]+this.props[12],a*this.props[1]+b*this.props[5]+c*this.props[9]+this.props[13],a*this.props[2]+b*this.props[6]+c*this.props[10]+this.props[14]]}function u(a,b){return bm_rnd(a*this.props[0]+b*this.props[4]+this.props[12])+","+bm_rnd(a*this.props[1]+b*this.props[5]+this.props[13])}function v(){return[this.props[0],this.props[1],this.props[2],this.props[3],this.props[4],this.props[5],this.props[6],this.props[7],this.props[8],this.props[9],this.props[10],this.props[11],this.props[12],this.props[13],this.props[14],this.props[15]]}function w(){return isSafari?"matrix3d("+roundTo2Decimals(this.props[0])+","+roundTo2Decimals(this.props[1])+","+roundTo2Decimals(this.props[2])+","+roundTo2Decimals(this.props[3])+","+roundTo2Decimals(this.props[4])+","+roundTo2Decimals(this.props[5])+","+roundTo2Decimals(this.props[6])+","+roundTo2Decimals(this.props[7])+","+roundTo2Decimals(this.props[8])+","+roundTo2Decimals(this.props[9])+","+roundTo2Decimals(this.props[10])+","+roundTo2Decimals(this.props[11])+","+roundTo2Decimals(this.props[12])+","+roundTo2Decimals(this.props[13])+","+roundTo2Decimals(this.props[14])+","+roundTo2Decimals(this.props[15])+")":(this.cssParts[1]=this.props.join(","),this.cssParts.join(""))}function x(){return"matrix("+this.props[0]+","+this.props[1]+","+this.props[4]+","+this.props[5]+","+this.props[12]+","+this.props[13]+")"}function y(){return""+this.toArray()}return function(){this.reset=a,this.rotate=b,this.rotateX=c,this.rotateY=d,this.rotateZ=e,this.skew=g,this.skewFromAxis=h,this.shear=f,this.scale=i,this.setTransform=j,this.translate=k,this.transform=l,this.applyToPoint=o,this.applyToX=p,this.applyToY=q,this.applyToZ=r,this.applyToPointArray=t,this.applyToPointStringified=u,this.toArray=v,this.toCSS=w,this.to2dCSS=x,this.toString=y,this.clone=m,this.cloneFromProps=n,this.inversePoints=s,this._t=this.transform,this.props=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],this.cssParts=["matrix3d(","",")"]}}(),function(a,b){function m(c,f,k){var m,t,u,l=[];return f=1==f?{entropy:!0}:f||{},m=q(p(f.entropy?[c,s(a)]:null==c?r():c,3),l),t=new n(l),u=function(){for(var a=t.g(e),b=h,c=0;i>a;)a=(a+c)*d,b*=d,c=t.g(1);for(;a>=j;)a/=2,b/=2,c>>>=1;return(a+c)/b},u.int32=function(){return 0|t.g(4)},u.quick=function(){return t.g(4)/4294967296},u.double=u,q(s(t.S),a),(f.pass||k||function(a,c,d,e){return e&&(e.S&&o(e,t),a.state=function(){return o(t,{})}),d?(b[g]=a,c):a})(u,m,"global"in f?f.global:this==b,f.state)}function n(a){var b,c=a.length,e=this,f=0,g=e.i=e.j=0,h=e.S=[];for(c||(a=[c++]);d>f;)h[f]=f++;for(f=0;d>f;f++)h[f]=h[g=k&g+a[f%c]+(b=h[f])],h[g]=b;(e.g=function(a){for(var b,c=0,f=e.i,g=e.j,h=e.S;a--;)b=h[f=k&f+1],c=c*d+h[k&(h[f]=h[g=k&g+b])+(h[g]=b)];return e.i=f,e.j=g,c})(d)}function o(a,b){return b.i=a.i,b.j=a.j,b.S=a.S.slice(),b}function p(a,b){var e,c=[],d=typeof a;if(b&&"object"==d)for(e in a)try{c.push(p(a[e],b-1))}catch(f){}return c.length?c:"string"==d?a:a+"\0"}function q(a,b){for(var d,c=a+"",e=0;e<c.length;)b[k&e]=k&(d^=19*b[k&e])+c.charCodeAt(e++);return s(b)}function r(){var b,f,g;try{return l?s(l.randomBytes(d)):(b=new Uint8Array(d),(c.crypto||c.msCrypto).getRandomValues(b),s(b))}catch(e){return f=c.navigator,g=f&&f.plugins,[+new Date,c,g,c.screen,s(a)]}}function s(a){return String.fromCharCode.apply(0,a)}var l,c=this,d=256,e=6,f=52,g="random",h=b.pow(d,e),i=b.pow(2,f),j=2*i,k=d-1;b["seed"+g]=m,q(b.random(),a)}([],BMMath),BezierFactory=function(){function c(a,c,d,e,f){var h,g=f||("bez_"+a+"_"+c+"_"+d+"_"+e).replace(/\./g,"p");return b[g]?b[g]:(h=new r([a,c,d,e]),b[g]=h,h)}function k(a,b){return 1-3*b+3*a}function l(a,b){return 3*b-6*a}function m(a){return 3*a}function n(a,b,c){return((k(b,c)*a+l(b,c))*a+m(b))*a}function o(a,b,c){return 3*k(b,c)*a*a+2*l(b,c)*a+m(b)}function p(a,b,c,d,e){var h,i,j=0;do i=b+(c-b)/2,h=n(i,d,e)-a,h>0?c=i:b=i;while(Math.abs(h)>f&&++j<g);return i}function q(a,b,c,e){var f,g,h;for(f=0;d>f;++f){if(g=o(b,c,e),0===g)return b;h=n(b,c,e)-a,b-=h/g}return b}function r(a){this._p=a,this._mSampleValues=j?new Float32Array(h):new Array(h),this._precomputed=!1,this.get=this.get.bind(this)}var b,d,e,f,g,h,i,j,a={};return a.getBezierEasing=c,b={},d=4,e=.001,f=1e-7,g=10,h=11,i=1/(h-1),j="function"==typeof Float32Array,r.prototype={get:function(a){var b=this._p[0],c=this._p[1],d=this._p[2],e=this._p[3];return this._precomputed||this._precompute(),b===c&&d===e?a:0===a?0:1===a?1:n(this._getTForX(a),c,e)},_precompute:function(){var a=this._p[0],b=this._p[1],c=this._p[2],d=this._p[3];this._precomputed=!0,(a!==b||c!==d)&&this._calcSampleValues()},_calcSampleValues:function(){var c,a=this._p[0],b=this._p[2];for(c=0;h>c;++c)this._mSampleValues[c]=n(c*i,a,b)},_getTForX:function(a){for(var k,l,m,b=this._p[0],c=this._p[2],d=this._mSampleValues,f=0,g=1,j=h-1;g!==j&&d[g]<=a;++g)f+=i;return--g,k=(a-d[g])/(d[g+1]-d[g]),l=f+k*i,m=o(l,b,c),m>=e?q(a,l,b,c):0===m?l:p(a,f,f+i,b,c)}},a}(),MatrixManager=matrixManagerFunction,function(){var c,a=0,b=["ms","moz","webkit","o"];for(c=0;c<b.length&&!window.requestAnimationFrame;++c)window.requestAnimationFrame=window[b[c]+"RequestAnimationFrame"],window.cancelAnimationFrame=window[b[c]+"CancelAnimationFrame"]||window[b[c]+"CancelRequestAnimationFrame"];window.requestAnimationFrame||(window.requestAnimationFrame=function(b){var d=(new Date).getTime(),e=Math.max(0,16-(d-a)),f=window.setTimeout(function(){b(d+e)},e);return a=d+e,f}),window.cancelAnimationFrame||(window.cancelAnimationFrame=function(a){clearTimeout(a)})}(),bez=bezFunction(),dataManager=dataFunctionManager(),FontManager=function(){function b(a,b){var d,e,c=document.createElement("span");return c.style.fontFamily=b,d=document.createElement("span"),d.innerHTML="giItT1WQy@!-/#",c.style.position="absolute",c.style.left="-10000px",c.style.top="-10000px",c.style.fontSize="300px",c.style.fontVariant="normal",c.style.fontStyle="normal",c.style.fontWeight="normal",c.style.letterSpacing="0",c.appendChild(d),document.body.appendChild(c),e=d.offsetWidth,d.style.fontFamily=a+", "+b,{node:d,w:e,parent:c}}function c(){var b,e,f,d=this.fonts.length,g=d;for(b=0;d>b;b+=1)if(this.fonts[b].loaded)g-=1;else if("t"===this.fonts[b].fOrigin){if(window.Typekit&&window.Typekit.load&&0===this.typekitLoaded){this.typekitLoaded=1;try{window.Typekit.load({async:!0,active:function(){this.typekitLoaded=2}.bind(this)})}catch(h){}}2===this.typekitLoaded&&(this.fonts[b].loaded=!0)}else"n"===this.fonts[b].fOrigin?this.fonts[b].loaded=!0:(e=this.fonts[b].monoCase.node,f=this.fonts[b].monoCase.w,e.offsetWidth!==f?(g-=1,this.fonts[b].loaded=!0):(e=this.fonts[b].sansCase.node,f=this.fonts[b].sansCase.w,e.offsetWidth!==f&&(g-=1,this.fonts[b].loaded=!0)),this.fonts[b].loaded&&(this.fonts[b].sansCase.parent.parentNode.removeChild(this.fonts[b].sansCase.parent),this.fonts[b].monoCase.parent.parentNode.removeChild(this.fonts[b].monoCase.parent)));0!==g&&Date.now()-this.initTime<a?setTimeout(c.bind(this),20):setTimeout(function(){this.loaded=!0}.bind(this),0)}function d(a,b){var d,c=document.createElementNS(svgNS,"text");return c.style.fontSize="100px",c.style.fontFamily=b.fFamily,c.textContent="1",b.fClass?(c.style.fontFamily="inherit",c.className=b.fClass):c.style.fontFamily=b.fFamily,a.appendChild(c),d=document.createElement("canvas").getContext("2d"),d.font="100px "+b.fFamily,d}function e(a,e){var f,g,h,i,j,k;if(!a)return this.loaded=!0,void 0;if(this.chars)return this.loaded=!0,this.fonts=a.list,void 0;for(f=a.list,h=f.length,g=0;h>g;g+=1)f[g].loaded=!1,f[g].monoCase=b(f[g].fFamily,"monospace"),f[g].sansCase=b(f[g].fFamily,"sans-serif"),f[g].fPath?"p"===f[g].fOrigin?(i=document.createElement("style"),i.type="text/css",i.innerHTML="@font-face {font-family: "+f[g].fFamily+"; font-style: normal; src: url('"+f[g].fPath+"');}",e.appendChild(i)):"g"===f[g].fOrigin?(j=document.createElement("link"),j.type="text/css",j.rel="stylesheet",j.href=f[g].fPath,e.appendChild(j)):"t"===f[g].fOrigin&&(k=document.createElement("script"),k.setAttribute("src",f[g].fPath),e.appendChild(k)):f[g].loaded=!0,f[g].helper=d(e,f[g]),this.fonts.push(f[g]);c.bind(this)()}function f(a){var b,c,d,f,e;if(a)for(this.chars||(this.chars=[]),c=a.length,e=this.chars.length,b=0;c>b;b+=1){for(d=0,f=!1;e>d;)this.chars[d].style===a[b].style&&this.chars[d].fFamily===a[b].fFamily&&this.chars[d].ch===a[b].ch&&(f=!0),d+=1;f||(this.chars.push(a[b]),e+=1)}}function g(a,b,c){for(var d=0,e=this.chars.length;e>d;){if(this.chars[d].ch===a&&this.chars[d].style===b&&this.chars[d].fFamily===c)return this.chars[d];d+=1}}function h(a,b,c){var d=this.getFontByName(b),e=d.helper;return e.measureText(a).width*c/100}function i(a){for(var b=0,c=this.fonts.length;c>b;){if(this.fonts[b].fName===a)return this.fonts[b];b+=1}return"sans-serif"}var a=5e3,j=function(){this.fonts=[],this.chars=null,this.typekitLoaded=0,this.loaded=!1,this.initTime=Date.now()};return j.prototype.addChars=f,j.prototype.addFonts=e,j.prototype.getCharData=g,j.prototype.getFontByName=i,j.prototype.measureText=h,j}(),PropertyFactory=function(){function b(){var b,c,d,e,f,g,h,i,j,k,l,n,m,o,p,q,r,s,t,u,v,w,y,x,z,A;if(this.elem.globalData.frameId!==this.frameId){if(this.mdf=!1,b=this.comp.renderedFrame-this.offsetTime,b===this.lastFrame||this.lastFrame!==a&&(this.lastFrame>=this.keyframes[this.keyframes.length-1].t-this.offsetTime&&b>=this.keyframes[this.keyframes.length-1].t-this.offsetTime||this.lastFrame<this.keyframes[0].t-this.offsetTime&&b<this.keyframes[0].t-this.offsetTime));else{for(c=0,d=this.keyframes.length-1,e=1,f=!0;f;){if(g=this.keyframes[c],h=this.keyframes[c+1],c==d-1&&b>=h.t-this.offsetTime){g.h&&(g=h);break}if(h.t-this.offsetTime>b)break;d-1>c?c+=e:f=!1}if(m=0,g.to)if(g.bezierData||bez.buildBezierData(g),o=g.bezierData,b>=h.t-this.offsetTime||b<g.t-this.offsetTime)for(p=b>=h.t-this.offsetTime?o.points.length-1:0,j=o.points[p].point.length,i=0;j>i;i+=1)this.v[i]=this.mult?o.points[p].point[i]*this.mult:o.points[p].point[i],this.pv[i]=o.points[p].point[i],this.lastPValue[i]!==this.pv[i]&&(this.mdf=!0,this.lastPValue[i]=this.pv[i]);else for(g.__fnct?n=g.__fnct:(n=BezierFactory.getBezierEasing(g.o.x,g.o.y,g.i.x,g.i.y,g.n).get,g.__fnct=n),k=n((b-(g.t-this.offsetTime))/(h.t-this.offsetTime-(g.t-this.offsetTime))),q=o.segmentLength*k,s=0,e=1,f=!0,l=o.points.length;f;){if(s+=o.points[m].partialLength*e,0===q||0===k||m==o.points.length-1){for(j=o.points[m].point.length,i=0;j>i;i+=1)this.v[i]=this.mult?o.points[m].point[i]*this.mult:o.points[m].point[i],this.pv[i]=o.points[m].point[i],this.lastPValue[i]!==this.pv[i]&&(this.mdf=!0,this.lastPValue[i]=this.pv[i]);break}if(q>=s&&q<s+o.points[m+1].partialLength){for(r=(q-s)/o.points[m+1].partialLength,j=o.points[m].point.length,i=0;j>i;i+=1)this.v[i]=this.mult?(o.points[m].point[i]+(o.points[m+1].point[i]-o.points[m].point[i])*r)*this.mult:o.points[m].point[i]+(o.points[m+1].point[i]-o.points[m].point[i])*r,this.pv[i]=o.points[m].point[i]+(o.points[m+1].point[i]-o.points[m].point[i])*r,this.lastPValue[i]!==this.pv[i]&&(this.mdf=!0,this.lastPValue[i]=this.pv[i]);break}l-1>m&&1==e||m>0&&-1==e?m+=e:f=!1}else for(x=!1,d=g.s.length,c=0;d>c;c+=1)1!==g.h&&(g.o.x instanceof Array?(x=!0,g.__fnct||(g.__fnct=[]),g.__fnct[c]||(t=g.o.x[c]||g.o.x[0],u=g.o.y[c]||g.o.y[0],v=g.i.x[c]||g.i.x[0],w=g.i.y[c]||g.i.y[0])):(x=!1,g.__fnct||(t=g.o.x,u=g.o.y,v=g.i.x,w=g.i.y)),x?g.__fnct[c]?n=g.__fnct[c]:(n=BezierFactory.getBezierEasing(t,u,v,w).get,g.__fnct[c]=n):g.__fnct?n=g.__fnct:(n=BezierFactory.getBezierEasing(t,u,v,w).get,g.__fnct=n),k=b>=h.t-this.offsetTime?1:b<g.t-this.offsetTime?0:n((b-(g.t-this.offsetTime))/(h.t-this.offsetTime-(g.t-this.offsetTime)))),this.sh&&1!==g.h?(z=g.s[c],A=g.e[c],-180>z-A?z+=360:z-A>180&&(z-=360),y=z+(A-z)*k):y=1===g.h?g.s[c]:g.s[c]+(g.e[c]-g.s[c])*k,1===d?(this.v=this.mult?y*this.mult:y,this.pv=y,this.lastPValue!=this.pv&&(this.mdf=!0,this.lastPValue=this.pv)):(this.v[c]=this.mult?y*this.mult:y,this.pv[c]=y,this.lastPValue[c]!==this.pv[c]&&(this.mdf=!0,this.lastPValue[c]=this.pv[c]))}this.lastFrame=b,this.frameId=this.elem.globalData.frameId}}function c(){}function d(a,b,d){this.mult=d,this.v=d?b.k*d:b.k,this.pv=b.k,this.mdf=!1,this.comp=a.comp,this.k=!1,this.kf=!1,this.vel=0,this.getValue=c}function e(a,b,d){var e,f,g;for(this.mult=d,this.data=b,this.mdf=!1,this.comp=a.comp,this.k=!1,this.kf=!1,this.frameId=-1,this.v=new Array(b.k.length),this.pv=new Array(b.k.length),this.lastValue=new Array(b.k.length),e=Array.apply(null,{length:b.k.length}),this.vel=e.map(function(){return 0}),g=b.k.length,f=0;g>f;f+=1)this.v[f]=d?b.k[f]*d:b.k[f],this.pv[f]=b.k[f];this.getValue=c}function f(c,d,e){this.keyframes=d.k,this.offsetTime=c.data.st,this.lastValue=-99999,this.lastPValue=-99999,this.frameId=-1,this.k=!0,this.kf=!0,this.data=d,this.mult=e,this.elem=c,this.comp=c.comp,this.lastFrame=a,this.v=e?d.k[0].s[0]*e:d.k[0].s[0],this.pv=d.k[0].s[0],this.getValue=b}function g(c,d,e){var f,h,i,j,k,g=d.k.length;for(f=0;g-1>f;f+=1)d.k[f].to&&d.k[f].s&&d.k[f].e&&(h=d.k[f].s,i=d.k[f].e,j=d.k[f].to,k=d.k[f].ti,(2===h.length&&(h[0]!==i[0]||h[1]!==i[1])&&bez.pointOnLine2D(h[0],h[1],i[0],i[1],h[0]+j[0],h[1]+j[1])&&bez.pointOnLine2D(h[0],h[1],i[0],i[1],i[0]+k[0],i[1]+k[1])||3===h.length&&(h[0]!==i[0]||h[1]!==i[1]||h[2]!==i[2])&&bez.pointOnLine3D(h[0],h[1],h[2],i[0],i[1],i[2],h[0]+j[0],h[1]+j[1],h[2]+j[2])&&bez.pointOnLine3D(h[0],h[1],h[2],i[0],i[1],i[2],i[0]+k[0],i[1]+k[1],i[2]+k[2]))&&(d.k[f].to=null,d.k[f].ti=null));this.keyframes=d.k,this.offsetTime=c.data.st,this.k=!0,this.kf=!0,this.mult=e,this.elem=c,this.comp=c.comp,this.getValue=b,this.frameId=-1,this.v=new Array(d.k[0].s.length),this.pv=new Array(d.k[0].s.length),this.lastValue=new Array(d.k[0].s.length),this.lastPValue=new Array(d.k[0].s.length),this.lastFrame=a}function i(a,b,c,i,j){var k;if(2===c)k=new h(a,b,j);else if(0===b.a)k=0===c?new d(a,b,i):new e(a,b,i);else if(1===b.a)k=0===c?new f(a,b,i):new g(a,b,i);else if(b.k.length)if("number"==typeof b.k[0])k=new e(a,b,i);else switch(c){case 0:k=new f(a,b,i);break;case 1:k=new g(a,b,i)}else k=new d(a,b,i);return k.k&&j.push(k),k}function l(a,b,c,d){return new k(a,b,c,d)}function n(a,b,c){return new m(a,b,c)}var a=-999999,h=function(){function a(){return this.p.k&&this.p.getValue(),this.p.v.key||(this.p.v.key=function(a){return this.p.v.numKeys?this.p.keyframes[a-1].t:0}.bind(this)),this.p.v.numKeys||(this.p.v.numKeys=this.p.keyframes?this.p.keyframes.length:0),this.p.v.valueAtTime||(this.p.v.valueAtTime=this.p.getValueAtTime.bind(this.p)),this.p.v}function b(){return this.px.k&&this.px.getValue(),this.px.v}function c(){return this.py.k&&this.py.getValue(),this.py.v}function e(){return this.a.k&&this.a.getValue(),this.a.v}function f(){return this.or.k&&this.or.getValue(),this.or.v}function g(){return this.r.k&&this.r.getValue(),this.r.v/degToRads}function h(){return this.s.k&&this.s.getValue(),this.s.v}function i(){return this.o.k&&this.o.getValue(),this.o.v}function j(){return this.sk.k&&this.sk.getValue(),this.sk.v}function k(){return this.sa.k&&this.sa.getValue(),this.sa.v}function l(a){var b,c=this.dynamicProperties.length;for(b=0;c>b;b+=1)this.dynamicProperties[b].getValue(),this.dynamicProperties[b].mdf&&(this.mdf=!0);this.a&&a.translate(-this.a.v[0],-this.a.v[1],this.a.v[2]),this.s&&a.scale(this.s.v[0],this.s.v[1],this.s.v[2]),this.r?a.rotate(-this.r.v):a.rotateZ(-this.rz.v).rotateY(this.ry.v).rotateX(this.rx.v).rotateZ(-this.or.v[2]).rotateY(this.or.v[1]).rotateX(this.or.v[0]),this.data.p.s?this.data.p.z?a.translate(this.px.v,this.py.v,-this.pz.v):a.translate(this.px.v,this.py.v,0):a.translate(this.p.v[0],this.p.v[1],-this.p.v[2])}function m(){var a,b,c,d;if(this.elem.globalData.frameId!==this.frameId){for(this.mdf=!1,b=this.dynamicProperties.length,a=0;b>a;a+=1)this.dynamicProperties[a].getValue(),this.dynamicProperties[a].mdf&&(this.mdf=!0);this.mdf&&(this.v.reset(),this.a&&this.v.translate(-this.a.v[0],-this.a.v[1],this.a.v[2]),this.s&&this.v.scale(this.s.v[0],this.s.v[1],this.s.v[2]),this.sk&&this.v.skewFromAxis(-this.sk.v,this.sa.v),this.r?this.v.rotate(-this.r.v):this.v.rotateZ(-this.rz.v).rotateY(this.ry.v).rotateX(this.rx.v).rotateZ(-this.or.v[2]).rotateY(this.or.v[1]).rotateX(this.or.v[0]),this.autoOriented&&this.p.keyframes&&this.p.getValueAtTime&&(this.p.lastFrame+this.p.offsetTime<this.p.keyframes[0].t?(c=this.p.getValueAtTime(this.p.keyframes[0].t+.01,0),d=this.p.getValueAtTime(this.p.keyframes[0].t,0)):this.p.lastFrame+this.p.offsetTime>this.p.keyframes[this.p.keyframes.length-1].t?(c=this.p.getValueAtTime(this.p.keyframes[this.p.keyframes.length-1].t,0),d=this.p.getValueAtTime(this.p.keyframes[this.p.keyframes.length-1].t-.01,0)):(c=this.p.pv,d=this.p.getValueAtTime(this.p.lastFrame+this.p.offsetTime-.01,this.p.offsetTime)),this.v.rotate(-Math.atan2(c[1]-d[1],c[0]-d[0]))),this.data.p.s?this.data.p.z?this.v.translate(this.px.v,this.py.v,-this.pz.v):this.v.translate(this.px.v,this.py.v,0):this.v.translate(this.p.v[0],this.p.v[1],-this.p.v[2])),this.frameId=this.elem.globalData.frameId}}function n(){this.inverted=!0,this.iv=new Matrix,this.k||(this.data.p.s?this.iv.translate(this.px.v,this.py.v,-this.pz.v):this.iv.translate(this.p.v[0],this.p.v[1],-this.p.v[2]),this.r?this.iv.rotate(-this.r.v):this.iv.rotateX(-this.rx.v).rotateY(-this.ry.v).rotateZ(this.rz.v),this.s&&this.iv.scale(this.s.v[0],this.s.v[1],1),this.a&&this.iv.translate(-this.a.v[0],-this.a.v[1],this.a.v[2]))}function o(){}return function(d,p,q){this.elem=d,this.frameId=-1,this.dynamicProperties=[],this.mdf=!1,this.data=p,this.getValue=m,this.applyToMatrix=l,this.setInverted=n,this.autoOrient=o,this.v=new Matrix,p.p.s?(this.px=PropertyFactory.getProp(d,p.p.x,0,0,this.dynamicProperties),this.py=PropertyFactory.getProp(d,p.p.y,0,0,this.dynamicProperties),p.p.z&&(this.pz=PropertyFactory.getProp(d,p.p.z,0,0,this.dynamicProperties))):this.p=PropertyFactory.getProp(d,p.p,1,0,this.dynamicProperties),p.r?this.r=PropertyFactory.getProp(d,p.r,0,degToRads,this.dynamicProperties):p.rx&&(this.rx=PropertyFactory.getProp(d,p.rx,0,degToRads,this.dynamicProperties),this.ry=PropertyFactory.getProp(d,p.ry,0,degToRads,this.dynamicProperties),this.rz=PropertyFactory.getProp(d,p.rz,0,degToRads,this.dynamicProperties),this.or=PropertyFactory.getProp(d,p.or,0,degToRads,this.dynamicProperties)),p.sk&&(this.sk=PropertyFactory.getProp(d,p.sk,0,degToRads,this.dynamicProperties),this.sa=PropertyFactory.getProp(d,p.sa,0,degToRads,this.dynamicProperties)),p.a&&(this.a=PropertyFactory.getProp(d,p.a,1,0,this.dynamicProperties)),p.s&&(this.s=PropertyFactory.getProp(d,p.s,1,.01,this.dynamicProperties)),this.o=p.o?PropertyFactory.getProp(d,p.o,0,.01,q):{mdf:!1,v:1},this.dynamicProperties.length?q.push(this):(this.a&&this.v.translate(-this.a.v[0],-this.a.v[1],this.a.v[2]),this.s&&this.v.scale(this.s.v[0],this.s.v[1],this.s.v[2]),this.sk&&this.v.skewFromAxis(-this.sk.v,this.sa.v),this.r?this.v.rotate(-this.r.v):this.v.rotateZ(-this.rz.v).rotateY(this.ry.v).rotateX(this.rx.v).rotateZ(-this.or.v[2]).rotateY(this.or.v[1]).rotateX(this.or.v[0]),this.data.p.s?p.p.z?this.v.translate(this.px.v,this.py.v,-this.pz.v):this.v.translate(this.px.v,this.py.v,0):this.v.translate(this.p.v[0],this.p.v[1],-this.p.v[2])),Object.defineProperty(this,"position",{get:a}),Object.defineProperty(this,"xPosition",{get:b}),Object.defineProperty(this,"yPosition",{get:c}),Object.defineProperty(this,"orientation",{get:f}),Object.defineProperty(this,"anchorPoint",{get:e}),Object.defineProperty(this,"rotation",{get:g}),Object.defineProperty(this,"scale",{get:h}),Object.defineProperty(this,"opacity",{get:i}),Object.defineProperty(this,"skew",{get:j}),Object.defineProperty(this,"skewAxis",{get:k})}}(),j=function(){function a(a){var b,c,d,e;if(this.prop.getValue(),this.cmdf=!1,this.omdf=!1,this.prop.mdf||a){for(c=4*this.data.p,b=0;c>b;b+=1)d=0===b%4?100:255,e=Math.round(this.prop.v[b]*d),this.c[b]!==e&&(this.c[b]=e,this.cmdf=!0);if(this.o.length)for(c=this.prop.v.length,b=4*this.data.p;c>b;b+=1)d=0===b%2?100:1,e=0===b%2?Math.round(100*this.prop.v[b]):this.prop.v[b],this.o[b-4*this.data.p]!==e&&(this.o[b-4*this.data.p]=e,this.omdf=!0)}}function b(b,c,d){this.prop=i(b,c.k,1,null,[]),this.data=c,this.k=this.prop.k,this.c=Array.apply(null,{length:4*c.p});var e=c.k.k[0].s?c.k.k[0].s.length-4*c.p:c.k.k.length-4*c.p;this.o=Array.apply(null,{length:e}),this.cmdf=!1,this.omdf=!1,this.getValue=a,this.prop.k&&d.push(this),this.getValue(!0)}return function(a,c,d){return new b(a,c,d)}}(),k=function(){function a(a){var b=0,c=this.dataProps.length;if(this.elem.globalData.frameId!==this.frameId||a){for(this.mdf=!1,this.frameId=this.elem.globalData.frameId;c>b;){if(this.dataProps[b].p.mdf){this.mdf=!0;break}b+=1}if(this.mdf||a)for("svg"===this.renderer&&(this.dasharray=""),b=0;c>b;b+=1)"o"!=this.dataProps[b].n?"svg"===this.renderer?this.dasharray+=" "+this.dataProps[b].p.v:this.dasharray[b]=this.dataProps[b].p.v:this.dashoffset=this.dataProps[b].p.v}}return function(b,c,d,e){this.elem=b,this.frameId=-1,this.dataProps=new Array(c.length),this.renderer=d,this.mdf=!1,this.k=!1,this.dasharray="svg"===this.renderer?"":new Array(c.length-1),this.dashoffset=0;var f,h,g=c.length;for(f=0;g>f;f+=1)h=PropertyFactory.getProp(b,c[f].v,0,0,e),this.k=h.k?!0:this.k,this.dataProps[f]={n:c[f].n,p:h};this.getValue=a,this.k?e.push(this):this.getValue(!0)}}(),m=function(){function d(){var a,b,c,d,e,f,g,h;if(this.dynamicProperties.length)for(b=this.dynamicProperties.length,a=0;b>a;a+=1)this.dynamicProperties[a].getValue(),this.dynamicProperties[a].mdf&&(this.mdf=!0);c=this.data.totalChars,d=2===this.data.r?1:100/c,e=this.o.v/d,f=this.s.v/d+e,g=this.e.v/d+e,f>g&&(h=f,f=g,g=h),this.finalS=f,this.finalE=g}function e(d){var j,k,l,e=BezierFactory.getBezierEasing(this.ne.v/100,0,1-this.xe.v/100,1).get,f=0,g=this.finalS,h=this.finalE,i=this.data.sh;return 2==i?(f=h===g?d>=h?1:0:a(0,b(.5/(h-g)+(d-g)/(h-g),1)),f=e(f)):3==i?(f=h===g?d>=h?0:1:1-a(0,b(.5/(h-g)+(d-g)/(h-g),1)),f=e(f)):4==i?(h===g?f=0:(f=a(0,b(.5/(h-g)+(d-g)/(h-g),1)),.5>f?f*=2:f=1-2*(f-.5)),f=e(f)):5==i?(h===g?f=0:(j=h-g,d=b(a(0,d+.5-g),h-g),k=-j/2+d,l=j/2,f=Math.sqrt(1-k*k/(l*l))),f=e(f)):6==i?(h===g?f=0:(d=b(a(0,d+.5-g),h-g),f=(1+Math.cos(Math.PI+2*Math.PI*d/(h-g)))/2),f=e(f)):(d>=c(g)&&(f=0>d-g?1-(g-d):a(0,b(h-d,1))),f=e(f)),f*this.a.v}var a=Math.max,b=Math.min,c=Math.floor;return function(a,b,c){this.mdf=!1,this.k=!1,this.data=b,this.dynamicProperties=[],this.getValue=d,this.getMult=e,this.comp=a.comp,this.finalS=0,this.finalE=0,this.s=PropertyFactory.getProp(a,b.s||{k:0},0,0,this.dynamicProperties),this.e="e"in b?PropertyFactory.getProp(a,b.e,0,0,this.dynamicProperties):{v:2===b.r?b.totalChars:100},this.o=PropertyFactory.getProp(a,b.o||{k:0},0,0,this.dynamicProperties),this.xe=PropertyFactory.getProp(a,b.xe||{k:0},0,0,this.dynamicProperties),this.ne=PropertyFactory.getProp(a,b.ne||{k:0},0,0,this.dynamicProperties),this.a=PropertyFactory.getProp(a,b.a,0,.01,this.dynamicProperties),this.dynamicProperties.length?c.push(this):this.getValue()}}(),o={};return o.getProp=i,o.getDashProp=l,o.getTextSelectorProp=n,o.getGradientProp=j,o}(),ShapePropertyFactory=function(){function b(){var b,c,d,e,i,j,k,l,m,n,f,g,h,o,p,q,r;if(this.elem.globalData.frameId!==this.frameId){if(this.mdf=!1,b=this.comp.renderedFrame-this.offsetTime,this.lastFrame!==a&&(this.lastFrame<this.keyframes[0].t-this.offsetTime&&b<this.keyframes[0].t-this.offsetTime||this.lastFrame>this.keyframes[this.keyframes.length-1].t-this.offsetTime&&b>this.keyframes[this.keyframes.length-1].t-this.offsetTime));else{if(b<this.keyframes[0].t-this.offsetTime)c=this.keyframes[0].s[0],e=!0;else if(b>=this.keyframes[this.keyframes.length-1].t-this.offsetTime)c=1===this.keyframes[this.keyframes.length-2].h?this.keyframes[this.keyframes.length-1].s[0]:this.keyframes[this.keyframes.length-2].e[0],e=!0;else{for(f=0,g=this.keyframes.length-1,h=!0;h&&(i=this.keyframes[f],j=this.keyframes[f+1],!(j.t-this.offsetTime>b));)g-1>f?f+=1:h=!1;e=1===i.h,e&&f===g&&(i=j),e||(i.__fnct?p=i.__fnct:(p=BezierFactory.getBezierEasing(i.o.x,i.o.y,i.i.x,i.i.y).get,i.__fnct=p),o=b>=j.t-this.offsetTime?1:b<i.t-this.offsetTime?0:p((b-(i.t-this.offsetTime))/(j.t-this.offsetTime-(i.t-this.offsetTime))),d=i.e[0]),c=i.s[0]}for(l=this.v.i.length,n=c.i[0].length,q=!1,k=0;l>k;k+=1)for(m=0;n>m;m+=1)e?(r=c.i[k][m],this.v.i[k][m]!==r&&(this.v.i[k][m]=r,this.pv.i[k][m]=r,q=!0),r=c.o[k][m],this.v.o[k][m]!==r&&(this.v.o[k][m]=r,this.pv.o[k][m]=r,q=!0),r=c.v[k][m],this.v.v[k][m]!==r&&(this.v.v[k][m]=r,this.pv.v[k][m]=r,q=!0)):(r=c.i[k][m]+(d.i[k][m]-c.i[k][m])*o,this.v.i[k][m]!==r&&(this.v.i[k][m]=r,this.pv.i[k][m]=r,q=!0),r=c.o[k][m]+(d.o[k][m]-c.o[k][m])*o,this.v.o[k][m]!==r&&(this.v.o[k][m]=r,this.pv.o[k][m]=r,q=!0),r=c.v[k][m]+(d.v[k][m]-c.v[k][m])*o,this.v.v[k][m]!==r&&(this.v.v[k][m]=r,this.pv.v[k][m]=r,q=!0));this.mdf=q,this.paths.length=0,this.v.c=c.c,this.paths[0]=this.v}this.lastFrame=b,this.frameId=this.elem.globalData.frameId}}function c(){return this.v}function d(){this.resetPaths.length=1,this.resetPaths[0]=this.v,this.paths=this.resetPaths,this.k||(this.mdf=!1)}function e(a,b,e){this.resetPaths=[],this.comp=a.comp,this.k=!1,this.mdf=!1,this.numNodes=3===e?b.pt.k.v.length:b.ks.k.v.length,this.v=3===e?b.pt.k:b.ks.k,this.getValue=c,this.pv=this.v,this.paths=[this.v],this.reset=d}function f(c,e,f){var g,h,i;for(this.resetPaths=[],this.comp=c.comp,this.elem=c,this.offsetTime=c.data.st,this.getValue=b,this.keyframes=3===f?e.pt.k:e.ks.k,this.k=!0,h=this.keyframes[0].s[0].i.length,i=this.keyframes[0].s[0].i[0].length,this.numNodes=h,this.v={i:Array.apply(null,{length:h}),o:Array.apply(null,{length:h}),v:Array.apply(null,{length:h}),c:this.keyframes[0].s[0].c},this.pv={i:Array.apply(null,{length:h}),o:Array.apply(null,{length:h}),v:Array.apply(null,{length:h}),c:this.keyframes[0].s[0].c},g=0;h>g;g+=1)this.v.i[g]=Array.apply(null,{length:i}),this.v.o[g]=Array.apply(null,{length:i}),this.v.v[g]=Array.apply(null,{length:i}),this.pv.i[g]=Array.apply(null,{length:i}),this.pv.o[g]=Array.apply(null,{length:i}),this.pv.v[g]=Array.apply(null,{length:i});this.paths=[],this.lastFrame=a,this.reset=d}function j(a,b,c,d){var j,k,l;return 3===c||4===c?(k=3===c?b.pt:b.ks,l=k.k,j=1===k.a||l.length?new f(a,b,c):new e(a,b,c)):5===c?j=new i(a,b):6===c?j=new g(a,b):7===c&&(j=new h(a,b)),j.k&&d.push(j),j}var a=-999999,g=function(){function b(){var b=this.p.v[0],c=this.p.v[1],d=this.s.v[0]/2,e=this.s.v[1]/2;2!==this.d&&3!==this.d?(this.v.v[0]=[b,c-e],this.v.i[0]=[b-d*a,c-e],this.v.o[0]=[b+d*a,c-e],this.v.v[1]=[b+d,c],this.v.i[1]=[b+d,c-e*a],this.v.o[1]=[b+d,c+e*a],this.v.v[2]=[b,c+e],this.v.i[2]=[b+d*a,c+e],this.v.o[2]=[b-d*a,c+e],this.v.v[3]=[b-d,c],this.v.i[3]=[b-d,c+e*a],this.v.o[3]=[b-d,c-e*a]):(this.v.v[0]=[b,c-e],this.v.o[0]=[b-d*a,c-e],this.v.i[0]=[b+d*a,c-e],this.v.v[1]=[b-d,c],this.v.o[1]=[b-d,c+e*a],this.v.i[1]=[b-d,c-e*a],this.v.v[2]=[b,c+e],this.v.o[2]=[b+d*a,c+e],this.v.i[2]=[b-d*a,c+e],this.v.v[3]=[b+d,c],this.v.o[3]=[b+d,c-e*a],this.v.i[3]=[b+d,c+e*a]),this.paths.length=0,this.paths[0]=this.v}function c(a){var b,c=this.dynamicProperties.length;if(this.elem.globalData.frameId!==this.frameId){for(this.mdf=!1,this.frameId=this.elem.globalData.frameId,b=0;c>b;b+=1)this.dynamicProperties[b].getValue(a),this.dynamicProperties[b].mdf&&(this.mdf=!0);this.mdf&&(this.convertEllToPath(),this.paths.length=0,this.paths[0]=this.v)}}var a=roundCorner;return function(a,e){this.v={v:Array.apply(null,{length:4}),i:Array.apply(null,{length:4}),o:Array.apply(null,{length:4}),c:!0},this.numNodes=4,this.d=e.d,this.dynamicProperties=[],this.resetPaths=[],this.paths=[],this.elem=a,this.comp=a.comp,this.frameId=-1,this.mdf=!1,this.getValue=c,this.convertEllToPath=b,this.reset=d,this.p=PropertyFactory.getProp(a,e.p,1,0,this.dynamicProperties),this.s=PropertyFactory.getProp(a,e.s,1,0,this.dynamicProperties),this.dynamicProperties.length?this.k=!0:this.convertEllToPath()}}(),h=function(){function a(){var c,d,e,f,g,h,i,j,k,l,a=Math.floor(this.pt.v),b=2*Math.PI/a;for(this.v.v.length=a,this.v.i.length=a,this.v.o.length=a,c=this.or.v,d=this.os.v,e=2*Math.PI*c/(4*a),g=-Math.PI/2,h=3===this.data.d?-1:1,g+=this.r.v,f=0;a>f;f+=1)i=c*Math.cos(g),j=c*Math.sin(g),k=0===i&&0===j?0:j/Math.sqrt(i*i+j*j),l=0===i&&0===j?0:-i/Math.sqrt(i*i+j*j),i+=+this.p.v[0],j+=+this.p.v[1],this.v.v[f]=[i,j],this.v.i[f]=[i+k*e*d*h,j+l*e*d*h],this.v.o[f]=[i-k*e*d*h,j-l*e*d*h],g+=b*h;this.numNodes=a,this.paths.length=0,this.paths[0]=this.v}function b(){var c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,a=2*Math.floor(this.pt.v),b=2*Math.PI/a;for(this.v.v.length=a,this.v.i.length=a,this.v.o.length=a,c=!0,d=this.or.v,e=this.ir.v,f=this.os.v,g=this.is.v,h=2*Math.PI*d/(2*a),i=2*Math.PI*e/(2*a),n=-Math.PI/2,n+=this.r.v,o=3===this.data.d?-1:1,j=0;a>j;j+=1)k=c?d:e,l=c?f:g,m=c?h:i,p=k*Math.cos(n),q=k*Math.sin(n),r=0===p&&0===q?0:q/Math.sqrt(p*p+q*q),s=0===p&&0===q?0:-p/Math.sqrt(p*p+q*q),p+=+this.p.v[0],q+=+this.p.v[1],this.v.v[j]=[p,q],this.v.i[j]=[p+r*m*l*o,q+s*m*l*o],this.v.o[j]=[p-r*m*l*o,q-s*m*l*o],c=!c,n+=b*o;this.numNodes=a,this.paths.length=0,this.paths[0]=this.v}function c(){if(this.elem.globalData.frameId!==this.frameId){this.mdf=!1,this.frameId=this.elem.globalData.frameId;var a,b=this.dynamicProperties.length;for(a=0;b>a;a+=1)this.dynamicProperties[a].getValue(),this.dynamicProperties[a].mdf&&(this.mdf=!0);this.mdf&&this.convertToPath()}}return function(e,f){this.v={v:[],i:[],o:[],c:!0},this.resetPaths=[],this.elem=e,this.comp=e.comp,this.data=f,this.frameId=-1,this.d=f.d,this.dynamicProperties=[],this.mdf=!1,this.getValue=c,this.reset=d,1===f.sy?(this.ir=PropertyFactory.getProp(e,f.ir,0,0,this.dynamicProperties),this.is=PropertyFactory.getProp(e,f.is,0,.01,this.dynamicProperties),this.convertToPath=b):this.convertToPath=a,this.pt=PropertyFactory.getProp(e,f.pt,0,0,this.dynamicProperties),this.p=PropertyFactory.getProp(e,f.p,1,0,this.dynamicProperties),this.r=PropertyFactory.getProp(e,f.r,0,degToRads,this.dynamicProperties),this.or=PropertyFactory.getProp(e,f.or,0,0,this.dynamicProperties),this.os=PropertyFactory.getProp(e,f.os,0,.01,this.dynamicProperties),this.paths=[],this.dynamicProperties.length?this.k=!0:this.convertToPath()
}}(),i=function(){function a(a){if(this.elem.globalData.frameId!==this.frameId){this.mdf=!1,this.frameId=this.elem.globalData.frameId;var b,c=this.dynamicProperties.length;for(b=0;c>b;b+=1)this.dynamicProperties[b].getValue(a),this.dynamicProperties[b].mdf&&(this.mdf=!0);this.mdf&&this.convertRectToPath()}}function b(){var a=this.p.v[0],b=this.p.v[1],c=this.s.v[0]/2,d=this.s.v[1]/2,e=bm_min(c,d,this.r.v),f=e*(1-roundCorner);0===e?(this.v.v.length=4,this.v.i.length=4,this.v.o.length=4):(this.v.v.length=8,this.v.i.length=8,this.v.o.length=8),2===this.d||1===this.d?(this.v.v[0]=[a+c,b-d+e],this.v.o[0]=this.v.v[0],this.v.i[0]=[a+c,b-d+f],this.v.v[1]=[a+c,b+d-e],this.v.o[1]=[a+c,b+d-f],this.v.i[1]=this.v.v[1],0!==e?(this.v.v[2]=[a+c-e,b+d],this.v.o[2]=this.v.v[2],this.v.i[2]=[a+c-f,b+d],this.v.v[3]=[a-c+e,b+d],this.v.o[3]=[a-c+f,b+d],this.v.i[3]=this.v.v[3],this.v.v[4]=[a-c,b+d-e],this.v.o[4]=this.v.v[4],this.v.i[4]=[a-c,b+d-f],this.v.v[5]=[a-c,b-d+e],this.v.o[5]=[a-c,b-d+f],this.v.i[5]=this.v.v[5],this.v.v[6]=[a-c+e,b-d],this.v.o[6]=this.v.v[6],this.v.i[6]=[a-c+f,b-d],this.v.v[7]=[a+c-e,b-d],this.v.o[7]=[a+c-f,b-d],this.v.i[7]=this.v.v[7]):(this.v.v[2]=[a-c+e,b+d],this.v.o[2]=[a-c+f,b+d],this.v.i[2]=this.v.v[2],this.v.v[3]=[a-c,b-d+e],this.v.o[3]=[a-c,b-d+f],this.v.i[3]=this.v.v[3])):(this.v.v[0]=[a+c,b-d+e],this.v.o[0]=[a+c,b-d+f],this.v.i[0]=this.v.v[0],0!==e?(this.v.v[1]=[a+c-e,b-d],this.v.o[1]=this.v.v[1],this.v.i[1]=[a+c-f,b-d],this.v.v[2]=[a-c+e,b-d],this.v.o[2]=[a-c+f,b-d],this.v.i[2]=this.v.v[2],this.v.v[3]=[a-c,b-d+e],this.v.o[3]=this.v.v[3],this.v.i[3]=[a-c,b-d+f],this.v.v[4]=[a-c,b+d-e],this.v.o[4]=[a-c,b+d-f],this.v.i[4]=this.v.v[4],this.v.v[5]=[a-c+e,b+d],this.v.o[5]=this.v.v[5],this.v.i[5]=[a-c+f,b+d],this.v.v[6]=[a+c-e,b+d],this.v.o[6]=[a+c-f,b+d],this.v.i[6]=this.v.v[6],this.v.v[7]=[a+c,b+d-e],this.v.o[7]=this.v.v[7],this.v.i[7]=[a+c,b+d-f]):(this.v.v[1]=[a-c+e,b-d],this.v.o[1]=[a-c+f,b-d],this.v.i[1]=this.v.v[1],this.v.v[2]=[a-c,b+d-e],this.v.o[2]=[a-c,b+d-f],this.v.i[2]=this.v.v[2],this.v.v[3]=[a+c-e,b+d],this.v.o[3]=[a+c-f,b+d],this.v.i[3]=this.v.v[3])),this.paths.length=0,this.paths[0]=this.v}return function(c,e){this.v={v:Array.apply(null,{length:8}),i:Array.apply(null,{length:8}),o:Array.apply(null,{length:8}),c:!0},this.resetPaths=[],this.paths=[],this.numNodes=8,this.elem=c,this.comp=c.comp,this.frameId=-1,this.d=e.d,this.dynamicProperties=[],this.mdf=!1,this.getValue=a,this.convertRectToPath=b,this.reset=d,this.p=PropertyFactory.getProp(c,e.p,1,0,this.dynamicProperties),this.s=PropertyFactory.getProp(c,e.s,1,0,this.dynamicProperties),this.r=PropertyFactory.getProp(c,e.r,0,0,this.dynamicProperties),this.dynamicProperties.length?this.k=!0:this.convertRectToPath()}}(),k={};return k.getShapeProp=j,k}(),ShapeModifiers=function(){function c(a,c){b[a]||(b[a]=c)}function d(a,c,d,e){return new b[a](c,d,e)}var a={},b={};return a.registerModifier=c,a.getModifier=d,a}(),ShapeModifier.prototype.initModifierProperties=function(){},ShapeModifier.prototype.addShapeToModifier=function(){},ShapeModifier.prototype.addShape=function(a){this.closed||(this.shapes.push({shape:a,last:[]}),this.addShapeToModifier(a))},ShapeModifier.prototype.init=function(a,b,c){this.elem=a,this.frameId=-1,this.shapes=[],this.dynamicProperties=[],this.mdf=!1,this.closed=!1,this.k=!1,this.isTrimming=!1,this.comp=a.comp,this.initModifierProperties(a,b),this.dynamicProperties.length?(this.k=!0,c.push(this)):this.getValue(!0)},extendPrototype(ShapeModifier,TrimModifier),TrimModifier.prototype.processKeys=function(a){var b,c,d,e,f,g;if(this.elem.globalData.frameId!==this.frameId||a){for(this.mdf=a?!0:!1,this.frameId=this.elem.globalData.frameId,c=this.dynamicProperties.length,b=0;c>b;b+=1)this.dynamicProperties[b].getValue(),this.dynamicProperties[b].mdf&&(this.mdf=!0);(this.mdf||a)&&(d=this.o.v%360/360,0>d&&(d+=1),e=this.s.v+d,f=this.e.v+d,e>f&&(g=e,e=f,f=g),this.sValue=e,this.eValue=f,this.oValue=d)}},TrimModifier.prototype.initModifierProperties=function(a,b){this.sValue=0,this.eValue=0,this.oValue=0,this.getValue=this.processKeys,this.s=PropertyFactory.getProp(a,b.s,0,.01,this.dynamicProperties),this.e=PropertyFactory.getProp(a,b.e,0,.01,this.dynamicProperties),this.o=PropertyFactory.getProp(a,b.o,0,0,this.dynamicProperties),this.m=b.m,this.dynamicProperties.length||this.getValue(!0)},TrimModifier.prototype.getSegmentsLength=function(a){var f,b=a.c,c=a.v,d=a.o,e=a.i,g=c.length,h=[],i=0;for(f=0;g-1>f;f+=1)h[f]=bez.getBezierLength(c[f],c[f+1],d[f],e[f+1]),i+=h[f].addedLength;return b&&(h[f]=bez.getBezierLength(c[f],c[0],d[f],e[0]),i+=h[f].addedLength),{lengths:h,totalLength:i}},TrimModifier.prototype.calculateShapeEdges=function(a,b,c,d,e){var g,h,j,i,k,l,f=[];for(1>=b?f.push({s:a,e:b}):a>=1?f.push({s:a-1,e:b-1}):(f.push({s:a,e:1}),f.push({s:0,e:b-1})),g=[],i=f.length,h=0;i>h;h+=1)j=f[h],j.e*e<d||j.s*e>d+c||(k=j.s*e<=d?0:(j.s*e-d)/c,l=j.e*e>=d+c?1:(j.e*e-d)/c,g.push([k,l]));return g.length||g.push([0,0]),g},TrimModifier.prototype.processShapes=function(a){var b,c,e,f,i,j,k,n,o,m,p,q,r,s,t,u,d=this.shapes.length,g=this.sValue,h=this.eValue,l=0;if(h===g)for(c=0;d>c;c+=1)this.shapes[c].shape.paths=[],this.shapes[c].shape.mdf=!0;else if(1===h&&0===g||0===h&&1===g)for(c=0;d>c;c+=1)n=this.shapes[c],n.shape.paths!==n.last&&(n.shape.mdf=!0,n.last=n.shape.paths);else{for(m=[],c=0;d>c;c+=1)if(n=this.shapes[c],n.shape.mdf||this.mdf||a||2===this.m){if(b=n.shape.paths,f=b.length,k=0,!n.shape.mdf&&n.pathsData)k=n.totalShapeLength;else{for(i=[],e=0;f>e;e+=1)j=this.getSegmentsLength(b[e]),i.push(j),k+=j.totalLength;n.totalShapeLength=k,n.pathsData=i}l+=k,n.shape.mdf=!0}else n.shape.paths=n.last;for(p=g,q=h,r=0,c=d-1;c>=0;c-=1)if(o=[],n=this.shapes[c],n.shape.mdf){for(2===this.m&&d>1?(s=this.calculateShapeEdges(g,h,n.totalShapeLength,r,l),r+=n.totalShapeLength):s=[[p,q]],f=s.length,e=0;f>e;e+=1)p=s[e][0],q=s[e][1],m.length=0,1>=q?m.push({s:n.totalShapeLength*p,e:n.totalShapeLength*q}):p>=1?m.push({s:n.totalShapeLength*(p-1),e:n.totalShapeLength*(q-1)}):(m.push({s:n.totalShapeLength*p,e:n.totalShapeLength}),m.push({s:0,e:n.totalShapeLength*(q-1)})),t=this.addShapes(n,m[0]),m[0].s!==m[0].e&&(o.push(t),m.length>1&&(n.shape.v.c?this.addShapes(n,m[1],t):(t.i[0]=[t.v[0][0],t.v[0][1]],u=t.v.length-1,t.o[u]=[t.v[u][0],t.v[u][1]],t=this.addShapes(n,m[1]),o.push(t))),t.i[0]=[t.v[0][0],t.v[0][1]],u=t.v.length-1,t.o[u]=[t.v[u][0],t.v[u][1]]);n.last=o,n.shape.paths=o}}this.dynamicProperties.length||(this.mdf=!1)},TrimModifier.prototype.addSegment=function(a,b,c,d,e,f){e.o[f]=b,e.i[f+1]=c,e.v[f+1]=d,e.v[f]=a},TrimModifier.prototype.addShapes=function(a,b,c){var f,h,i,k,l,m,n,o,d=a.pathsData,e=a.shape.paths,g=e.length,j=0;for(c?l=c.v.length-1:(c={c:!1,v:[],i:[],o:[]},l=0),f=0;g>f;f+=1){for(m=d[f].lengths,i=e[f].c?m.length:m.length+1,h=1;i>h;h+=1)if(k=m[h-1],j+k.addedLength<b.s)j+=k.addedLength;else{if(j>b.e)break;b.s<=j&&b.e>=j+k.addedLength?this.addSegment(e[f].v[h-1],e[f].o[h-1],e[f].i[h],e[f].v[h],c,l):(n=bez.getNewSegment(e[f].v[h-1],e[f].v[h],e[f].o[h-1],e[f].i[h],(b.s-j)/k.addedLength,(b.e-j)/k.addedLength,m[h-1]),this.addSegment(n.pt1,n.pt3,n.pt4,n.pt2,c,l)),j+=k.addedLength,l+=1}e[f].c&&j<=b.e&&(o=m[h-1].addedLength,b.s<=j&&b.e>=j+o?this.addSegment(e[f].v[h-1],e[f].o[h-1],e[f].i[0],e[f].v[0],c,l):(n=bez.getNewSegment(e[f].v[h-1],e[f].v[0],e[f].o[h-1],e[f].i[0],(b.s-j)/o,(b.e-j)/o,m[h-1]),this.addSegment(n.pt1,n.pt3,n.pt4,n.pt2,c,l)))}return c},ShapeModifiers.registerModifier("tm",TrimModifier),extendPrototype(ShapeModifier,RoundCornersModifier),RoundCornersModifier.prototype.processKeys=function(a){if(this.elem.globalData.frameId!==this.frameId||a){this.mdf=a?!0:!1,this.frameId=this.elem.globalData.frameId;var b,c=this.dynamicProperties.length;for(b=0;c>b;b+=1)this.dynamicProperties[b].getValue(),this.dynamicProperties[b].mdf&&(this.mdf=!0)}},RoundCornersModifier.prototype.initModifierProperties=function(a,b){this.getValue=this.processKeys,this.rd=PropertyFactory.getProp(a,b.r,0,null,this.dynamicProperties),this.dynamicProperties.length||this.getValue(!0)},RoundCornersModifier.prototype.processPath=function(a,b){var c,h,i,j,k,l,m,n,o,p,d=a.v.length,e=[],f=[],g=[];for(c=0;d>c;c+=1)h=a.v[c],j=a.o[c],i=a.i[c],h[0]===j[0]&&h[1]===j[1]&&h[0]===i[0]&&h[1]===i[1]?0!==c&&c!==d-1||a.c?(k=0===c?a.v[d-1]:a.v[c-1],o=Math.sqrt(Math.pow(h[0]-k[0],2)+Math.pow(h[1]-k[1],2)),p=o?Math.min(o/2,b)/o:0,l=[h[0]+(k[0]-h[0])*p,h[1]-(h[1]-k[1])*p],n=l,m=[l[0]-(l[0]-h[0])*roundCorner,l[1]-(l[1]-h[1])*roundCorner],e.push(l),f.push(m),g.push(n),k=c===d-1?a.v[0]:a.v[c+1],o=Math.sqrt(Math.pow(h[0]-k[0],2)+Math.pow(h[1]-k[1],2)),p=o?Math.min(o/2,b)/o:0,l=[h[0]+(k[0]-h[0])*p,h[1]+(k[1]-h[1])*p],n=[l[0]-(l[0]-h[0])*roundCorner,l[1]-(l[1]-h[1])*roundCorner],m=l,e.push(l),f.push(m),g.push(n)):(e.push(h),f.push(j),g.push(i)):(e.push(a.v[c]),f.push(a.o[c]),g.push(a.i[c]));return{v:e,o:f,i:g,c:a.c}},RoundCornersModifier.prototype.processShapes=function(){var a,b,d,e,g,h,c=this.shapes.length,f=this.rd.v;if(0!==f)for(b=0;c>b;b+=1)if(h=[],g=this.shapes[b],g.shape.mdf||this.mdf){for(g.shape.mdf=!0,a=g.shape.paths,e=a.length,d=0;e>d;d+=1)h.push(this.processPath(a[d],f));g.shape.paths=h,g.last=h}else g.shape.paths=g.last;this.dynamicProperties.length||(this.mdf=!1)},ShapeModifiers.registerModifier("rd",RoundCornersModifier),ImagePreloader=function(){function a(){this.loadedAssets+=1,this.loadedAssets===this.totalImages}function b(a){var c,b="";return this.assetsPath?(c=a.p,-1!==c.indexOf("images/")&&(c=c.split("/")[1]),b=this.assetsPath+c):(b=this.path,b+=a.u?a.u:"",b+=a.p),b}function c(b){var c=document.createElement("img");c.addEventListener("load",a.bind(this),!1),c.addEventListener("error",a.bind(this),!1),c.src=b}function d(a){this.totalAssets=a.length;var d;for(d=0;d<this.totalAssets;d+=1)a[d].layers||(c.bind(this)(b.bind(this)(a[d])),this.totalImages+=1)}function e(a){this.path=a||""}function f(a){this.assetsPath=a||""}return function(){this.loadAssets=d,this.setAssetsPath=f,this.setPath=e,this.assetsPath="",this.path="",this.totalAssets=0,this.totalImages=0,this.loadedAssets=0}}(),featureSupport=function(){var a={maskType:!0};return(/MSIE 10/i.test(navigator.userAgent)||/MSIE 9/i.test(navigator.userAgent)||/rv:11.0/i.test(navigator.userAgent)||/Edge\/\d./i.test(navigator.userAgent))&&(a.maskType=!1),a}(),filtersFactory=function(){function b(a){var b=document.createElementNS(svgNS,"filter");return b.setAttribute("id",a),b.setAttribute("filterUnits","objectBoundingBox"),b.setAttribute("x","0%"),b.setAttribute("y","0%"),b.setAttribute("width","100%"),b.setAttribute("height","100%"),b}function c(){var a=document.createElementNS(svgNS,"feColorMatrix");return a.setAttribute("type","matrix"),a.setAttribute("color-interpolation-filters","sRGB"),a.setAttribute("values","0 0 0 1 0  0 0 0 1 0  0 0 0 1 0  0 0 0 0 1"),a}var a={};return a.createFilter=b,a.createAlphaToLuminanceFilter=c,a}(),BaseRenderer.prototype.checkLayers=function(a){var b,d,c=this.layers.length;for(this.completeLayers=!0,b=c-1;b>=0;b--)this.elements[b]||(d=this.layers[b],d.ip-d.st<=a-this.layers[b].st&&d.op-d.st>a-this.layers[b].st&&this.buildItem(b)),this.completeLayers=this.elements[b]?this.completeLayers:!1;this.checkPendingElements()},BaseRenderer.prototype.createItem=function(a){switch(a.ty){case 2:return this.createImage(a);case 0:return this.createComp(a);case 1:return this.createSolid(a);case 4:return this.createShape(a);case 5:return this.createText(a);case 99:return null}return this.createBase(a)},BaseRenderer.prototype.buildAllItems=function(){var a,b=this.layers.length;for(a=0;b>a;a+=1)this.buildItem(a);this.checkPendingElements()},BaseRenderer.prototype.includeLayers=function(a){var b,c,d,e;for(this.completeLayers=!1,c=a.length,e=this.layers.length,b=0;c>b;b+=1)for(d=0;e>d;){if(this.layers[d].id==a[b].id){this.layers[d]=a[b];break}d+=1}},BaseRenderer.prototype.setProjectInterface=function(a){this.globalData.projectInterface=a},BaseRenderer.prototype.initItems=function(){this.globalData.progressiveLoad||this.buildAllItems()},BaseRenderer.prototype.buildElementParenting=function(a,b,c){var d,e,f,g;for(c=c||[],d=this.elements,e=this.layers,f=0,g=e.length;g>f;)e[f].ind==b&&(d[f]&&d[f]!==!0?void 0!==e[f].parent?(c.push(d[f]),this.buildElementParenting(a,e[f].parent,c)):(c.push(d[f]),a.setHierarchy(c)):(this.buildItem(f),this.addPendingElement(a))),f+=1},BaseRenderer.prototype.addPendingElement=function(a){this.pendingElements.push(a)},extendPrototype(BaseRenderer,SVGRenderer),SVGRenderer.prototype.createBase=function(a){return new SVGBaseElement(a,this.layerElement,this.globalData,this)},SVGRenderer.prototype.createShape=function(a){return new IShapeElement(a,this.layerElement,this.globalData,this)},SVGRenderer.prototype.createText=function(a){return new SVGTextElement(a,this.layerElement,this.globalData,this)},SVGRenderer.prototype.createImage=function(a){return new IImageElement(a,this.layerElement,this.globalData,this)},SVGRenderer.prototype.createComp=function(a){return new ICompElement(a,this.layerElement,this.globalData,this)},SVGRenderer.prototype.createSolid=function(a){return new ISolidElement(a,this.layerElement,this.globalData,this)},SVGRenderer.prototype.configAnimation=function(a){var b,c,d,e,f;this.layerElement=document.createElementNS(svgNS,"svg"),this.layerElement.setAttribute("xmlns","http://www.w3.org/2000/svg"),this.layerElement.setAttribute("width",a.w),this.layerElement.setAttribute("height",a.h),this.layerElement.setAttribute("viewBox","0 0 "+a.w+" "+a.h),this.layerElement.setAttribute("preserveAspectRatio",this.renderConfig.preserveAspectRatio),this.layerElement.style.width="100%",this.layerElement.style.height="100%",this.animationItem.wrapper.appendChild(this.layerElement),b=document.createElementNS(svgNS,"defs"),this.globalData.defs=b,this.layerElement.appendChild(b),this.globalData.getAssetData=this.animationItem.getAssetData.bind(this.animationItem),this.globalData.getAssetsPath=this.animationItem.getAssetsPath.bind(this.animationItem),this.globalData.progressiveLoad=this.renderConfig.progressiveLoad,this.globalData.frameId=0,this.globalData.compSize={w:a.w,h:a.h},this.globalData.frameRate=a.fr,c=document.createElementNS(svgNS,"clipPath"),d=document.createElementNS(svgNS,"rect"),d.setAttribute("width",a.w),d.setAttribute("height",a.h),d.setAttribute("x",0),d.setAttribute("y",0),e="animationMask_"+randomString(10),c.setAttribute("id",e),c.appendChild(d),f=document.createElementNS(svgNS,"g"),f.setAttribute("clip-path","url(#"+e+")"),this.layerElement.appendChild(f),b.appendChild(c),this.layerElement=f,this.layers=a.layers,this.globalData.fontManager=new FontManager,this.globalData.fontManager.addChars(a.chars),this.globalData.fontManager.addFonts(a.fonts,b),this.elements=Array.apply(null,{length:a.layers.length})},SVGRenderer.prototype.destroy=function(){this.animationItem.wrapper.innerHTML="",this.layerElement=null,this.globalData.defs=null;var a,b=this.layers?this.layers.length:0;for(a=0;b>a;a++)this.elements[a]&&this.elements[a].destroy();this.elements.length=0,this.destroyed=!0,this.animationItem=null},SVGRenderer.prototype.updateContainerSize=function(){},SVGRenderer.prototype.buildItem=function(a){var c,b=this.elements;b[a]||99==this.layers[a].ty||(b[a]=!0,c=this.createItem(this.layers[a]),b[a]=c,expressionsPlugin&&(0===this.layers[a].ty&&this.globalData.projectInterface.registerComposition(c),c.initExpressions()),this.appendElementInPos(c,a),this.layers[a].tt&&(this.elements[a-1]&&this.elements[a-1]!==!0?c.setMatte(b[a-1].layerId):(this.buildItem(a-1),this.addPendingElement(c))))},SVGRenderer.prototype.checkPendingElements=function(){for(var a,b,c;this.pendingElements.length;)if(a=this.pendingElements.pop(),a.checkParenting(),a.data.tt)for(b=0,c=this.elements.length;c>b;){if(this.elements[b]===a){a.setMatte(this.elements[b-1].layerId);break}b+=1}},SVGRenderer.prototype.renderFrame=function(a){if(this.renderedFrame!=a&&!this.destroyed){null===a?a=this.renderedFrame:this.renderedFrame=a,this.globalData.frameNum=a,this.globalData.frameId+=1,this.globalData.projectInterface.currentFrame=a;var b,c=this.layers.length;for(this.completeLayers||this.checkLayers(a),b=c-1;b>=0;b--)(this.completeLayers||this.elements[b])&&this.elements[b].prepareFrame(a-this.layers[b].st);for(b=c-1;b>=0;b--)(this.completeLayers||this.elements[b])&&this.elements[b].renderFrame()}},SVGRenderer.prototype.appendElementInPos=function(a,b){var d,e,c=a.getBaseElement();if(c){for(d=0;b>d;)this.elements[d]&&this.elements[d]!==!0&&this.elements[d].getBaseElement()&&(e=this.elements[d].getBaseElement()),d+=1;e?this.layerElement.insertBefore(c,e):this.layerElement.appendChild(c)}},SVGRenderer.prototype.hide=function(){this.layerElement.style.display="none"},SVGRenderer.prototype.show=function(){this.layerElement.style.display="block"},SVGRenderer.prototype.searchExtraCompositions=function(a){var b,e,c=a.length,d=document.createElementNS(svgNS,"g");for(b=0;c>b;b+=1)a[b].xt&&(e=this.createComp(a[b],d,this.globalData.comp,null),e.initExpressions(),this.globalData.projectInterface.registerComposition(e))},MaskElement.prototype.getMaskProperty=function(a){return this.viewData[a].prop},MaskElement.prototype.prepareFrame=function(){var a,b=this.dynamicProperties.length;for(a=0;b>a;a+=1)this.dynamicProperties[a].getValue()},MaskElement.prototype.renderFrame=function(a){var b,d,c=this.masksProperties.length;for(b=0;c>b;b++)(this.viewData[b].prop.mdf||this.firstFrame)&&this.drawPath(this.masksProperties[b],this.viewData[b].prop.v,this.viewData[b]),(this.viewData[b].op.mdf||this.firstFrame)&&this.viewData[b].elem.setAttribute("fill-opacity",this.viewData[b].op.v),"n"!==this.masksProperties[b].mode&&(this.viewData[b].invRect&&(this.element.finalTransform.mProp.mdf||this.firstFrame)&&(this.viewData[b].invRect.setAttribute("x",-a.props[12]),this.viewData[b].invRect.setAttribute("y",-a.props[13])),this.storedData[b].x&&(this.storedData[b].x.mdf||this.firstFrame)&&(d=this.storedData[b].expan,this.storedData[b].x.v<0?("erode"!==this.storedData[b].lastOperator&&(this.storedData[b].lastOperator="erode",this.storedData[b].elem.setAttribute("filter","url(#"+this.storedData[b].filterId+")")),d.setAttribute("radius",-this.storedData[b].x.v)):("dilate"!==this.storedData[b].lastOperator&&(this.storedData[b].lastOperator="dilate",this.storedData[b].elem.setAttribute("filter",null)),this.storedData[b].elem.setAttribute("stroke-width",2*this.storedData[b].x.v))));this.firstFrame=!1},MaskElement.prototype.getMaskelement=function(){return this.maskElement},MaskElement.prototype.createLayerSolidPath=function(){var a="M0,0 ";return a+=" h"+this.globalData.compSize.w,a+=" v"+this.globalData.compSize.h,a+=" h-"+this.globalData.compSize.w,a+=" v-"+this.globalData.compSize.h+" "},MaskElement.prototype.drawPath=function(a,b,c){var e,d="",f=b.v.length;for(e=1;f>e;e+=1)1==e&&(d+=" M"+bm_rnd(b.v[0][0])+","+bm_rnd(b.v[0][1])),d+=" C"+bm_rnd(b.o[e-1][0])+","+bm_rnd(b.o[e-1][1])+" "+bm_rnd(b.i[e][0])+","+bm_rnd(b.i[e][1])+" "+bm_rnd(b.v[e][0])+","+bm_rnd(b.v[e][1]);b.c&&f>1&&(d+=" C"+bm_rnd(b.o[e-1][0])+","+bm_rnd(b.o[e-1][1])+" "+bm_rnd(b.i[0][0])+","+bm_rnd(b.i[0][1])+" "+bm_rnd(b.v[0][0])+","+bm_rnd(b.v[0][1])),c.lastPath!==d&&(c.elem&&(b.c?a.inv?c.elem.setAttribute("d",this.solidPath+d):c.elem.setAttribute("d",d):c.elem.setAttribute("d","")),c.lastPath=d)},MaskElement.prototype.getMask=function(a){for(var b=0,c=this.masksProperties.length;c>b;){if(this.masksProperties[b].nm===a)return{maskPath:this.viewData[b].prop.pv};b+=1}},MaskElement.prototype.destroy=function(){this.element=null,this.globalData=null,this.maskElement=null,this.data=null,this.paths=null,this.masksProperties=null},BaseElement.prototype.checkMasks=function(){if(!this.data.hasMask)return!1;for(var a=0,b=this.data.masksProperties.length;b>a;){if("n"!==this.data.masksProperties[a].mode&&this.data.masksProperties[a].cl!==!1)return!0;a+=1}return!1},BaseElement.prototype.checkParenting=function(){void 0!==this.data.parent&&this.comp.buildElementParenting(this,this.data.parent)},BaseElement.prototype.prepareFrame=function(a){this.data.ip-this.data.st<=a&&this.data.op-this.data.st>a?this.isVisible!==!0&&(this.elemMdf=!0,this.globalData.mdf=!0,this.isVisible=!0,this.firstFrame=!0,this.data.hasMask&&(this.maskManager.firstFrame=!0)):this.isVisible!==!1&&(this.elemMdf=!0,this.globalData.mdf=!0,this.isVisible=!1);var b,c=this.dynamicProperties.length;for(b=0;c>b;b+=1)this.dynamicProperties[b].getValue(),this.dynamicProperties[b].mdf&&(this.elemMdf=!0,this.globalData.mdf=!0);return this.data.hasMask&&this.maskManager.prepareFrame(a*this.data.sr),this.currentFrameNum=a*this.data.sr,this.isVisible},BaseElement.prototype.globalToLocal=function(a){var c,d,e,g,f,b=[];for(b.push(this.finalTransform),c=!0,d=this.comp;c;)d.finalTransform?(d.data.hasMask&&b.splice(0,0,d.finalTransform),d=d.comp):c=!1;for(f=b.length,e=0;f>e;e+=1)g=b[e].mat.applyToPointArray(0,0,0),a=[a[0]-g[0],a[1]-g[1],0];return a},BaseElement.prototype.initExpressions=function(){this.layerInterface=LayerExpressionInterface(this),this.data.hasMask&&this.layerInterface.registerMaskInterface(this.maskManager);var a=EffectsExpressionInterface.createEffectsInterface(this,this.layerInterface);this.layerInterface.registerEffectsInterface(a),0===this.data.ty||this.data.xt?this.compInterface=CompExpressionInterface(this):4===this.data.ty&&(this.layerInterface.shapeInterface=ShapeExpressionInterface.createShapeInterface(this.shapesData,this.viewData,this.layerInterface))},BaseElement.prototype.setBlendMode=function(){var b,a="";switch(this.data.bm){case 1:a="multiply";break;case 2:a="screen";break;case 3:a="overlay";break;case 4:a="darken";break;case 5:a="lighten";break;case 6:a="color-dodge";break;case 7:a="color-burn";break;case 8:a="hard-light";break;case 9:a="soft-light";break;case 10:a="difference";break;case 11:a="exclusion";break;case 12:a="hue";break;case 13:a="saturation";break;case 14:a="color";break;case 15:a="luminosity"}b=this.baseElement||this.layerElement,b.style["mix-blend-mode"]=a},BaseElement.prototype.init=function(){this.data.sr||(this.data.sr=1),this.dynamicProperties=[],this.data.ef&&(this.effects=new EffectsManager(this.data,this,this.dynamicProperties)),this.hidden=!1,this.firstFrame=!0,this.isVisible=!1,this.currentFrameNum=-99999,this.lastNum=-99999,this.data.ks&&(this.finalTransform={mProp:PropertyFactory.getProp(this,this.data.ks,2,null,this.dynamicProperties),matMdf:!1,opMdf:!1,mat:new Matrix,opacity:1},this.data.ao&&(this.finalTransform.mProp.autoOriented=!0),this.finalTransform.op=this.finalTransform.mProp.o,this.transform=this.finalTransform.mProp,11!==this.data.ty&&this.createElements(),this.data.hasMask&&this.addMasks(this.data)),this.elemMdf=!1},BaseElement.prototype.getType=function(){return this.type},BaseElement.prototype.resetHierarchy=function(){this.hierarchy?this.hierarchy.length=0:this.hierarchy=[]},BaseElement.prototype.getHierarchy=function(){return this.hierarchy||(this.hierarchy=[]),this.hierarchy},BaseElement.prototype.setHierarchy=function(a){this.hierarchy=a},BaseElement.prototype.getLayerSize=function(){return 5===this.data.ty?{w:this.data.textData.width,h:this.data.textData.height}:{w:this.data.width,h:this.data.height}},BaseElement.prototype.hide=function(){},BaseElement.prototype.mHelper=new Matrix,createElement(BaseElement,SVGBaseElement),SVGBaseElement.prototype.createElements=function(){var a,b,c,d,e,f,g,h,i,j,k,l,m;this.layerElement=document.createElementNS(svgNS,"g"),this.transformedElement=this.layerElement,this.data.hasMask&&(this.maskedElement=this.layerElement),a=null,this.data.td?3==this.data.td||1==this.data.td?(b=document.createElementNS(svgNS,"mask"),b.setAttribute("id",this.layerId),b.setAttribute("mask-type",3==this.data.td?"luminance":"alpha"),b.appendChild(this.layerElement),a=b,this.globalData.defs.appendChild(b),featureSupport.maskType||1!=this.data.td||(b.setAttribute("mask-type","luminance"),c=randomString(10),d=filtersFactory.createFilter(c),this.globalData.defs.appendChild(d),d.appendChild(filtersFactory.createAlphaToLuminanceFilter()),e=document.createElementNS(svgNS,"g"),e.appendChild(this.layerElement),a=e,b.appendChild(e),e.setAttribute("filter","url(#"+c+")"))):2==this.data.td&&(f=document.createElementNS(svgNS,"mask"),f.setAttribute("id",this.layerId),f.setAttribute("mask-type","alpha"),g=document.createElementNS(svgNS,"g"),f.appendChild(g),c=randomString(10),d=filtersFactory.createFilter(c),h=document.createElementNS(svgNS,"feColorMatrix"),h.setAttribute("type","matrix"),h.setAttribute("color-interpolation-filters","sRGB"),h.setAttribute("values","1 0 0 0 0 0 1 0 0 0 0 0 1 0 0 0 0 0 -1 1"),d.appendChild(h),this.globalData.defs.appendChild(d),i=document.createElementNS(svgNS,"rect"),i.setAttribute("width",this.comp.data?this.comp.data.w:this.globalData.compSize.w),i.setAttribute("height",this.comp.data?this.comp.data.h:this.globalData.compSize.h),i.setAttribute("x","0"),i.setAttribute("y","0"),i.setAttribute("fill","#ffffff"),i.setAttribute("opacity","0"),g.setAttribute("filter","url(#"+c+")"),g.appendChild(i),g.appendChild(this.layerElement),a=g,featureSupport.maskType||(f.setAttribute("mask-type","luminance"),d.appendChild(filtersFactory.createAlphaToLuminanceFilter()),e=document.createElementNS(svgNS,"g"),g.appendChild(i),e.appendChild(this.layerElement),a=e,g.appendChild(e)),this.globalData.defs.appendChild(f)):this.data.hasMask||this.data.tt?this.data.tt?(this.matteElement=document.createElementNS(svgNS,"g"),this.matteElement.appendChild(this.layerElement),a=this.matteElement,this.baseElement=this.matteElement):this.baseElement=this.layerElement:this.baseElement=this.layerElement,!this.data.ln&&!this.data.cl||4!==this.data.ty&&0!==this.data.ty||(this.data.ln&&this.layerElement.setAttribute("id",this.data.ln),this.data.cl&&this.layerElement.setAttribute("class",this.data.cl)),0===this.data.ty&&(j=document.createElementNS(svgNS,"clipPath"),k=document.createElementNS(svgNS,"path"),k.setAttribute("d","M0,0 L"+this.data.w+",0"+" L"+this.data.w+","+this.data.h+" L0,"+this.data.h+"z"),l="cp_"+randomString(8),j.setAttribute("id",l),j.appendChild(k),this.globalData.defs.appendChild(j),this.checkMasks()?(m=document.createElementNS(svgNS,"g"),m.setAttribute("clip-path","url(#"+l+")"),m.appendChild(this.layerElement),this.transformedElement=m,a?a.appendChild(this.transformedElement):this.baseElement=this.transformedElement):this.layerElement.setAttribute("clip-path","url(#"+l+")")),0!==this.data.bm&&this.setBlendMode(),this.layerElement!==this.parentContainer&&(this.placeholder=null),this.data.ef&&(this.effectsManager=new SVGEffects(this)),this.checkParenting()},SVGBaseElement.prototype.setBlendMode=BaseElement.prototype.setBlendMode,SVGBaseElement.prototype.renderFrame=function(a){var b,c,d,e;if(3===this.data.ty||this.data.hd)return!1;if(!this.isVisible)return this.isVisible;if(this.lastNum=this.currentFrameNum,this.finalTransform.opMdf=this.finalTransform.op.mdf,this.finalTransform.matMdf=this.finalTransform.mProp.mdf,this.finalTransform.opacity=this.finalTransform.op.v,this.firstFrame&&(this.finalTransform.opMdf=!0,this.finalTransform.matMdf=!0),c=this.finalTransform.mat,this.hierarchy)for(e=this.hierarchy.length,b=this.finalTransform.mProp.v.props,c.cloneFromProps(b),d=0;e>d;d+=1)this.finalTransform.matMdf=this.hierarchy[d].finalTransform.mProp.mdf?!0:this.finalTransform.matMdf,b=this.hierarchy[d].finalTransform.mProp.v.props,c.transform(b[0],b[1],b[2],b[3],b[4],b[5],b[6],b[7],b[8],b[9],b[10],b[11],b[12],b[13],b[14],b[15]);else this.isVisible&&c.cloneFromProps(this.finalTransform.mProp.v.props);return a&&(b=a.mat.props,c.transform(b[0],b[1],b[2],b[3],b[4],b[5],b[6],b[7],b[8],b[9],b[10],b[11],b[12],b[13],b[14],b[15]),this.finalTransform.opacity*=a.opacity,this.finalTransform.opMdf=a.opMdf?!0:this.finalTransform.opMdf,this.finalTransform.matMdf=a.matMdf?!0:this.finalTransform.matMdf),this.finalTransform.matMdf&&this.layerElement&&this.transformedElement.setAttribute("transform",c.to2dCSS()),this.finalTransform.opMdf&&this.layerElement&&this.transformedElement.setAttribute("opacity",this.finalTransform.opacity),this.data.hasMask&&this.maskManager.renderFrame(c),this.effectsManager&&this.effectsManager.renderFrame(this.firstFrame),this.isVisible},SVGBaseElement.prototype.destroy=function(){this.layerElement=null,this.parentContainer=null,this.matteElement&&(this.matteElement=null),this.maskManager&&this.maskManager.destroy()},SVGBaseElement.prototype.getBaseElement=function(){return this.baseElement},SVGBaseElement.prototype.addMasks=function(a){this.maskManager=new MaskElement(a,this,this.globalData)},SVGBaseElement.prototype.setMatte=function(a){this.matteElement&&this.matteElement.setAttribute("mask","url(#"+a+")")},SVGBaseElement.prototype.setMatte=function(a){this.matteElement&&this.matteElement.setAttribute("mask","url(#"+a+")")},SVGBaseElement.prototype.hide=function(){},ITextElement.prototype.init=function(){var a,b,c,e,f,d;if(this._parent.init.call(this),this.lettersChangedFlag=!1,this.currentTextDocumentData={},a=this.data,this.viewData={m:{a:PropertyFactory.getProp(this,a.t.m.a,1,0,this.dynamicProperties)}},b=this.data.t,b.a.length)for(this.viewData.a=Array.apply(null,{length:b.a.length}),d=b.a.length,c=0;d>c;c+=1)f=b.a[c],e={a:{},s:{}},"r"in f.a&&(e.a.r=PropertyFactory.getProp(this,f.a.r,0,degToRads,this.dynamicProperties)),"rx"in f.a&&(e.a.rx=PropertyFactory.getProp(this,f.a.rx,0,degToRads,this.dynamicProperties)),"ry"in f.a&&(e.a.ry=PropertyFactory.getProp(this,f.a.ry,0,degToRads,this.dynamicProperties)),"sk"in f.a&&(e.a.sk=PropertyFactory.getProp(this,f.a.sk,0,degToRads,this.dynamicProperties)),"sa"in f.a&&(e.a.sa=PropertyFactory.getProp(this,f.a.sa,0,degToRads,this.dynamicProperties)),"s"in f.a&&(e.a.s=PropertyFactory.getProp(this,f.a.s,1,.01,this.dynamicProperties)),"a"in f.a&&(e.a.a=PropertyFactory.getProp(this,f.a.a,1,0,this.dynamicProperties)),"o"in f.a&&(e.a.o=PropertyFactory.getProp(this,f.a.o,0,.01,this.dynamicProperties)),"p"in f.a&&(e.a.p=PropertyFactory.getProp(this,f.a.p,1,0,this.dynamicProperties)),"sw"in f.a&&(e.a.sw=PropertyFactory.getProp(this,f.a.sw,0,0,this.dynamicProperties)),"sc"in f.a&&(e.a.sc=PropertyFactory.getProp(this,f.a.sc,1,0,this.dynamicProperties)),"fc"in f.a&&(e.a.fc=PropertyFactory.getProp(this,f.a.fc,1,0,this.dynamicProperties)),"fh"in f.a&&(e.a.fh=PropertyFactory.getProp(this,f.a.fh,0,0,this.dynamicProperties)),"fs"in f.a&&(e.a.fs=PropertyFactory.getProp(this,f.a.fs,0,.01,this.dynamicProperties)),"fb"in f.a&&(e.a.fb=PropertyFactory.getProp(this,f.a.fb,0,.01,this.dynamicProperties)),"t"in f.a&&(e.a.t=PropertyFactory.getProp(this,f.a.t,0,0,this.dynamicProperties)),e.s=PropertyFactory.getTextSelectorProp(this,f.s,this.dynamicProperties),e.s.t=f.s.t,this.viewData.a[c]=e;else this.viewData.a=[];b.p&&"m"in b.p?(this.viewData.p={f:PropertyFactory.getProp(this,b.p.f,0,0,this.dynamicProperties),l:PropertyFactory.getProp(this,b.p.l,0,0,this.dynamicProperties),r:b.p.r,m:this.maskManager.getMaskProperty(b.p.m)},this.maskPath=!0):this.maskPath=!1},ITextElement.prototype.prepareFrame=function(a){var b=0,c=this.data.t.d.k.length,d=this.data.t.d.k[b].s;for(b+=1;c>b&&!(this.data.t.d.k[b].t>a);)d=this.data.t.d.k[b].s,b+=1;this.lettersChangedFlag=!1,d!==this.currentTextDocumentData&&(this.currentTextDocumentData=d,this.lettersChangedFlag=!0,this.buildNewText()),this._parent.prepareFrame.call(this,a)},ITextElement.prototype.createPathShape=function(a,b){var c,e,f,g,d=b.length,h="";for(c=0;d>c;c+=1){for(f=b[c].ks.k.i.length,g=b[c].ks.k,e=1;f>e;e+=1)1==e&&(h+=" M"+a.applyToPointStringified(g.v[0][0],g.v[0][1])),h+=" C"+a.applyToPointStringified(g.o[e-1][0],g.o[e-1][1])+" "+a.applyToPointStringified(g.i[e][0],g.i[e][1])+" "+a.applyToPointStringified(g.v[e][0],g.v[e][1]);h+=" C"+a.applyToPointStringified(g.o[e-1][0],g.o[e-1][1])+" "+a.applyToPointStringified(g.i[0][0],g.i[0][1])+" "+a.applyToPointStringified(g.v[0][0],g.v[0][1]),h+="z"}return h
},ITextElement.prototype.getMeasures=function(){var d,e,f,g,j,k,l,m,n,r,s,t,o,p,q,u,v,w,x,y,z,A,B,D,E,C,F,G,I,H,J,K,M,N,O,L,P,Q,R,S,T,U,V,W,X,Y,Z,$,_,ab,bb,cb,db,eb,a=this.mHelper,b=this.renderType,c=this.data,h=this.currentTextDocumentData,i=h.l;if(this.maskPath){if(j=this.viewData.p.m,!this.viewData.p.n||this.viewData.p.mdf){for(k=j.v,this.viewData.p.r&&(k=reversePath(k)),l={tLength:0,segments:[]},g=k.v.length-1,n=0,f=0;g>f;f+=1)m={s:k.v[f],e:k.v[f+1],to:[k.o[f][0]-k.v[f][0],k.o[f][1]-k.v[f][1]],ti:[k.i[f+1][0]-k.v[f+1][0],k.i[f+1][1]-k.v[f+1][1]]},bez.buildBezierData(m),l.tLength+=m.bezierData.segmentLength,l.segments.push(m),n+=m.bezierData.segmentLength;f=g,j.v.c&&(m={s:k.v[f],e:k.v[0],to:[k.o[f][0]-k.v[f][0],k.o[f][1]-k.v[f][1]],ti:[k.i[0][0]-k.v[0][0],k.i[0][1]-k.v[0][1]]},bez.buildBezierData(m),l.tLength+=m.bezierData.segmentLength,l.segments.push(m),n+=m.bezierData.segmentLength),this.viewData.p.pi=l}if(l=this.viewData.p.pi,o=this.viewData.p.f.v,p=0,q=1,u=0,v=!0,w=l.segments,0>o&&j.v.c)for(l.tLength<Math.abs(o)&&(o=-Math.abs(o)%l.tLength),p=w.length-1,t=w[p].bezierData.points,q=t.length-1;0>o;)o+=t[q].partialLength,q-=1,0>q&&(p-=1,t=w[p].bezierData.points,q=t.length-1);t=w[p].bezierData.points,s=t[q-1],r=t[q],x=r.partialLength}for(g=i.length,d=0,e=0,A=.714*1.2*h.s,B=!0,C=this.viewData,H=Array.apply(null,{length:g}),G=C.a.length,L=-1,P=o,Q=p,R=q,S=-1,Y=0,f=0;g>f;f+=1)if(a.reset(),T=1,i[f].n)d=0,e+=h.yOffset,e+=B?1:0,o=P,B=!1,Y=0,this.maskPath&&(p=Q,q=R,t=w[p].bezierData.points,s=t[q-1],r=t[q],x=r.partialLength,u=0),H[f]=this.emptyProp;else{if(this.maskPath){if(S!==i[f].line){switch(h.j){case 1:o+=n-h.lineWidths[i[f].line];break;case 2:o+=(n-h.lineWidths[i[f].line])/2}S=i[f].line}for(L!==i[f].ind&&(i[L]&&(o+=i[L].extra),o+=i[f].an/2,L=i[f].ind),o+=C.m.a.v[0]*i[f].an/200,db=0,F=0;G>F;F+=1)D=C.a[F].a,"p"in D&&(E=C.a[F].s,K=E.getMult(i[f].anIndexes[F],c.t.a[F].s.totalChars),db+=K.length?D.p.v[0]*K[0]:D.p.v[0]*K);for(v=!0;v;)u+x>=o+db||!t?(y=(o+db-u)/r.partialLength,N=s.point[0]+(r.point[0]-s.point[0])*y,O=s.point[1]+(r.point[1]-s.point[1])*y,a.translate(0,-(C.m.a.v[1]*A/100)+e),v=!1):t&&(u+=r.partialLength,q+=1,q>=t.length&&(q=0,p+=1,w[p]?t=w[p].bezierData.points:j.v.c?(q=0,p=0,t=w[p].bezierData.points):(u-=r.partialLength,t=null)),t&&(s=r,r=t[q],x=r.partialLength));M=i[f].an/2-i[f].add,a.translate(-M,0,0)}else M=i[f].an/2-i[f].add,a.translate(-M,0,0),a.translate(-C.m.a.v[0]*i[f].an/200,-C.m.a.v[1]*A/100,0);for(Y+=i[f].l/2,F=0;G>F;F+=1)D=C.a[F].a,"t"in D&&(E=C.a[F].s,K=E.getMult(i[f].anIndexes[F],c.t.a[F].s.totalChars),this.maskPath?o+=K.length?D.t*K[0]:D.t*K:d+=K.length?D.t.v*K[0]:D.t.v*K);for(Y+=i[f].l/2,h.strokeWidthAnim&&(V=h.sw||0),h.strokeColorAnim&&(U=h.sc?[h.sc[0],h.sc[1],h.sc[2]]:[0,0,0]),h.fillColorAnim&&(W=[h.fc[0],h.fc[1],h.fc[2]]),F=0;G>F;F+=1)D=C.a[F].a,"a"in D&&(E=C.a[F].s,K=E.getMult(i[f].anIndexes[F],c.t.a[F].s.totalChars),K.length?a.translate(-D.a.v[0]*K[0],-D.a.v[1]*K[1],D.a.v[2]*K[2]):a.translate(-D.a.v[0]*K,-D.a.v[1]*K,D.a.v[2]*K));for(F=0;G>F;F+=1)D=C.a[F].a,"s"in D&&(E=C.a[F].s,K=E.getMult(i[f].anIndexes[F],c.t.a[F].s.totalChars),K.length?a.scale(1+(D.s.v[0]-1)*K[0],1+(D.s.v[1]-1)*K[1],1):a.scale(1+(D.s.v[0]-1)*K,1+(D.s.v[1]-1)*K,1));for(F=0;G>F;F+=1){if(D=C.a[F].a,E=C.a[F].s,K=E.getMult(i[f].anIndexes[F],c.t.a[F].s.totalChars),"sk"in D&&(K.length?a.skewFromAxis(-D.sk.v*K[0],D.sa.v*K[1]):a.skewFromAxis(-D.sk.v*K,D.sa.v*K)),"r"in D&&(K.length?a.rotateZ(-D.r.v*K[2]):a.rotateZ(-D.r.v*K)),"ry"in D&&(K.length?a.rotateY(D.ry.v*K[1]):a.rotateY(D.ry.v*K)),"rx"in D&&(K.length?a.rotateX(D.rx.v*K[0]):a.rotateX(D.rx.v*K)),"o"in D&&(T+=K.length?(D.o.v*K[0]-T)*K[0]:(D.o.v*K-T)*K),h.strokeWidthAnim&&"sw"in D&&(V+=K.length?D.sw.v*K[0]:D.sw.v*K),h.strokeColorAnim&&"sc"in D)for(X=0;3>X;X+=1)U[X]=K.length?Math.round(255*(U[X]+(D.sc.v[X]-U[X])*K[0])):Math.round(255*(U[X]+(D.sc.v[X]-U[X])*K));if(h.fillColorAnim){if("fc"in D)for(X=0;3>X;X+=1)W[X]=K.length?W[X]+(D.fc.v[X]-W[X])*K[0]:W[X]+(D.fc.v[X]-W[X])*K;"fh"in D&&(W=K.length?addHueToRGB(W,D.fh.v*K[0]):addHueToRGB(W,D.fh.v*K)),"fs"in D&&(W=K.length?addSaturationToRGB(W,D.fs.v*K[0]):addSaturationToRGB(W,D.fs.v*K)),"fb"in D&&(W=K.length?addBrightnessToRGB(W,D.fb.v*K[0]):addBrightnessToRGB(W,D.fb.v*K))}}for(F=0;G>F;F+=1)D=C.a[F].a,"p"in D&&(E=C.a[F].s,K=E.getMult(i[f].anIndexes[F],c.t.a[F].s.totalChars),this.maskPath?K.length?a.translate(0,D.p.v[1]*K[0],-D.p.v[2]*K[1]):a.translate(0,D.p.v[1]*K,-D.p.v[2]*K):K.length?a.translate(D.p.v[0]*K[0],D.p.v[1]*K[1],-D.p.v[2]*K[2]):a.translate(D.p.v[0]*K,D.p.v[1]*K,-D.p.v[2]*K));if(h.strokeWidthAnim&&(Z=0>V?0:V),h.strokeColorAnim&&($="rgb("+Math.round(255*U[0])+","+Math.round(255*U[1])+","+Math.round(255*U[2])+")"),h.fillColorAnim&&(_="rgb("+Math.round(255*W[0])+","+Math.round(255*W[1])+","+Math.round(255*W[2])+")"),this.maskPath)c.t.p.p&&(z=(r.point[1]-s.point[1])/(r.point[0]-s.point[0]),eb=180*Math.atan(z)/Math.PI,r.point[0]<s.point[0]&&(eb+=180),a.rotate(-eb*Math.PI/180)),a.translate(N,O,0),a.translate(C.m.a.v[0]*i[f].an/200,C.m.a.v[1]*A/100,0),o-=C.m.a.v[0]*i[f].an/200,i[f+1]&&L!==i[f+1].ind&&(o+=i[f].an/2,o+=h.tr/1e3*h.s);else{switch(a.translate(d,e,0),h.ps&&a.translate(h.ps[0],h.ps[1]+h.ascent,0),h.j){case 1:a.translate(h.justifyOffset+(h.boxWidth-h.lineWidths[i[f].line]),0,0);break;case 2:a.translate(h.justifyOffset+(h.boxWidth-h.lineWidths[i[f].line])/2,0,0)}a.translate(M,0,0),a.translate(C.m.a.v[0]*i[f].an/200,C.m.a.v[1]*A/100,0),d+=i[f].l+h.tr/1e3*h.s}"html"===b?ab=a.toCSS():"svg"===b?ab=a.to2dCSS():bb=[a.props[0],a.props[1],a.props[2],a.props[3],a.props[4],a.props[5],a.props[6],a.props[7],a.props[8],a.props[9],a.props[10],a.props[11],a.props[12],a.props[13],a.props[14],a.props[15]],cb=T,J=this.renderedLetters[f],!J||J.o===cb&&J.sw===Z&&J.sc===$&&J.fc===_?"svg"!==b&&"html"!==b||J&&J.m===ab?"canvas"!==b||J&&J.props[0]===bb[0]&&J.props[1]===bb[1]&&J.props[4]===bb[4]&&J.props[5]===bb[5]&&J.props[12]===bb[12]&&J.props[13]===bb[13]?I=J:(this.lettersChangedFlag=!0,I=new LetterProps(cb,Z,$,_,null,bb)):(this.lettersChangedFlag=!0,I=new LetterProps(cb,Z,$,_,ab)):(this.lettersChangedFlag=!0,I=new LetterProps(cb,Z,$,_,ab,bb)),this.renderedLetters[f]=I}},ITextElement.prototype.emptyProp=new LetterProps,createElement(SVGBaseElement,SVGTextElement),SVGTextElement.prototype.init=ITextElement.prototype.init,SVGTextElement.prototype.createPathShape=ITextElement.prototype.createPathShape,SVGTextElement.prototype.getMeasures=ITextElement.prototype.getMeasures,SVGTextElement.prototype.prepareFrame=ITextElement.prototype.prepareFrame,SVGTextElement.prototype.createElements=function(){this._parent.createElements.call(this),this.data.ln&&this.layerElement.setAttribute("id",this.data.ln),this.data.cl&&this.layerElement.setAttribute("class",this.data.cl)},SVGTextElement.prototype.buildNewText=function(){var a,b,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,c=this.currentTextDocumentData;if(this.renderedLetters=Array.apply(null,{length:this.currentTextDocumentData.l?this.currentTextDocumentData.l.length:0}),c.fc?this.layerElement.setAttribute("fill","rgb("+Math.round(255*c.fc[0])+","+Math.round(255*c.fc[1])+","+Math.round(255*c.fc[2])+")"):this.layerElement.setAttribute("fill","rgba(0,0,0,0)"),c.sc&&(this.layerElement.setAttribute("stroke","rgb("+Math.round(255*c.sc[0])+","+Math.round(255*c.sc[1])+","+Math.round(255*c.sc[2])+")"),this.layerElement.setAttribute("stroke-width",c.sw)),this.layerElement.setAttribute("font-size",c.s),d=this.globalData.fontManager.getFontByName(c.f),d.fClass?this.layerElement.setAttribute("class",d.fClass):(this.layerElement.setAttribute("font-family",d.fFamily),e=c.fWeight,f=c.fStyle,this.layerElement.setAttribute("font-style",f),this.layerElement.setAttribute("font-weight",e)),g=c.l||[],b=g.length){for(i=this.mHelper,k="",l=this.data.singleShape,l&&(m=0,n=0,o=c.lineWidths,p=c.boxWidth,q=!0),r=0,a=0;b>a;a+=1){if(this.globalData.fontManager.chars?l&&0!==a||(h=this.textSpans[r]?this.textSpans[r]:document.createElementNS(svgNS,"path")):h=this.textSpans[r]?this.textSpans[r]:document.createElementNS(svgNS,"text"),h.style.display="inherit",h.setAttribute("stroke-linecap","butt"),h.setAttribute("stroke-linejoin","round"),h.setAttribute("stroke-miterlimit","4"),l&&g[a].n&&(m=0,n+=c.yOffset,n+=q?1:0,q=!1),i.reset(),this.globalData.fontManager.chars&&i.scale(c.s/100,c.s/100),l){switch(c.ps&&i.translate(c.ps[0],c.ps[1]+c.ascent,0),c.j){case 1:i.translate(c.justifyOffset+(p-o[g[a].line]),0,0);break;case 2:i.translate(c.justifyOffset+(p-o[g[a].line])/2,0,0)}i.translate(m,n,0)}this.globalData.fontManager.chars?(s=this.globalData.fontManager.getCharData(c.t.charAt(a),d.fStyle,this.globalData.fontManager.getFontByName(c.f).fFamily),t=s?s.data:null,t&&t.shapes&&(j=t.shapes[0].it,l||(k=""),k+=this.createPathShape(i,j),l||h.setAttribute("d",k)),l||this.layerElement.appendChild(h)):(h.textContent=g[a].val,h.setAttributeNS("http://www.w3.org/XML/1998/namespace","xml:space","preserve"),this.layerElement.appendChild(h),l&&h.setAttribute("transform",i.to2dCSS())),l&&(m+=g[a].l,m+=c.tr/1e3*c.s),this.textSpans[r]=h,r+=1}if(!l)for(;r<this.textSpans.length;)this.textSpans[r].style.display="none",r+=1;l&&this.globalData.fontManager.chars&&(h.setAttribute("d",k),this.layerElement.appendChild(h))}},SVGTextElement.prototype.hide=function(){this.hidden||(this.layerElement.style.display="none",this.hidden=!0)},SVGTextElement.prototype.renderFrame=function(a){var c,d,e,f,g,b=this._parent.renderFrame.call(this,a);if(b===!1)return this.hide(),void 0;if(this.hidden&&(this.hidden=!1,this.layerElement.style.display="block"),!this.data.singleShape&&(this.getMeasures(),this.lettersChangedFlag)){for(e=this.renderedLetters,f=this.currentTextDocumentData.l,d=f.length,c=0;d>c;c+=1)f[c].n||(g=e[c],this.textSpans[c].setAttribute("transform",g.m),this.textSpans[c].setAttribute("opacity",g.o),g.sw&&this.textSpans[c].setAttribute("stroke-width",g.sw),g.sc&&this.textSpans[c].setAttribute("stroke",g.sc),g.fc&&this.textSpans[c].setAttribute("fill",g.fc));this.firstFrame&&(this.firstFrame=!1)}},SVGTextElement.prototype.destroy=function(){this._parent.destroy.call(this._parent)},SVGTintFilter.prototype.renderFrame=function(a){var b,c,d;(a||this.filterManager.mdf)&&(b=this.filterManager.effectElements[0].p.v,c=this.filterManager.effectElements[1].p.v,d=this.filterManager.effectElements[2].p.v/100,this.matrixFilter.setAttribute("values",c[0]-b[0]+" 0 0 0 "+b[0]+" "+(c[1]-b[1])+" 0 0 0 "+b[1]+" "+(c[2]-b[2])+" 0 0 0 "+b[2]+" 0 0 0 "+d+" 0"))},SVGFillFilter.prototype.renderFrame=function(a){var b,c;(a||this.filterManager.mdf)&&(b=this.filterManager.effectElements[2].p.v,c=this.filterManager.effectElements[6].p.v,this.matrixFilter.setAttribute("values","0 0 0 0 "+b[0]+" 0 0 0 0 "+b[1]+" 0 0 0 0 "+b[2]+" 0 0 0 "+c+" 0"))},SVGStrokeEffect.prototype.initialize=function(){var b,c,d,e,f,g,h,a=this.elem.layerElement.children||this.elem.layerElement.childNodes;for(1===this.filterManager.effectElements[1].p.v?(e=this.elem.maskManager.masksProperties.length,d=0):(d=this.filterManager.effectElements[0].p.v-1,e=d+1),c=document.createElementNS(svgNS,"g"),c.setAttribute("fill","none"),c.setAttribute("stroke-linecap","round"),c.setAttribute("stroke-dashoffset",1),d;e>d;d+=1)b=document.createElementNS(svgNS,"path"),c.appendChild(b),this.paths.push({p:b,m:d});if(3===this.filterManager.effectElements[10].p.v)f=document.createElementNS(svgNS,"mask"),g="stms_"+randomString(10),f.setAttribute("id",g),f.setAttribute("mask-type","alpha"),f.appendChild(c),this.elem.globalData.defs.appendChild(f),h=document.createElementNS(svgNS,"g"),h.setAttribute("mask","url(#"+g+")"),a[0]&&h.appendChild(a[0]),this.elem.layerElement.appendChild(h),this.masker=f,c.setAttribute("stroke","#fff");else if(1===this.filterManager.effectElements[10].p.v||2===this.filterManager.effectElements[10].p.v){if(2===this.filterManager.effectElements[10].p.v)for(a=this.elem.layerElement.children||this.elem.layerElement.childNodes;a.length;)this.elem.layerElement.removeChild(a[0]);this.elem.layerElement.appendChild(c),this.elem.layerElement.removeAttribute("mask"),c.setAttribute("stroke","#fff")}this.initialized=!0,this.pathMasker=c},SVGStrokeEffect.prototype.renderFrame=function(a){var b,c,d,e,f,g,h,i,j,k,l,m,n;for(this.initialized||this.initialize(),c=this.paths.length,b=0;c>b;b+=1)if(d=this.elem.maskManager.viewData[this.paths[b].m],e=this.paths[b].p,(a||this.filterManager.mdf||d.prop.mdf)&&e.setAttribute("d",d.lastPath),a||this.filterManager.effectElements[9].p.mdf||this.filterManager.effectElements[4].p.mdf||this.filterManager.effectElements[7].p.mdf||this.filterManager.effectElements[8].p.mdf||d.prop.mdf){if(0!==this.filterManager.effectElements[7].p.v||100!==this.filterManager.effectElements[8].p.v){for(g=Math.min(this.filterManager.effectElements[7].p.v,this.filterManager.effectElements[8].p.v)/100,h=Math.max(this.filterManager.effectElements[7].p.v,this.filterManager.effectElements[8].p.v)/100,i=e.getTotalLength(),f="0 0 0 "+i*g+" ",j=i*(h-g),k=1+2*this.filterManager.effectElements[4].p.v*this.filterManager.effectElements[9].p.v/100,l=Math.floor(j/k),m=0;l>m;m+=1)f+="1 "+2*this.filterManager.effectElements[4].p.v*this.filterManager.effectElements[9].p.v/100+" ";f+="0 "+10*i+" 0 0"}else f="1 "+2*this.filterManager.effectElements[4].p.v*this.filterManager.effectElements[9].p.v/100;e.setAttribute("stroke-dasharray",f)}(a||this.filterManager.effectElements[4].p.mdf)&&this.pathMasker.setAttribute("stroke-width",2*this.filterManager.effectElements[4].p.v),(a||this.filterManager.effectElements[6].p.mdf)&&this.pathMasker.setAttribute("opacity",this.filterManager.effectElements[6].p.v),(1===this.filterManager.effectElements[10].p.v||2===this.filterManager.effectElements[10].p.v)&&(a||this.filterManager.effectElements[3].p.mdf)&&(n=this.filterManager.effectElements[3].p.v,this.pathMasker.setAttribute("stroke","rgb("+bm_floor(255*n[0])+","+bm_floor(255*n[1])+","+bm_floor(255*n[2])+")"))},SVGTritoneFilter.prototype.renderFrame=function(a){var b,c,d,e,f,g;(a||this.filterManager.mdf)&&(b=this.filterManager.effectElements[0].p.v,c=this.filterManager.effectElements[1].p.v,d=this.filterManager.effectElements[2].p.v,e=d[0]+" "+c[0]+" "+b[0],f=d[1]+" "+c[1]+" "+b[1],g=d[2]+" "+c[2]+" "+b[2],this.feFuncR.setAttribute("tableValues",e),this.feFuncG.setAttribute("tableValues",f),this.feFuncB.setAttribute("tableValues",g))},SVGProLevelsFilter.prototype.createFeFunc=function(a,b){var c=document.createElementNS(svgNS,a);return c.setAttribute("type","table"),b.appendChild(c),c},SVGProLevelsFilter.prototype.getTableValue=function(a,b,c,d,e){for(var h,l,f=0,g=256,i=Math.min(a,b),j=Math.max(a,b),k=Array.call(null,{length:g}),m=0,n=e-d,o=b-a;256>=f;)h=f/256,l=i>=h?0>o?e:d:h>=j?0>o?d:e:d+n*Math.pow((h-a)/o,1/c),k[m++]=l,f+=256/(g-1);return k.join(" ")},SVGProLevelsFilter.prototype.renderFrame=function(a){var b,f;(a||this.filterManager.mdf)&&(f=this.filterManager.effectElements,this.feFuncRComposed&&(a||f[2].p.mdf||f[3].p.mdf||f[4].p.mdf||f[5].p.mdf||f[6].p.mdf)&&(b=this.getTableValue(f[2].p.v,f[3].p.v,f[4].p.v,f[5].p.v,f[6].p.v),this.feFuncRComposed.setAttribute("tableValues",b),this.feFuncGComposed.setAttribute("tableValues",b),this.feFuncBComposed.setAttribute("tableValues",b)),this.feFuncR&&(a||f[9].p.mdf||f[10].p.mdf||f[11].p.mdf||f[12].p.mdf||f[13].p.mdf)&&(b=this.getTableValue(f[9].p.v,f[10].p.v,f[11].p.v,f[12].p.v,f[13].p.v),this.feFuncR.setAttribute("tableValues",b)),this.feFuncG&&(a||f[16].p.mdf||f[17].p.mdf||f[18].p.mdf||f[19].p.mdf||f[20].p.mdf)&&(b=this.getTableValue(f[16].p.v,f[17].p.v,f[18].p.v,f[19].p.v,f[20].p.v),this.feFuncG.setAttribute("tableValues",b)),this.feFuncB&&(a||f[23].p.mdf||f[24].p.mdf||f[25].p.mdf||f[26].p.mdf||f[27].p.mdf)&&(b=this.getTableValue(f[23].p.v,f[24].p.v,f[25].p.v,f[26].p.v,f[27].p.v),this.feFuncB.setAttribute("tableValues",b)),this.feFuncA&&(a||f[30].p.mdf||f[31].p.mdf||f[32].p.mdf||f[33].p.mdf||f[34].p.mdf)&&(b=this.getTableValue(f[30].p.v,f[31].p.v,f[32].p.v,f[33].p.v,f[34].p.v),this.feFuncA.setAttribute("tableValues",b)))},SVGEffects.prototype.renderFrame=function(a){var b,c=this.filters.length;for(b=0;c>b;b+=1)this.filters[b].renderFrame(a)},createElement(SVGBaseElement,ICompElement),ICompElement.prototype.hide=function(){if(!this.hidden){var a,b=this.elements.length;for(a=0;b>a;a+=1)this.elements[a]&&this.elements[a].hide();this.hidden=!0}},ICompElement.prototype.prepareFrame=function(a){var b,c,d;if(this._parent.prepareFrame.call(this,a),this.isVisible!==!1||this.data.xt)for(this.tm?(b=this.tm.v,b===this.data.op&&(b=this.data.op-1),this.renderedFrame=b):this.renderedFrame=a/this.data.sr,d=this.elements.length,this.completeLayers||this.checkLayers(this.renderedFrame),c=0;d>c;c+=1)(this.completeLayers||this.elements[c])&&this.elements[c].prepareFrame(this.renderedFrame-this.layers[c].st)},ICompElement.prototype.renderFrame=function(a){var c,b=this._parent.renderFrame.call(this,a),d=this.layers.length;if(b===!1)return this.hide(),void 0;for(this.hidden=!1,c=0;d>c;c+=1)(this.completeLayers||this.elements[c])&&this.elements[c].renderFrame();this.firstFrame&&(this.firstFrame=!1)},ICompElement.prototype.setElements=function(a){this.elements=a},ICompElement.prototype.getElements=function(){return this.elements},ICompElement.prototype.destroy=function(){this._parent.destroy.call(this._parent);var a,b=this.layers.length;for(a=0;b>a;a+=1)this.elements[a]&&this.elements[a].destroy()},ICompElement.prototype.checkLayers=SVGRenderer.prototype.checkLayers,ICompElement.prototype.buildItem=SVGRenderer.prototype.buildItem,ICompElement.prototype.buildAllItems=SVGRenderer.prototype.buildAllItems,ICompElement.prototype.buildElementParenting=SVGRenderer.prototype.buildElementParenting,ICompElement.prototype.createItem=SVGRenderer.prototype.createItem,ICompElement.prototype.createImage=SVGRenderer.prototype.createImage,ICompElement.prototype.createComp=SVGRenderer.prototype.createComp,ICompElement.prototype.createSolid=SVGRenderer.prototype.createSolid,ICompElement.prototype.createShape=SVGRenderer.prototype.createShape,ICompElement.prototype.createText=SVGRenderer.prototype.createText,ICompElement.prototype.createBase=SVGRenderer.prototype.createBase,ICompElement.prototype.appendElementInPos=SVGRenderer.prototype.appendElementInPos,ICompElement.prototype.checkPendingElements=SVGRenderer.prototype.checkPendingElements,ICompElement.prototype.addPendingElement=SVGRenderer.prototype.addPendingElement,createElement(SVGBaseElement,IImageElement),IImageElement.prototype.createElements=function(){var a=this.globalData.getAssetsPath(this.assetData);this._parent.createElements.call(this),this.innerElem=document.createElementNS(svgNS,"image"),this.innerElem.setAttribute("width",this.assetData.w+"px"),this.innerElem.setAttribute("height",this.assetData.h+"px"),this.innerElem.setAttribute("preserveAspectRatio","xMidYMid slice"),this.innerElem.setAttributeNS("http://www.w3.org/1999/xlink","href",a),this.maskedElement=this.innerElem,this.layerElement.appendChild(this.innerElem),this.data.ln&&this.layerElement.setAttribute("id",this.data.ln),this.data.cl&&this.layerElement.setAttribute("class",this.data.cl)},IImageElement.prototype.hide=function(){this.hidden||(this.layerElement.style.display="none",this.hidden=!0)},IImageElement.prototype.renderFrame=function(a){var b=this._parent.renderFrame.call(this,a);return b===!1?(this.hide(),void 0):(this.hidden&&(this.hidden=!1,this.layerElement.style.display="block"),this.firstFrame&&(this.firstFrame=!1),void 0)},IImageElement.prototype.destroy=function(){this._parent.destroy.call(this._parent),this.innerElem=null},createElement(SVGBaseElement,IShapeElement),IShapeElement.prototype.lcEnum={1:"butt",2:"round",3:"butt"},IShapeElement.prototype.ljEnum={1:"miter",2:"round",3:"butt"},IShapeElement.prototype.buildExpressionInterface=function(){},IShapeElement.prototype.createElements=function(){this._parent.createElements.call(this),this.searchShapes(this.shapesData,this.viewData,this.layerElement,this.dynamicProperties,0),(!this.data.hd||this.data.td)&&styleUnselectableDiv(this.layerElement)},IShapeElement.prototype.setGradientData=function(a,b,c){var e,f,g,h,i,d="gr_"+randomString(10);for(e=1===b.t?document.createElementNS(svgNS,"linearGradient"):document.createElementNS(svgNS,"radialGradient"),e.setAttribute("id",d),e.setAttribute("spreadMethod","pad"),e.setAttribute("gradientUnits","userSpaceOnUse"),f=[],i=4*b.g.p,h=0;i>h;h+=4)g=document.createElementNS(svgNS,"stop"),e.appendChild(g),f.push(g);a.setAttribute("gf"===b.ty?"fill":"stroke","url(#"+d+")"),this.globalData.defs.appendChild(e),c.gf=e,c.cst=f},IShapeElement.prototype.setGradientOpacity=function(a,b,c){var d,e,f,g,h,i,j,k,l;if(a.g.k.k[0].s&&a.g.k.k[0].s.length>4*a.g.p||a.g.k.k.length>4*a.g.p){for(h=document.createElementNS(svgNS,"mask"),i=document.createElementNS(svgNS,"path"),h.appendChild(i),j="op_"+randomString(10),k="mk_"+randomString(10),h.setAttribute("id",k),d=1===a.t?document.createElementNS(svgNS,"linearGradient"):document.createElementNS(svgNS,"radialGradient"),d.setAttribute("id",j),d.setAttribute("spreadMethod","pad"),d.setAttribute("gradientUnits","userSpaceOnUse"),g=a.g.k.k[0].s?a.g.k.k[0].s.length:a.g.k.k.length,l=[],f=4*a.g.p;g>f;f+=2)e=document.createElementNS(svgNS,"stop"),e.setAttribute("stop-color","rgb(255,255,255)"),d.appendChild(e),l.push(e);return i.setAttribute("gf"===a.ty?"fill":"stroke","url(#"+j+")"),this.globalData.defs.appendChild(d),this.globalData.defs.appendChild(h),b.of=d,b.ost=l,c.msElem=i,k}},IShapeElement.prototype.searchShapes=function(a,b,c,d,e,f){var g,h,i,j,k,n,o,l,m,p,q,r,s,t,u;for(f=f||[],g=[].concat(f),i=a.length-1,l=[],m=[],h=i;h>=0;h-=1)if("fl"==a[h].ty||"st"==a[h].ty||"gf"==a[h].ty||"gs"==a[h].ty)b[h]={},n={type:a[h].ty,d:"",ld:"",lvl:e,mdf:!1},p=document.createElementNS(svgNS,"path"),b[h].o=PropertyFactory.getProp(this,a[h].o,0,.01,d),("st"==a[h].ty||"gs"==a[h].ty)&&(p.setAttribute("stroke-linecap",this.lcEnum[a[h].lc]||"round"),p.setAttribute("stroke-linejoin",this.ljEnum[a[h].lj]||"round"),p.setAttribute("fill-opacity","0"),1==a[h].lj&&p.setAttribute("stroke-miterlimit",a[h].ml),b[h].w=PropertyFactory.getProp(this,a[h].w,0,null,d),a[h].d&&(q=PropertyFactory.getDashProp(this,a[h].d,"svg",d),q.k||(p.setAttribute("stroke-dasharray",q.dasharray),p.setAttribute("stroke-dashoffset",q.dashoffset)),b[h].d=q)),"fl"==a[h].ty||"st"==a[h].ty?(b[h].c=PropertyFactory.getProp(this,a[h].c,1,255,d),c.appendChild(p)):(b[h].g=PropertyFactory.getGradientProp(this,a[h].g,d),2==a[h].t&&(b[h].h=PropertyFactory.getProp(this,a[h].h,1,.01,d),b[h].a=PropertyFactory.getProp(this,a[h].a,1,degToRads,d)),b[h].s=PropertyFactory.getProp(this,a[h].s,1,null,d),b[h].e=PropertyFactory.getProp(this,a[h].e,1,null,d),this.setGradientData(p,a[h],b[h],n),r=this.setGradientOpacity(a[h],b[h],n),r&&p.setAttribute("mask","url(#"+r+")"),b[h].elem=p,c.appendChild(p)),2===a[h].r&&p.setAttribute("fill-rule","evenodd"),a[h].ln&&p.setAttribute("id",a[h].ln),a[h].cl&&p.setAttribute("class",a[h].cl),n.pElem=p,this.stylesList.push(n),b[h].style=n,l.push(n);else if("gr"==a[h].ty)b[h]={it:[]},s=document.createElementNS(svgNS,"g"),c.appendChild(s),b[h].gr=s,this.searchShapes(a[h].it,b[h].it,s,d,e+1,f);else if("tr"==a[h].ty)b[h]={transform:{op:PropertyFactory.getProp(this,a[h].o,0,.01,d),mProps:PropertyFactory.getProp(this,a[h],2,null,d)},elements:[]},o=b[h].transform,g.push(o);else if("sh"==a[h].ty||"rc"==a[h].ty||"el"==a[h].ty||"sr"==a[h].ty)for(b[h]={elements:[],caches:[],styles:[],transformers:g,lStr:""},t=4,"rc"==a[h].ty?t=5:"el"==a[h].ty?t=6:"sr"==a[h].ty&&(t=7),b[h].sh=ShapePropertyFactory.getShapeProp(this,a[h],t,d),b[h].lvl=e,this.shapes.push(b[h].sh),this.addShapeToModifiers(b[h].sh),k=this.stylesList.length,j=0;k>j;j+=1)this.stylesList[j].closed||b[h].elements.push({ty:this.stylesList[j].type,st:this.stylesList[j]});else("tm"==a[h].ty||"rd"==a[h].ty||"ms"==a[h].ty)&&(u=ShapeModifiers.getModifier(a[h].ty),u.init(this,a[h],d),this.shapeModifiers.push(u),m.push(u),b[h]=u);for(i=l.length,h=0;i>h;h+=1)l[h].closed=!0;for(i=m.length,h=0;i>h;h+=1)m[h].closed=!0},IShapeElement.prototype.addShapeToModifiers=function(a){var b,c=this.shapeModifiers.length;for(b=0;c>b;b+=1)this.shapeModifiers[b].addShape(a)},IShapeElement.prototype.renderModifiers=function(){if(this.shapeModifiers.length){var a,b=this.shapes.length;for(a=0;b>a;a+=1)this.shapes[a].reset();for(b=this.shapeModifiers.length,a=b-1;a>=0;a-=1)this.shapeModifiers[a].processShapes(this.firstFrame)}},IShapeElement.prototype.renderFrame=function(a){var b=this._parent.renderFrame.call(this,a);return b===!1?(this.hide(),void 0):(this.globalToLocal([0,0,0]),this.hidden&&(this.layerElement.style.display="block",this.hidden=!1),this.renderModifiers(),this.renderShape(null,null,!0,null),void 0)},IShapeElement.prototype.hide=function(){if(!this.hidden){this.layerElement.style.display="none";var a,b=this.stylesList.length;for(a=b-1;a>=0;a-=1)"0"!==this.stylesList[a].ld&&(this.stylesList[a].ld="0",this.stylesList[a].pElem.style.display="none",this.stylesList[a].pElem.parentNode&&(this.stylesList[a].parent=this.stylesList[a].pElem.parentNode));this.hidden=!0}},IShapeElement.prototype.renderShape=function(a,b,c,d){var e,f,g;if(!a)for(a=this.shapesData,f=this.stylesList.length,e=0;f>e;e+=1)this.stylesList[e].d="",this.stylesList[e].mdf=!1;for(b||(b=this.viewData),f=a.length-1,e=f;e>=0;e-=1)g=a[e].ty,"tr"==g?((this.firstFrame||b[e].transform.op.mdf&&d)&&d.setAttribute("opacity",b[e].transform.op.v),(this.firstFrame||b[e].transform.mProps.mdf&&d)&&d.setAttribute("transform",b[e].transform.mProps.v.to2dCSS())):"sh"==g||"el"==g||"rc"==g||"sr"==g?this.renderPath(a[e],b[e]):"fl"==g?this.renderFill(a[e],b[e]):"gf"==g?this.renderGradient(a[e],b[e]):"gs"==g?(this.renderGradient(a[e],b[e]),this.renderStroke(a[e],b[e])):"st"==g?this.renderStroke(a[e],b[e]):"gr"==g&&this.renderShape(a[e].it,b[e].it,!1,b[e].gr);if(c){for(f=this.stylesList.length,e=0;f>e;e+=1)"0"===this.stylesList[e].ld&&(this.stylesList[e].ld="1",this.stylesList[e].pElem.style.display="block"),(this.stylesList[e].mdf||this.firstFrame)&&(this.stylesList[e].pElem.setAttribute("d",this.stylesList[e].d),this.stylesList[e].msElem&&this.stylesList[e].msElem.setAttribute("d",this.stylesList[e].d));this.firstFrame&&(this.firstFrame=!1)}},IShapeElement.prototype.renderPath=function(a,b){var c,d,e,f,g,h,i,j,m,o,n,p,k=b.elements.length,l=b.lvl;for(j=0;k>j;j+=1){if(h=b.sh.mdf||this.firstFrame,g="",m=b.sh.paths,f=m.length,b.elements[j].st.lvl<l){for(n=this.mHelper.reset(),p=b.transformers.length-1;p>=0;p-=1)h=b.transformers[p].mProps.mdf||h,o=b.transformers[p].mProps.v.props,n.transform(o[0],o[1],o[2],o[3],o[4],o[5],o[6],o[7],o[8],o[9],o[10],o[11],o[12],o[13],o[14],o[15]);if(h){for(e=0;f>e;e+=1)if(i=m[e],i&&i.v){for(c=i.v.length,d=1;c>d;d+=1)1==d&&(g+=" M"+n.applyToPointStringified(i.v[0][0],i.v[0][1])),g+=" C"+n.applyToPointStringified(i.o[d-1][0],i.o[d-1][1])+" "+n.applyToPointStringified(i.i[d][0],i.i[d][1])+" "+n.applyToPointStringified(i.v[d][0],i.v[d][1]);1==c&&(g+=" M"+n.applyToPointStringified(i.v[0][0],i.v[0][1])),i.c&&(g+=" C"+n.applyToPointStringified(i.o[d-1][0],i.o[d-1][1])+" "+n.applyToPointStringified(i.i[0][0],i.i[0][1])+" "+n.applyToPointStringified(i.v[0][0],i.v[0][1]),g+="z")}b.caches[j]=g}else g=b.caches[j]}else if(h){for(e=0;f>e;e+=1)if(i=m[e],i&&i.v){for(c=i.v.length,d=1;c>d;d+=1)1==d&&(g+=" M"+i.v[0].join(",")),g+=" C"+i.o[d-1].join(",")+" "+i.i[d].join(",")+" "+i.v[d].join(",");1==c&&(g+=" M"+i.v[0].join(",")),i.c&&c&&(g+=" C"+i.o[d-1].join(",")+" "+i.i[0].join(",")+" "+i.v[0].join(","),g+="z")}b.caches[j]=g}else g=b.caches[j];b.elements[j].st.d+=g,b.elements[j].st.mdf=h||b.elements[j].st.mdf}},IShapeElement.prototype.renderFill=function(a,b){var c=b.style;(b.c.mdf||this.firstFrame)&&c.pElem.setAttribute("fill","rgb("+bm_floor(b.c.v[0])+","+bm_floor(b.c.v[1])+","+bm_floor(b.c.v[2])+")"),(b.o.mdf||this.firstFrame)&&c.pElem.setAttribute("fill-opacity",b.o.v)},IShapeElement.prototype.renderGradient=function(a,b){var g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,c=b.gf,d=b.of,e=b.s.v,f=b.e.v;if((b.o.mdf||this.firstFrame)&&(g="gf"===a.ty?"fill-opacity":"stroke-opacity",b.elem.setAttribute(g,b.o.v)),(b.s.mdf||this.firstFrame)&&(h=1===a.t?"x1":"cx",i="x1"===h?"y1":"cy",c.setAttribute(h,e[0]),c.setAttribute(i,e[1]),d&&(d.setAttribute(h,e[0]),d.setAttribute(i,e[1]))),b.g.cmdf||this.firstFrame)for(j=b.cst,n=b.g.c,l=j.length,k=0;l>k;k+=1)m=j[k],m.setAttribute("offset",n[4*k]+"%"),m.setAttribute("stop-color","rgb("+n[4*k+1]+","+n[4*k+2]+","+n[4*k+3]+")");if(d&&(b.g.omdf||this.firstFrame))for(j=b.ost,o=b.g.o,l=j.length,k=0;l>k;k+=1)m=j[k],m.setAttribute("offset",o[2*k]+"%"),m.setAttribute("stop-opacity",o[2*k+1]);1===a.t?(b.e.mdf||this.firstFrame)&&(c.setAttribute("x2",f[0]),c.setAttribute("y2",f[1]),d&&(d.setAttribute("x2",f[0]),d.setAttribute("y2",f[1]))):((b.s.mdf||b.e.mdf||this.firstFrame)&&(p=Math.sqrt(Math.pow(e[0]-f[0],2)+Math.pow(e[1]-f[1],2)),c.setAttribute("r",p),d&&d.setAttribute("r",p)),(b.e.mdf||b.h.mdf||b.a.mdf||this.firstFrame)&&(p||(p=Math.sqrt(Math.pow(e[0]-f[0],2)+Math.pow(e[1]-f[1],2))),q=Math.atan2(f[1]-e[1],f[0]-e[0]),r=b.h.v>=1?.99:b.h.v<=-1?-.99:b.h.v,s=p*r,t=Math.cos(q+b.a.v)*s+e[0],u=Math.sin(q+b.a.v)*s+e[1],c.setAttribute("fx",t),c.setAttribute("fy",u),d&&(d.setAttribute("fx",t),d.setAttribute("fy",u))))},IShapeElement.prototype.renderStroke=function(a,b){var c=b.style,d=b.d;d&&d.k&&(d.mdf||this.firstFrame)&&(c.pElem.setAttribute("stroke-dasharray",d.dasharray),c.pElem.setAttribute("stroke-dashoffset",d.dashoffset)),b.c&&(b.c.mdf||this.firstFrame)&&c.pElem.setAttribute("stroke","rgb("+bm_floor(b.c.v[0])+","+bm_floor(b.c.v[1])+","+bm_floor(b.c.v[2])+")"),(b.o.mdf||this.firstFrame)&&c.pElem.setAttribute("stroke-opacity",b.o.v),(b.w.mdf||this.firstFrame)&&(c.pElem.setAttribute("stroke-width",b.w.v),c.msElem&&c.msElem.setAttribute("stroke-width",b.w.v))},IShapeElement.prototype.destroy=function(){this._parent.destroy.call(this._parent),this.shapeData=null,this.viewData=null,this.parentContainer=null,this.placeholder=null},createElement(SVGBaseElement,ISolidElement),ISolidElement.prototype.createElements=function(){this._parent.createElements.call(this);var a=document.createElementNS(svgNS,"rect");a.setAttribute("width",this.data.sw),a.setAttribute("height",this.data.sh),a.setAttribute("fill",this.data.sc),this.layerElement.appendChild(a),this.innerElem=a,this.data.ln&&this.layerElement.setAttribute("id",this.data.ln),this.data.cl&&this.layerElement.setAttribute("class",this.data.cl)},ISolidElement.prototype.hide=IImageElement.prototype.hide,ISolidElement.prototype.renderFrame=IImageElement.prototype.renderFrame,ISolidElement.prototype.destroy=IImageElement.prototype.destroy,animationManager=function(){function g(a){for(var c=0,e=a.target;d>c;)b[c].animation===e&&(b.splice(c,1),c-=1,d-=1,e.isPaused||j()),c+=1}function h(a,c){var e,f;if(!a)return null;for(e=0;d>e;){if(b[e].elem==a&&null!==b[e].elem)return b[e].animation;e+=1}return f=new AnimationItem,k(f,a),f.setData(a,c),f}function i(){f+=1,A()}function j(){f-=1,0===f&&(e=!0)}function k(a,c){a.addEventListener("destroy",g),a.addEventListener("_active",i),a.addEventListener("_idle",j),b.push({elem:c,animation:a}),d+=1}function l(a){var b=new AnimationItem;return k(b,null),b.setParams(a),b}function m(a,c){var e;for(e=0;d>e;e+=1)b[e].animation.setSpeed(a,c)}function n(a,c){var e;for(e=0;d>e;e+=1)b[e].animation.setDirection(a,c)}function o(a){var c;for(c=0;d>c;c+=1)b[c].animation.play(a)}function p(a,e){c=Date.now();var f;for(f=0;d>f;f+=1)b[f].animation.moveFrame(a,e)}function q(a){var g,f=a-c;for(g=0;d>g;g+=1)b[g].animation.advanceTime(f);c=a,e||requestAnimationFrame(q)}function r(a){c=a,requestAnimationFrame(q)}function s(a){var c;for(c=0;d>c;c+=1)b[c].animation.pause(a)}function t(a,c,e){var f;for(f=0;d>f;f+=1)b[f].animation.goToAndStop(a,c,e)}function u(a){var c;for(c=0;d>c;c+=1)b[c].animation.stop(a)}function v(a){var c;for(c=0;d>c;c+=1)b[c].animation.togglePause(a)}function w(a){var c;
for(c=d-1;c>=0;c-=1)b[c].animation.destroy(a)}function x(a,b,c){var e,g,i,d=document.getElementsByClassName("bodymovin"),f=d.length;for(e=0;f>e;e+=1)c&&d[e].setAttribute("data-bm-type",c),h(d[e],a);b&&0===f&&(c||(c="svg"),g=document.getElementsByTagName("body")[0],g.innerHTML="",i=document.createElement("div"),i.style.width="100%",i.style.height="100%",i.setAttribute("data-bm-type",c),g.appendChild(i),h(i,a))}function y(){var a;for(a=0;d>a;a+=1)b[a].animation.resize()}function z(){requestAnimationFrame(r)}function A(){e&&(e=!1,requestAnimationFrame(r))}var a={},b=[],c=0,d=0,e=!0,f=0;return setTimeout(z,0),a.registerAnimation=h,a.loadAnimation=l,a.setSpeed=m,a.setDirection=n,a.play=o,a.moveFrame=p,a.pause=s,a.stop=u,a.togglePause=v,a.searchAnimations=x,a.resize=y,a.start=z,a.goToAndStop=t,a.destroy=w,a}(),AnimationItem=function(){this._cbs=[],this.name="",this.path="",this.isLoaded=!1,this.currentFrame=0,this.currentRawFrame=0,this.totalFrames=0,this.frameRate=0,this.frameMult=0,this.playSpeed=1,this.playDirection=1,this.pendingElements=0,this.playCount=0,this.prerenderFramesFlag=!0,this.animationData={},this.layers=[],this.assets=[],this.isPaused=!0,this.autoplay=!1,this.loop=!0,this.renderer=null,this.animationID=randomString(10),this.scaleMode="fit",this.assetsPath="",this.timeCompleted=0,this.segmentPos=0,this.subframeEnabled=subframeEnabled,this.segments=[],this.pendingSegment=!1,this._idle=!0,this.projectInterface=ProjectInterface()},AnimationItem.prototype.setParams=function(a){var c,b=this;switch(a.context&&(this.context=a.context),(a.wrapper||a.container)&&(this.wrapper=a.wrapper||a.container),c=a.animType?a.animType:a.renderer?a.renderer:"svg"){case"canvas":this.renderer=new CanvasRenderer(this,a.rendererSettings);break;case"svg":this.renderer=new SVGRenderer(this,a.rendererSettings);break;case"hybrid":case"html":default:this.renderer=new HybridRenderer(this,a.rendererSettings)}this.renderer.setProjectInterface(this.projectInterface),this.animType=c,""===a.loop||null===a.loop||(this.loop=a.loop===!1?!1:a.loop===!0?!0:parseInt(a.loop)),this.autoplay="autoplay"in a?a.autoplay:!0,this.name=a.name?a.name:"",this.prerenderFramesFlag="prerender"in a?a.prerender:!0,this.autoloadSegments=a.hasOwnProperty("autoloadSegments")?a.autoloadSegments:!0,a.animationData?b.configAnimation(a.animationData):a.path&&("json"!=a.path.substr(-4)&&("/"!=a.path.substr(-1,1)&&(a.path+="/"),a.path+="data.json"),this.path=-1!=a.path.lastIndexOf("\\")?a.path.substr(0,a.path.lastIndexOf("\\")+1):a.path.substr(0,a.path.lastIndexOf("/")+1),this.assetsPath=a.assetsPath,this.fileName=a.path.substr(a.path.lastIndexOf("/")+1),this.fileName=this.fileName.substr(0,this.fileName.lastIndexOf(".json")),window.jsonpHandler=function(a){b.configAnimation(a)},setTimeout(function(){var b=a.path+"?callback=jsonpHandler",c=document.createElement("script");c.type="text/javascript",c.src=b,document.getElementsByTagName("body")[0].appendChild(c)},0))},AnimationItem.prototype.setData=function(a,b){var e,f,g,c={wrapper:a,animationData:b?"object"==typeof b?b:JSON.parse(b):null},d=a.attributes;c.path=d.getNamedItem("data-animation-path")?d.getNamedItem("data-animation-path").value:d.getNamedItem("data-bm-path")?d.getNamedItem("data-bm-path").value:d.getNamedItem("bm-path")?d.getNamedItem("bm-path").value:"",c.animType=d.getNamedItem("data-anim-type")?d.getNamedItem("data-anim-type").value:d.getNamedItem("data-bm-type")?d.getNamedItem("data-bm-type").value:d.getNamedItem("bm-type")?d.getNamedItem("bm-type").value:d.getNamedItem("data-bm-renderer")?d.getNamedItem("data-bm-renderer").value:d.getNamedItem("bm-renderer")?d.getNamedItem("bm-renderer").value:"canvas",e=d.getNamedItem("data-anim-loop")?d.getNamedItem("data-anim-loop").value:d.getNamedItem("data-bm-loop")?d.getNamedItem("data-bm-loop").value:d.getNamedItem("bm-loop")?d.getNamedItem("bm-loop").value:"",""===e||(c.loop="false"===e?!1:"true"===e?!0:parseInt(e)),f=d.getNamedItem("data-anim-autoplay")?d.getNamedItem("data-anim-autoplay").value:d.getNamedItem("data-bm-autoplay")?d.getNamedItem("data-bm-autoplay").value:d.getNamedItem("bm-autoplay")?d.getNamedItem("bm-autoplay").value:!0,c.autoplay="false"!==f,c.name=d.getNamedItem("data-name")?d.getNamedItem("data-name").value:d.getNamedItem("data-bm-name")?d.getNamedItem("data-bm-name").value:d.getNamedItem("bm-name")?d.getNamedItem("bm-name").value:"",g=d.getNamedItem("data-anim-prerender")?d.getNamedItem("data-anim-prerender").value:d.getNamedItem("data-bm-prerender")?d.getNamedItem("data-bm-prerender").value:d.getNamedItem("bm-prerender")?d.getNamedItem("bm-prerender").value:"","false"===g&&(c.prerender=!1),this.setParams(c)},AnimationItem.prototype.includeLayers=function(a){var b,c,d,e,f,g;for(a.op>this.animationData.op&&(this.animationData.op=a.op,this.totalFrames=Math.floor(a.op-this.animationData.ip),this.animationData.tf=this.totalFrames),b=this.animationData.layers,d=b.length,e=a.layers,g=e.length,f=0;g>f;f+=1)for(c=0;d>c;){if(b[c].id==e[f].id){b[c]=e[f];break}c+=1}if((a.chars||a.fonts)&&(this.renderer.globalData.fontManager.addChars(a.chars),this.renderer.globalData.fontManager.addFonts(a.fonts,this.renderer.globalData.defs)),a.assets)for(d=a.assets.length,c=0;d>c;c+=1)this.animationData.assets.push(a.assets[c]);this.animationData.__complete=!1,dataManager.completeData(this.animationData,this.renderer.globalData.fontManager),this.renderer.includeLayers(a.layers),expressionsPlugin&&expressionsPlugin.initExpressions(this),this.renderer.renderFrame(null),this.loadNextSegment()},AnimationItem.prototype.loadNextSegment=function(){var b,c,d,e,a=this.animationData.segments;return a&&0!==a.length&&this.autoloadSegments?(b=a.shift(),this.timeCompleted=b.time*this.frameRate,c=new XMLHttpRequest,d=this,e=this.path+this.fileName+"_"+this.segmentPos+".json",this.segmentPos+=1,c.open("GET",e,!0),c.send(),c.onreadystatechange=function(){if(4==c.readyState)if(200==c.status)d.includeLayers(JSON.parse(c.responseText));else try{var a=JSON.parse(c.responseText);d.includeLayers(a)}catch(b){}},void 0):(this.trigger("data_ready"),this.timeCompleted=this.animationData.tf,void 0)},AnimationItem.prototype.loadSegments=function(){var a=this.animationData.segments;a||(this.timeCompleted=this.animationData.tf),this.loadNextSegment()},AnimationItem.prototype.configAnimation=function(a){this.renderer&&this.renderer.destroyed||(this.animationData=a,this.totalFrames=Math.floor(this.animationData.op-this.animationData.ip),this.animationData.tf=this.totalFrames,this.renderer.configAnimation(a),a.assets||(a.assets=[]),a.comps&&(a.assets=a.assets.concat(a.comps),a.comps=null),this.renderer.searchExtraCompositions(a.assets),this.layers=this.animationData.layers,this.assets=this.animationData.assets,this.frameRate=this.animationData.fr,this.firstFrame=Math.round(this.animationData.ip),this.frameMult=this.animationData.fr/1e3,this.trigger("config_ready"),this.imagePreloader=new ImagePreloader,this.imagePreloader.setAssetsPath(this.assetsPath),this.imagePreloader.setPath(this.path),this.imagePreloader.loadAssets(a.assets),this.loadSegments(),this.updaFrameModifier(),this.renderer.globalData.fontManager?this.waitForFontsLoaded():(dataManager.completeData(this.animationData,this.renderer.globalData.fontManager),this.checkLoaded()))},AnimationItem.prototype.waitForFontsLoaded=function(){function a(){this.renderer.globalData.fontManager.loaded?(dataManager.completeData(this.animationData,this.renderer.globalData.fontManager),this.checkLoaded()):setTimeout(a.bind(this),20)}return function(){a.bind(this)()}}(),AnimationItem.prototype.addPendingElement=function(){this.pendingElements+=1},AnimationItem.prototype.elementLoaded=function(){this.pendingElements--,this.checkLoaded()},AnimationItem.prototype.checkLoaded=function(){0===this.pendingElements&&(expressionsPlugin&&expressionsPlugin.initExpressions(this),this.renderer.initItems(),setTimeout(function(){this.trigger("DOMLoaded")}.bind(this),0),this.isLoaded=!0,this.gotoFrame(),this.autoplay&&this.play())},AnimationItem.prototype.resize=function(){this.renderer.updateContainerSize()},AnimationItem.prototype.setSubframe=function(a){this.subframeEnabled=a?!0:!1},AnimationItem.prototype.gotoFrame=function(){this.currentFrame=this.subframeEnabled?this.currentRawFrame:Math.floor(this.currentRawFrame),this.timeCompleted!==this.totalFrames&&this.currentFrame>this.timeCompleted&&(this.currentFrame=this.timeCompleted),this.trigger("enterFrame"),this.renderFrame()},AnimationItem.prototype.renderFrame=function(){this.isLoaded!==!1&&this.renderer.renderFrame(this.currentFrame+this.firstFrame)},AnimationItem.prototype.play=function(a){a&&this.name!=a||this.isPaused===!0&&(this.isPaused=!1,this._idle&&(this._idle=!1,this.trigger("_active")))},AnimationItem.prototype.pause=function(a){a&&this.name!=a||this.isPaused===!1&&(this.isPaused=!0,this.pendingSegment||(this._idle=!0,this.trigger("_idle")))},AnimationItem.prototype.togglePause=function(a){a&&this.name!=a||(this.isPaused===!0?this.play():this.pause())},AnimationItem.prototype.stop=function(a){a&&this.name!=a||(this.pause(),this.currentFrame=this.currentRawFrame=0,this.playCount=0,this.gotoFrame())},AnimationItem.prototype.goToAndStop=function(a,b,c){c&&this.name!=c||(b?this.setCurrentRawFrameValue(a):this.setCurrentRawFrameValue(a*this.frameModifier),this.pause())},AnimationItem.prototype.goToAndPlay=function(a,b,c){this.goToAndStop(a,b,c),this.play()},AnimationItem.prototype.advanceTime=function(a){return this.pendingSegment?(this.pendingSegment=!1,this.adjustSegment(this.segments.shift()),this.isPaused&&this.play(),void 0):(this.isPaused!==!0&&this.isLoaded!==!1&&this.setCurrentRawFrameValue(this.currentRawFrame+a*this.frameModifier),void 0)},AnimationItem.prototype.updateAnimation=function(a){this.setCurrentRawFrameValue(this.totalFrames*a)},AnimationItem.prototype.moveFrame=function(a,b){b&&this.name!=b||this.setCurrentRawFrameValue(this.currentRawFrame+a)},AnimationItem.prototype.adjustSegment=function(a){this.playCount=0,a[1]<a[0]?(this.frameModifier>0&&(this.playSpeed<0?this.setSpeed(-this.playSpeed):this.setDirection(-1)),this.totalFrames=a[0]-a[1],this.firstFrame=a[1],this.setCurrentRawFrameValue(this.totalFrames-.01)):a[1]>a[0]&&(this.frameModifier<0&&(this.playSpeed<0?this.setSpeed(-this.playSpeed):this.setDirection(1)),this.totalFrames=a[1]-a[0],this.firstFrame=a[0],this.setCurrentRawFrameValue(0)),this.trigger("segmentStart")},AnimationItem.prototype.setSegment=function(a,b){var c=-1;this.isPaused&&(this.currentRawFrame+this.firstFrame<a?c=a:this.currentRawFrame+this.firstFrame>b&&(c=b-a-.01)),this.firstFrame=a,this.totalFrames=b-a,-1!==c&&this.goToAndStop(c,!0)},AnimationItem.prototype.playSegments=function(a,b){if("object"==typeof a[0]){var c,d=a.length;for(c=0;d>c;c+=1)this.segments.push(a[c])}else this.segments.push(a);b&&this.adjustSegment(this.segments.shift()),this.isPaused&&this.play()},AnimationItem.prototype.resetSegments=function(a){this.segments.length=0,this.segments.push([this.animationData.ip*this.frameRate,Math.floor(this.animationData.op-this.animationData.ip+this.animationData.ip*this.frameRate)]),a&&this.adjustSegment(this.segments.shift())},AnimationItem.prototype.checkSegments=function(){this.segments.length&&(this.pendingSegment=!0)},AnimationItem.prototype.remove=function(a){a&&this.name!=a||this.renderer.destroy()},AnimationItem.prototype.destroy=function(a){a&&this.name!=a||this.renderer&&this.renderer.destroyed||(this.renderer.destroy(),this.trigger("destroy"),this._cbs=null,this.onEnterFrame=this.onLoopComplete=this.onComplete=this.onSegmentStart=this.onDestroy=null)},AnimationItem.prototype.setCurrentRawFrameValue=function(a){if(this.currentRawFrame=a,this.currentRawFrame>=this.totalFrames){if(this.checkSegments(),this.loop===!1)return this.currentRawFrame=this.totalFrames-.01,this.gotoFrame(),this.pause(),this.trigger("complete"),void 0;if(this.trigger("loopComplete"),this.playCount+=1,this.loop!==!0&&this.playCount==this.loop||this.pendingSegment)return this.currentRawFrame=this.totalFrames-.01,this.gotoFrame(),this.pause(),this.trigger("complete"),void 0;this.currentRawFrame=this.currentRawFrame%this.totalFrames}else if(this.currentRawFrame<0)return this.checkSegments(),this.playCount-=1,this.playCount<0&&(this.playCount=0),this.loop===!1||this.pendingSegment?(this.currentRawFrame=0,this.gotoFrame(),this.pause(),this.trigger("complete"),void 0):(this.trigger("loopComplete"),this.currentRawFrame=(this.totalFrames+this.currentRawFrame)%this.totalFrames,this.gotoFrame(),void 0);this.gotoFrame()},AnimationItem.prototype.setSpeed=function(a){this.playSpeed=a,this.updaFrameModifier()},AnimationItem.prototype.setDirection=function(a){this.playDirection=0>a?-1:1,this.updaFrameModifier()},AnimationItem.prototype.updaFrameModifier=function(){this.frameModifier=this.frameMult*this.playSpeed*this.playDirection},AnimationItem.prototype.getPath=function(){return this.path},AnimationItem.prototype.getAssetsPath=function(a){var c,b="";return this.assetsPath?(c=a.p,-1!==c.indexOf("images/")&&(c=c.split("/")[1]),b=this.assetsPath+c):(b=this.path,b+=a.u?a.u:"",b+=a.p),b},AnimationItem.prototype.getAssetData=function(a){for(var b=0,c=this.assets.length;c>b;){if(a==this.assets[b].id)return this.assets[b];b+=1}},AnimationItem.prototype.hide=function(){this.renderer.hide()},AnimationItem.prototype.show=function(){this.renderer.show()},AnimationItem.prototype.getAssets=function(){return this.assets},AnimationItem.prototype.trigger=function(a){if(this._cbs&&this._cbs[a])switch(a){case"enterFrame":this.triggerEvent(a,new BMEnterFrameEvent(a,this.currentFrame,this.totalFrames,this.frameMult));break;case"loopComplete":this.triggerEvent(a,new BMCompleteLoopEvent(a,this.loop,this.playCount,this.frameMult));break;case"complete":this.triggerEvent(a,new BMCompleteEvent(a,this.frameMult));break;case"segmentStart":this.triggerEvent(a,new BMSegmentStartEvent(a,this.firstFrame,this.totalFrames));break;case"destroy":this.triggerEvent(a,new BMDestroyEvent(a,this));break;default:this.triggerEvent(a)}"enterFrame"===a&&this.onEnterFrame&&this.onEnterFrame.call(this,new BMEnterFrameEvent(a,this.currentFrame,this.totalFrames,this.frameMult)),"loopComplete"===a&&this.onLoopComplete&&this.onLoopComplete.call(this,new BMCompleteLoopEvent(a,this.loop,this.playCount,this.frameMult)),"complete"===a&&this.onComplete&&this.onComplete.call(this,new BMCompleteEvent(a,this.frameMult)),"segmentStart"===a&&this.onSegmentStart&&this.onSegmentStart.call(this,new BMSegmentStartEvent(a,this.firstFrame,this.totalFrames)),"destroy"===a&&this.onDestroy&&this.onDestroy.call(this,new BMDestroyEvent(a,this))},AnimationItem.prototype.addEventListener=_addEventListener,AnimationItem.prototype.removeEventListener=_removeEventListener,AnimationItem.prototype.triggerEvent=_triggerEvent,extendPrototype(BaseRenderer,CanvasRenderer),CanvasRenderer.prototype.createBase=function(a){return new CVBaseElement(a,this,this.globalData)},CanvasRenderer.prototype.createShape=function(a){return new CVShapeElement(a,this,this.globalData)},CanvasRenderer.prototype.createText=function(a){return new CVTextElement(a,this,this.globalData)},CanvasRenderer.prototype.createImage=function(a){return new CVImageElement(a,this,this.globalData)},CanvasRenderer.prototype.createComp=function(a){return new CVCompElement(a,this,this.globalData)},CanvasRenderer.prototype.createSolid=function(a){return new CVSolidElement(a,this,this.globalData)},CanvasRenderer.prototype.ctxTransform=function(a){if(1!==a[0]||0!==a[1]||0!==a[4]||1!==a[5]||0!==a[12]||0!==a[13]){if(!this.renderConfig.clearCanvas)return this.canvasContext.transform(a[0],a[1],a[4],a[5],a[12],a[13]),void 0;this.transformMat.cloneFromProps(a),this.transformMat.transform(this.contextData.cTr.props[0],this.contextData.cTr.props[1],this.contextData.cTr.props[2],this.contextData.cTr.props[3],this.contextData.cTr.props[4],this.contextData.cTr.props[5],this.contextData.cTr.props[6],this.contextData.cTr.props[7],this.contextData.cTr.props[8],this.contextData.cTr.props[9],this.contextData.cTr.props[10],this.contextData.cTr.props[11],this.contextData.cTr.props[12],this.contextData.cTr.props[13],this.contextData.cTr.props[14],this.contextData.cTr.props[15]),this.contextData.cTr.cloneFromProps(this.transformMat.props);var b=this.contextData.cTr.props;this.canvasContext.setTransform(b[0],b[1],b[4],b[5],b[12],b[13])}},CanvasRenderer.prototype.ctxOpacity=function(a){if(1!==a){if(!this.renderConfig.clearCanvas)return this.canvasContext.globalAlpha*=0>a?0:a,void 0;this.contextData.cO*=0>a?0:a,this.canvasContext.globalAlpha=this.contextData.cO}},CanvasRenderer.prototype.reset=function(){return this.renderConfig.clearCanvas?(this.contextData.cArrPos=0,this.contextData.cTr.reset(),this.contextData.cO=1,void 0):(this.canvasContext.restore(),void 0)},CanvasRenderer.prototype.save=function(a){var b,c,d;if(!this.renderConfig.clearCanvas)return this.canvasContext.save(),void 0;for(a&&this.canvasContext.save(),b=this.contextData.cTr.props,(null===this.contextData.saved[this.contextData.cArrPos]||void 0===this.contextData.saved[this.contextData.cArrPos])&&(this.contextData.saved[this.contextData.cArrPos]=new Array(16)),d=this.contextData.saved[this.contextData.cArrPos],c=0;16>c;c+=1)d[c]=b[c];this.contextData.savedOp[this.contextData.cArrPos]=this.contextData.cO,this.contextData.cArrPos+=1},CanvasRenderer.prototype.restore=function(a){var b,c,d;if(!this.renderConfig.clearCanvas)return this.canvasContext.restore(),void 0;for(a&&this.canvasContext.restore(),this.contextData.cArrPos-=1,b=this.contextData.saved[this.contextData.cArrPos],d=this.contextData.cTr.props,c=0;16>c;c+=1)d[c]=b[c];this.canvasContext.setTransform(b[0],b[1],b[4],b[5],b[12],b[13]),b=this.contextData.savedOp[this.contextData.cArrPos],this.contextData.cO=b,this.canvasContext.globalAlpha=b},CanvasRenderer.prototype.configAnimation=function(a){this.animationItem.wrapper?(this.animationItem.container=document.createElement("canvas"),this.animationItem.container.style.width="100%",this.animationItem.container.style.height="100%",this.animationItem.container.style.transformOrigin=this.animationItem.container.style.mozTransformOrigin=this.animationItem.container.style.webkitTransformOrigin=this.animationItem.container.style["-webkit-transform"]="0px 0px 0px",this.animationItem.wrapper.appendChild(this.animationItem.container),this.canvasContext=this.animationItem.container.getContext("2d")):this.canvasContext=this.renderConfig.context,this.globalData.canvasContext=this.canvasContext,this.globalData.renderer=this,this.globalData.isDashed=!1,this.globalData.totalFrames=Math.floor(a.tf),this.globalData.compWidth=a.w,this.globalData.compHeight=a.h,this.globalData.frameRate=a.fr,this.globalData.frameId=0,this.globalData.compSize={w:a.w,h:a.h},this.globalData.progressiveLoad=this.renderConfig.progressiveLoad,this.layers=a.layers,this.transformCanvas={},this.transformCanvas.w=a.w,this.transformCanvas.h=a.h,this.globalData.fontManager=new FontManager,this.globalData.fontManager.addChars(a.chars),this.globalData.fontManager.addFonts(a.fonts,document.body),this.globalData.getAssetData=this.animationItem.getAssetData.bind(this.animationItem),this.globalData.getAssetsPath=this.animationItem.getAssetsPath.bind(this.animationItem),this.globalData.elementLoaded=this.animationItem.elementLoaded.bind(this.animationItem),this.globalData.addPendingElement=this.animationItem.addPendingElement.bind(this.animationItem),this.globalData.transformCanvas=this.transformCanvas,this.elements=Array.apply(null,{length:a.layers.length}),this.updateContainerSize()},CanvasRenderer.prototype.updateContainerSize=function(){var a,b,c,d,e,f,g,h,i,j,k;for(this.animationItem.wrapper&&this.animationItem.container?(a=this.animationItem.wrapper.offsetWidth,b=this.animationItem.wrapper.offsetHeight,this.animationItem.container.setAttribute("width",a*this.renderConfig.dpr),this.animationItem.container.setAttribute("height",b*this.renderConfig.dpr)):(a=this.canvasContext.canvas.width*this.renderConfig.dpr,b=this.canvasContext.canvas.height*this.renderConfig.dpr),-1!==this.renderConfig.preserveAspectRatio.indexOf("meet")||-1!==this.renderConfig.preserveAspectRatio.indexOf("slice")?(e=this.renderConfig.preserveAspectRatio.split(" "),f=e[1]||"meet",g=e[0]||"xMidYMid",h=g.substr(0,4),i=g.substr(4),c=a/b,d=this.transformCanvas.w/this.transformCanvas.h,d>c&&"meet"===f||c>d&&"slice"===f?(this.transformCanvas.sx=a/(this.transformCanvas.w/this.renderConfig.dpr),this.transformCanvas.sy=a/(this.transformCanvas.w/this.renderConfig.dpr)):(this.transformCanvas.sx=b/(this.transformCanvas.h/this.renderConfig.dpr),this.transformCanvas.sy=b/(this.transformCanvas.h/this.renderConfig.dpr)),this.transformCanvas.tx="xMid"===h&&(c>d&&"meet"===f||d>c&&"slice"===f)?(a-this.transformCanvas.w*(b/this.transformCanvas.h))/2*this.renderConfig.dpr:"xMax"===h&&(c>d&&"meet"===f||d>c&&"slice"===f)?(a-this.transformCanvas.w*(b/this.transformCanvas.h))*this.renderConfig.dpr:0,this.transformCanvas.ty="YMid"===i&&(d>c&&"meet"===f||c>d&&"slice"===f)?(b-this.transformCanvas.h*(a/this.transformCanvas.w))/2*this.renderConfig.dpr:"YMax"===i&&(d>c&&"meet"===f||c>d&&"slice"===f)?(b-this.transformCanvas.h*(a/this.transformCanvas.w))*this.renderConfig.dpr:0):"none"==this.renderConfig.preserveAspectRatio?(this.transformCanvas.sx=a/(this.transformCanvas.w/this.renderConfig.dpr),this.transformCanvas.sy=b/(this.transformCanvas.h/this.renderConfig.dpr),this.transformCanvas.tx=0,this.transformCanvas.ty=0):(this.transformCanvas.sx=this.renderConfig.dpr,this.transformCanvas.sy=this.renderConfig.dpr,this.transformCanvas.tx=0,this.transformCanvas.ty=0),this.transformCanvas.props=[this.transformCanvas.sx,0,0,0,0,this.transformCanvas.sy,0,0,0,0,1,0,this.transformCanvas.tx,this.transformCanvas.ty,0,1],k=this.elements.length,j=0;k>j;j+=1)this.elements[j]&&0===this.elements[j].data.ty&&this.elements[j].resize(this.globalData.transformCanvas)},CanvasRenderer.prototype.destroy=function(){this.renderConfig.clearCanvas&&(this.animationItem.wrapper.innerHTML="");var a,b=this.layers?this.layers.length:0;for(a=b-1;a>=0;a-=1)this.elements[a].destroy();this.elements.length=0,this.globalData.canvasContext=null,this.animationItem.container=null,this.destroyed=!0},CanvasRenderer.prototype.renderFrame=function(a){if(!(this.renderedFrame==a&&this.renderConfig.clearCanvas===!0||this.destroyed||null===a)){this.renderedFrame=a,this.globalData.frameNum=a-this.animationItem.firstFrame,this.globalData.frameId+=1,this.globalData.projectInterface.currentFrame=a,this.renderConfig.clearCanvas===!0?(this.reset(),this.canvasContext.save(),this.canvasContext.clearRect(this.transformCanvas.tx,this.transformCanvas.ty,this.transformCanvas.w*this.transformCanvas.sx,this.transformCanvas.h*this.transformCanvas.sy)):this.save(),this.ctxTransform(this.transformCanvas.props),this.canvasContext.beginPath(),this.canvasContext.rect(0,0,this.transformCanvas.w,this.transformCanvas.h),this.canvasContext.closePath(),this.canvasContext.clip();var b,c=this.layers.length;for(this.completeLayers||this.checkLayers(a),b=0;c>b;b++)(this.completeLayers||this.elements[b])&&this.elements[b].prepareFrame(a-this.layers[b].st);for(b=c-1;b>=0;b-=1)(this.completeLayers||this.elements[b])&&this.elements[b].renderFrame();this.renderConfig.clearCanvas!==!0?this.restore():this.canvasContext.restore()}},CanvasRenderer.prototype.buildItem=function(a){var c,b=this.elements;b[a]||99==this.layers[a].ty||(c=this.createItem(this.layers[a],this,this.globalData),b[a]=c,c.initExpressions(),0===this.layers[a].ty&&c.resize(this.globalData.transformCanvas))},CanvasRenderer.prototype.checkPendingElements=function(){for(;this.pendingElements.length;){var a=this.pendingElements.pop();a.checkParenting()}},CanvasRenderer.prototype.hide=function(){this.animationItem.container.style.display="none"},CanvasRenderer.prototype.show=function(){this.animationItem.container.style.display="block"},CanvasRenderer.prototype.searchExtraCompositions=function(a){var b,e,c=a.length;for(document.createElementNS(svgNS,"g"),b=0;c>b;b+=1)a[b].xt&&(e=this.createComp(a[b],this.globalData.comp,this.globalData),e.initExpressions(),this.globalData.projectInterface.registerComposition(e))},extendPrototype(BaseRenderer,HybridRenderer),HybridRenderer.prototype.buildItem=SVGRenderer.prototype.buildItem,HybridRenderer.prototype.checkPendingElements=function(){for(;this.pendingElements.length;){var a=this.pendingElements.pop();a.checkParenting()}},HybridRenderer.prototype.appendElementInPos=function(a,b){var d,e,f,c=a.getBaseElement();if(c)if(d=this.layers[b],d.ddd&&this.supports3d)this.addTo3dContainer(c,b);else{for(e=0;b>e;)this.elements[e]&&this.elements[e]!==!0&&this.elements[e].getBaseElement&&(f=this.elements[e].getBaseElement()),e+=1;f?d.ddd&&this.supports3d||this.layerElement.insertBefore(c,f):d.ddd&&this.supports3d||this.layerElement.appendChild(c)}},HybridRenderer.prototype.createBase=function(a){return new SVGBaseElement(a,this.layerElement,this.globalData,this)},HybridRenderer.prototype.createShape=function(a){return this.supports3d?new HShapeElement(a,this.layerElement,this.globalData,this):new IShapeElement(a,this.layerElement,this.globalData,this)},HybridRenderer.prototype.createText=function(a){return this.supports3d?new HTextElement(a,this.layerElement,this.globalData,this):new SVGTextElement(a,this.layerElement,this.globalData,this)},HybridRenderer.prototype.createCamera=function(a){return this.camera=new HCameraElement(a,this.layerElement,this.globalData,this),this.camera},HybridRenderer.prototype.createImage=function(a){return this.supports3d?new HImageElement(a,this.layerElement,this.globalData,this):new IImageElement(a,this.layerElement,this.globalData,this)},HybridRenderer.prototype.createComp=function(a){return this.supports3d?new HCompElement(a,this.layerElement,this.globalData,this):new ICompElement(a,this.layerElement,this.globalData,this)},HybridRenderer.prototype.createSolid=function(a){return this.supports3d?new HSolidElement(a,this.layerElement,this.globalData,this):new ISolidElement(a,this.layerElement,this.globalData,this)},HybridRenderer.prototype.getThreeDContainer=function(a){var c,d,b=document.createElement("div");return styleDiv(b),b.style.width=this.globalData.compSize.w+"px",b.style.height=this.globalData.compSize.h+"px",b.style.transformOrigin=b.style.mozTransformOrigin=b.style.webkitTransformOrigin="50% 50%",c=document.createElement("div"),styleDiv(c),c.style.transform=c.style.webkitTransform="matrix3d(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1)",b.appendChild(c),this.resizerElem.appendChild(b),d={container:c,perspectiveElem:b,startPos:a,endPos:a},this.threeDElements.push(d),d},HybridRenderer.prototype.build3dContainers=function(){var a,c,b=this.layers.length;for(a=0;b>a;a+=1)this.layers[a].ddd?(c||(c=this.getThreeDContainer(a)),c.endPos=Math.max(c.endPos,a)):c=null},HybridRenderer.prototype.addTo3dContainer=function(a,b){for(var e,f,c=0,d=this.threeDElements.length;d>c;){if(b<=this.threeDElements[c].endPos){for(e=this.threeDElements[c].startPos;b>e;)this.elements[e]&&this.elements[e].getBaseElement&&(f=this.elements[e].getBaseElement()),e+=1;f?this.threeDElements[c].container.insertBefore(a,f):this.threeDElements[c].container.appendChild(a);break}c+=1}},HybridRenderer.prototype.configAnimation=function(a){var d,e,b=document.createElement("div"),c=this.animationItem.wrapper;b.style.width=a.w+"px",b.style.height=a.h+"px",this.resizerElem=b,styleDiv(b),b.style.transformStyle=b.style.webkitTransformStyle=b.style.mozTransformStyle="flat",c.appendChild(b),b.style.overflow="hidden",d=document.createElementNS(svgNS,"svg"),d.setAttribute("width","1"),d.setAttribute("height","1"),styleDiv(d),this.resizerElem.appendChild(d),e=document.createElementNS(svgNS,"defs"),d.appendChild(e),this.globalData.defs=e,this.globalData.getAssetData=this.animationItem.getAssetData.bind(this.animationItem),this.globalData.getAssetsPath=this.animationItem.getAssetsPath.bind(this.animationItem),this.globalData.elementLoaded=this.animationItem.elementLoaded.bind(this.animationItem),this.globalData.frameId=0,this.globalData.compSize={w:a.w,h:a.h},this.globalData.frameRate=a.fr,this.layers=a.layers,this.globalData.fontManager=new FontManager,this.globalData.fontManager.addChars(a.chars),this.globalData.fontManager.addFonts(a.fonts,d),this.layerElement=this.resizerElem,this.build3dContainers(),this.updateContainerSize()},HybridRenderer.prototype.destroy=function(){this.animationItem.wrapper.innerHTML="",this.animationItem.container=null,this.globalData.defs=null;var a,b=this.layers?this.layers.length:0;for(a=0;b>a;a++)this.elements[a].destroy();this.elements.length=0,this.destroyed=!0,this.animationItem=null},HybridRenderer.prototype.updateContainerSize=function(){var e,f,g,h,a=this.animationItem.wrapper.offsetWidth,b=this.animationItem.wrapper.offsetHeight,c=a/b,d=this.globalData.compSize.w/this.globalData.compSize.h;d>c?(e=a/this.globalData.compSize.w,f=a/this.globalData.compSize.w,g=0,h=(b-this.globalData.compSize.h*(a/this.globalData.compSize.w))/2):(e=b/this.globalData.compSize.h,f=b/this.globalData.compSize.h,g=(a-this.globalData.compSize.w*(b/this.globalData.compSize.h))/2,h=0),this.resizerElem.style.transform=this.resizerElem.style.webkitTransform="matrix3d("+e+",0,0,0,0,"+f+",0,0,0,0,1,0,"+g+","+h+",0,1)"},HybridRenderer.prototype.renderFrame=SVGRenderer.prototype.renderFrame,HybridRenderer.prototype.hide=function(){this.resizerElem.style.display="none"},HybridRenderer.prototype.show=function(){this.resizerElem.style.display="block"},HybridRenderer.prototype.initItems=function(){var a,b,c,d;if(this.buildAllItems(),this.camera)this.camera.setup();else for(a=this.globalData.compSize.w,b=this.globalData.compSize.h,d=this.threeDElements.length,c=0;d>c;c+=1)this.threeDElements[c].perspectiveElem.style.perspective=this.threeDElements[c].perspectiveElem.style.webkitPerspective=Math.sqrt(Math.pow(a,2)+Math.pow(b,2))+"px"},HybridRenderer.prototype.searchExtraCompositions=function(a){var b,e,c=a.length,d=document.createElement("div");for(b=0;c>b;b+=1)a[b].xt&&(e=this.createComp(a[b],d,this.globalData.comp,null),e.initExpressions(),this.globalData.projectInterface.registerComposition(e))},createElement(BaseElement,CVBaseElement),CVBaseElement.prototype.createElements=function(){this.checkParenting()},CVBaseElement.prototype.checkBlendMode=function(a){if(a.blendMode!==this.data.bm){a.blendMode=this.data.bm;var b="";switch(this.data.bm){case 0:b="normal";break;case 1:b="multiply";break;case 2:b="screen";break;case 3:b="overlay";break;case 4:b="darken";break;case 5:b="lighten";break;case 6:b="color-dodge";break;case 7:b="color-burn";break;case 8:b="hard-light";break;case 9:b="soft-light";break;case 10:b="difference";break;case 11:b="exclusion";break;case 12:b="hue";break;case 13:b="saturation";break;case 14:b="color";break;case 15:b="luminosity"}a.canvasContext.globalCompositeOperation=b}},CVBaseElement.prototype.renderFrame=function(a){var b,c,d,e;if(3===this.data.ty)return!1;if(this.checkBlendMode(0===this.data.ty?this.parentGlobalData:this.globalData),!this.isVisible)return this.isVisible;if(this.finalTransform.opMdf=this.finalTransform.op.mdf,this.finalTransform.matMdf=this.finalTransform.mProp.mdf,this.finalTransform.opacity=this.finalTransform.op.v,c=this.finalTransform.mat,this.hierarchy)for(e=this.hierarchy.length,b=this.finalTransform.mProp.v.props,c.cloneFromProps(b),d=0;e>d;d+=1)this.finalTransform.matMdf=this.hierarchy[d].finalTransform.mProp.mdf?!0:this.finalTransform.matMdf,b=this.hierarchy[d].finalTransform.mProp.v.props,c.transform(b[0],b[1],b[2],b[3],b[4],b[5],b[6],b[7],b[8],b[9],b[10],b[11],b[12],b[13],b[14],b[15]);else a?(b=this.finalTransform.mProp.v.props,c.cloneFromProps(b)):c.cloneFromProps(this.finalTransform.mProp.v.props);return a&&(b=a.mat.props,c.transform(b[0],b[1],b[2],b[3],b[4],b[5],b[6],b[7],b[8],b[9],b[10],b[11],b[12],b[13],b[14],b[15]),this.finalTransform.opacity*=a.opacity,this.finalTransform.opMdf=a.opMdf?!0:this.finalTransform.opMdf,this.finalTransform.matMdf=a.matMdf?!0:this.finalTransform.matMdf),this.data.hasMask&&(this.globalData.renderer.save(!0),this.maskManager.renderFrame(0===this.data.ty?null:c)),this.data.hd&&(this.isVisible=!1),this.isVisible
},CVBaseElement.prototype.addMasks=function(a){this.maskManager=new CVMaskElement(a,this,this.globalData)},CVBaseElement.prototype.destroy=function(){this.canvasContext=null,this.data=null,this.globalData=null,this.maskManager&&this.maskManager.destroy()},CVBaseElement.prototype.mHelper=new Matrix,createElement(CVBaseElement,CVCompElement),CVCompElement.prototype.ctxTransform=CanvasRenderer.prototype.ctxTransform,CVCompElement.prototype.ctxOpacity=CanvasRenderer.prototype.ctxOpacity,CVCompElement.prototype.save=CanvasRenderer.prototype.save,CVCompElement.prototype.restore=CanvasRenderer.prototype.restore,CVCompElement.prototype.reset=function(){this.contextData.cArrPos=0,this.contextData.cTr.reset(),this.contextData.cO=1},CVCompElement.prototype.resize=function(a){var c,d,b=Math.max(a.sx,a.sy);for(this.canvas.width=this.data.w*b,this.canvas.height=this.data.h*b,this.transformCanvas={sc:b,w:this.data.w*b,h:this.data.h*b,props:[b,0,0,0,0,b,0,0,0,0,1,0,0,0,0,1]},d=this.elements.length,c=0;d>c;c+=1)this.elements[c]&&0===this.elements[c].data.ty&&this.elements[c].resize(a)},CVCompElement.prototype.prepareFrame=function(a){var b,c,d;if(this.globalData.frameId=this.parentGlobalData.frameId,this.globalData.mdf=!1,this._parent.prepareFrame.call(this,a),this.isVisible!==!1||this.data.xt){for(b=a,this.tm&&(b=this.tm.v,b===this.data.op&&(b=this.data.op-1)),this.renderedFrame=b/this.data.sr,d=this.elements.length,this.completeLayers||this.checkLayers(a),c=0;d>c;c+=1)(this.completeLayers||this.elements[c])&&(this.elements[c].prepareFrame(b/this.data.sr-this.layers[c].st),0===this.elements[c].data.ty&&this.elements[c].globalData.mdf&&(this.globalData.mdf=!0));this.globalData.mdf&&!this.data.xt&&(this.canvasContext.clearRect(0,0,this.data.w,this.data.h),this.ctxTransform(this.transformCanvas.props))}},CVCompElement.prototype.renderFrame=function(a){if(this._parent.renderFrame.call(this,a)!==!1){if(this.globalData.mdf){var b,c=this.layers.length;for(b=c-1;b>=0;b-=1)(this.completeLayers||this.elements[b])&&this.elements[b].renderFrame()}this.data.hasMask&&this.globalData.renderer.restore(!0),this.firstFrame&&(this.firstFrame=!1),this.parentGlobalData.renderer.save(),this.parentGlobalData.renderer.ctxTransform(this.finalTransform.mat.props),this.parentGlobalData.renderer.ctxOpacity(this.finalTransform.opacity),this.parentGlobalData.renderer.canvasContext.drawImage(this.canvas,0,0,this.data.w,this.data.h),this.parentGlobalData.renderer.restore(),this.globalData.mdf&&this.reset()}},CVCompElement.prototype.setElements=function(a){this.elements=a},CVCompElement.prototype.getElements=function(){return this.elements},CVCompElement.prototype.destroy=function(){var a,b=this.layers.length;for(a=b-1;a>=0;a-=1)this.elements[a].destroy();this.layers=null,this.elements=null,this._parent.destroy.call(this._parent)},CVCompElement.prototype.checkLayers=CanvasRenderer.prototype.checkLayers,CVCompElement.prototype.buildItem=CanvasRenderer.prototype.buildItem,CVCompElement.prototype.checkPendingElements=CanvasRenderer.prototype.checkPendingElements,CVCompElement.prototype.addPendingElement=CanvasRenderer.prototype.addPendingElement,CVCompElement.prototype.buildAllItems=CanvasRenderer.prototype.buildAllItems,CVCompElement.prototype.createItem=CanvasRenderer.prototype.createItem,CVCompElement.prototype.createImage=CanvasRenderer.prototype.createImage,CVCompElement.prototype.createComp=CanvasRenderer.prototype.createComp,CVCompElement.prototype.createSolid=CanvasRenderer.prototype.createSolid,CVCompElement.prototype.createShape=CanvasRenderer.prototype.createShape,CVCompElement.prototype.createText=CanvasRenderer.prototype.createText,CVCompElement.prototype.createBase=CanvasRenderer.prototype.createBase,CVCompElement.prototype.buildElementParenting=CanvasRenderer.prototype.buildElementParenting,createElement(CVBaseElement,CVImageElement),CVImageElement.prototype.createElements=function(){var c,a=function(){var a,b,c,d,e,f,g,h;this.globalData.elementLoaded(),(this.assetData.w!==this.img.width||this.assetData.h!==this.img.height)&&(a=document.createElement("canvas"),a.width=this.assetData.w,a.height=this.assetData.h,b=a.getContext("2d"),c=this.img.width,d=this.img.height,e=c/d,f=this.assetData.w/this.assetData.h,e>f?(h=d,g=h*f):(g=c,h=g/f),b.drawImage(this.img,(c-g)/2,(d-h)/2,g,h,0,0,this.assetData.w,this.assetData.h),this.img=a)}.bind(this),b=function(){this.failed=!0,this.globalData.elementLoaded()}.bind(this);this.img=new Image,this.img.addEventListener("load",a,!1),this.img.addEventListener("error",b,!1),c=this.globalData.getAssetsPath(this.assetData),this.img.src=c,this._parent.createElements.call(this)},CVImageElement.prototype.renderFrame=function(a){var b,c;this.failed||this._parent.renderFrame.call(this,a)!==!1&&(b=this.canvasContext,this.globalData.renderer.save(),c=this.finalTransform.mat.props,this.globalData.renderer.ctxTransform(c),this.globalData.renderer.ctxOpacity(this.finalTransform.opacity),b.drawImage(this.img,0,0),this.globalData.renderer.restore(this.data.hasMask),this.firstFrame&&(this.firstFrame=!1))},CVImageElement.prototype.destroy=function(){this.img=null,this._parent.destroy.call(this._parent)},CVMaskElement.prototype.getMaskProperty=function(a){return this.viewData[a]},CVMaskElement.prototype.prepareFrame=function(a){var b,c=this.dynamicProperties.length;for(b=0;c>b;b+=1)this.dynamicProperties[b].getValue(a),this.dynamicProperties[b].mdf&&(this.element.globalData.mdf=!0)},CVMaskElement.prototype.renderFrame=function(a){var c,e,f,g,h,j,k,b=this.element.canvasContext,d=this.data.masksProperties.length,i=!1;for(c=0;d>c;c++)if("n"!==this.masksProperties[c].mode){for(i===!1&&(b.beginPath(),i=!0),this.masksProperties[c].inv&&(b.moveTo(0,0),b.lineTo(this.element.globalData.compWidth,0),b.lineTo(this.element.globalData.compWidth,this.element.globalData.compHeight),b.lineTo(0,this.element.globalData.compHeight),b.lineTo(0,0)),h=this.viewData[c].v,e=a?a.applyToPointArray(h.v[0][0],h.v[0][1],0):h.v[0],b.moveTo(e[0],e[1]),k=h.v.length,j=1;k>j;j++)e=a?a.applyToPointArray(h.o[j-1][0],h.o[j-1][1],0):h.o[j-1],f=a?a.applyToPointArray(h.i[j][0],h.i[j][1],0):h.i[j],g=a?a.applyToPointArray(h.v[j][0],h.v[j][1],0):h.v[j],b.bezierCurveTo(e[0],e[1],f[0],f[1],g[0],g[1]);e=a?a.applyToPointArray(h.o[j-1][0],h.o[j-1][1],0):h.o[j-1],f=a?a.applyToPointArray(h.i[0][0],h.i[0][1],0):h.i[0],g=a?a.applyToPointArray(h.v[0][0],h.v[0][1],0):h.v[0],b.bezierCurveTo(e[0],e[1],f[0],f[1],g[0],g[1])}i&&b.clip()},CVMaskElement.prototype.getMask=function(a){for(var b=0,c=this.masksProperties.length;c>b;){if(this.masksProperties[b].nm===a)return{maskPath:this.viewData[b].pv};b+=1}},CVMaskElement.prototype.destroy=function(){this.element=null},createElement(CVBaseElement,CVShapeElement),CVShapeElement.prototype.lcEnum={1:"butt",2:"round",3:"butt"},CVShapeElement.prototype.ljEnum={1:"miter",2:"round",3:"butt"},CVShapeElement.prototype.transformHelper={opacity:1,mat:new Matrix,matMdf:!1,opMdf:!1},CVShapeElement.prototype.dashResetter=[],CVShapeElement.prototype.createElements=function(){this._parent.createElements.call(this),this.searchShapes(this.shapesData,this.viewData,this.dynamicProperties)},CVShapeElement.prototype.searchShapes=function(a,b,c){var d,f,g,j,k,l,m,n,o,e=a.length-1,h=[],i=[];for(d=e;d>=0;d-=1)if("fl"==a[d].ty||"st"==a[d].ty)j={type:a[d].ty,elements:[]},b[d]={},("fl"==a[d].ty||"st"==a[d].ty)&&(b[d].c=PropertyFactory.getProp(this,a[d].c,1,255,c),b[d].c.k||(j.co="rgb("+bm_floor(b[d].c.v[0])+","+bm_floor(b[d].c.v[1])+","+bm_floor(b[d].c.v[2])+")")),b[d].o=PropertyFactory.getProp(this,a[d].o,0,.01,c),"st"==a[d].ty?(j.lc=this.lcEnum[a[d].lc]||"round",j.lj=this.ljEnum[a[d].lj]||"round",1==a[d].lj&&(j.ml=a[d].ml),b[d].w=PropertyFactory.getProp(this,a[d].w,0,null,c),b[d].w.k||(j.wi=b[d].w.v),a[d].d&&(k=PropertyFactory.getDashProp(this,a[d].d,"canvas",c),b[d].d=k,b[d].d.k||(j.da=b[d].d.dasharray,j.do=b[d].d.dashoffset))):j.r=2===a[d].r?"evenodd":"nonzero",this.stylesList.push(j),b[d].style=j,h.push(b[d].style);else if("gr"==a[d].ty)b[d]={it:[]},this.searchShapes(a[d].it,b[d].it,c);else if("tr"==a[d].ty)b[d]={transform:{mat:new Matrix,opacity:1,matMdf:!1,opMdf:!1,op:PropertyFactory.getProp(this,a[d].o,0,.01,c),mProps:PropertyFactory.getProp(this,a[d],2,null,c)},elements:[]};else if("sh"==a[d].ty||"rc"==a[d].ty||"el"==a[d].ty||"sr"==a[d].ty){for(b[d]={nodes:[],trNodes:[],tr:[0,0,0,0,0,0]},l=4,"rc"==a[d].ty?l=5:"el"==a[d].ty?l=6:"sr"==a[d].ty&&(l=7),b[d].sh=ShapePropertyFactory.getShapeProp(this,a[d],l,c),this.shapes.push(b[d].sh),this.addShapeToModifiers(b[d].sh),g=this.stylesList.length,m=!1,n=!1,f=0;g>f;f+=1)this.stylesList[f].closed||(this.stylesList[f].elements.push(b[d]),"st"===this.stylesList[f].type?m=!0:n=!0);b[d].st=m,b[d].fl=n}else("tm"==a[d].ty||"rd"==a[d].ty)&&(o=ShapeModifiers.getModifier(a[d].ty),o.init(this,a[d],c),this.shapeModifiers.push(o),i.push(o),b[d]=o);for(e=h.length,d=0;e>d;d+=1)h[d].closed=!0;for(e=i.length,d=0;e>d;d+=1)i[d].closed=!0},CVShapeElement.prototype.addShapeToModifiers=IShapeElement.prototype.addShapeToModifiers,CVShapeElement.prototype.renderModifiers=IShapeElement.prototype.renderModifiers,CVShapeElement.prototype.renderFrame=function(a){this._parent.renderFrame.call(this,a)!==!1&&(this.transformHelper.mat.reset(),this.transformHelper.opacity=this.finalTransform.opacity,this.transformHelper.matMdf=!1,this.transformHelper.opMdf=this.finalTransform.opMdf,this.renderModifiers(),this.renderShape(this.transformHelper,null,null,!0),this.data.hasMask&&this.globalData.renderer.restore(!0))},CVShapeElement.prototype.renderShape=function(a,b,c,d){var e,f,g,h,i,j,k,l,m,n,o,p,s,q,r;if(!b)for(b=this.shapesData,f=this.stylesList.length,e=0;f>e;e+=1)this.stylesList[e].d="",this.stylesList[e].mdf=!1;for(c||(c=this.viewData),f=b.length-1,g=a,e=f;e>=0;e-=1)"tr"==b[e].ty?(g=c[e].transform,i=c[e].transform.mProps.v.props,g.matMdf=g.mProps.mdf,g.opMdf=g.op.mdf,h=g.mat,h.cloneFromProps(i),a?(j=a.mat.props,g.opacity=a.opacity,g.opacity*=c[e].transform.op.v,g.matMdf=a.matMdf?!0:g.matMdf,g.opMdf=a.opMdf?!0:g.opMdf,h.transform(j[0],j[1],j[2],j[3],j[4],j[5],j[6],j[7],j[8],j[9],j[10],j[11],j[12],j[13],j[14],j[15])):g.opacity=g.op.o):"sh"==b[e].ty||"el"==b[e].ty||"rc"==b[e].ty||"sr"==b[e].ty?this.renderPath(b[e],c[e],g):"fl"==b[e].ty?this.renderFill(b[e],c[e],g):"st"==b[e].ty?this.renderStroke(b[e],c[e],g):"gr"==b[e].ty?this.renderShape(g,b[e].it,c[e].it):"tm"==b[e].ty;if(d){for(f=this.stylesList.length,q=this.globalData.renderer,r=this.globalData.canvasContext,q.save(),q.ctxTransform(this.finalTransform.mat.props),e=0;f>e;e+=1)if(s=this.stylesList[e].type,"st"!==s||0!==this.stylesList[e].wi){for(q.save(),o=this.stylesList[e].elements,"st"===s?(r.strokeStyle=this.stylesList[e].co,r.lineWidth=this.stylesList[e].wi,r.lineCap=this.stylesList[e].lc,r.lineJoin=this.stylesList[e].lj,r.miterLimit=this.stylesList[e].ml||0):r.fillStyle=this.stylesList[e].co,q.ctxOpacity(this.stylesList[e].coOp),"st"!==s&&r.beginPath(),l=o.length,k=0;l>k;k+=1){for("st"===s&&(r.beginPath(),this.stylesList[e].da?(r.setLineDash(this.stylesList[e].da),r.lineDashOffset=this.stylesList[e].do,this.globalData.isDashed=!0):this.globalData.isDashed&&(r.setLineDash(this.dashResetter),this.globalData.isDashed=!1)),p=o[k].trNodes,n=p.length,m=0;n>m;m+=1)"m"==p[m].t?r.moveTo(p[m].p[0],p[m].p[1]):"c"==p[m].t?r.bezierCurveTo(p[m].p1[0],p[m].p1[1],p[m].p2[0],p[m].p2[1],p[m].p3[0],p[m].p3[1]):r.closePath();"st"===s&&r.stroke()}"st"!==s&&r.fill(this.stylesList[e].r),q.restore()}q.restore(),this.firstFrame&&(this.firstFrame=!1)}},CVShapeElement.prototype.renderPath=function(a,b,c){var d,e,f,g,i,j,k,h=c.matMdf||b.sh.mdf||this.firstFrame;if(h){for(i=b.sh.paths,g=i.length,j=b.trNodes,j.length=0,f=0;g>f;f+=1)if(k=i[f],k&&k.v){for(d=k.v.length,e=1;d>e;e+=1)1==e&&j.push({t:"m",p:c.mat.applyToPointArray(k.v[0][0],k.v[0][1],0)}),j.push({t:"c",p1:c.mat.applyToPointArray(k.o[e-1][0],k.o[e-1][1],0),p2:c.mat.applyToPointArray(k.i[e][0],k.i[e][1],0),p3:c.mat.applyToPointArray(k.v[e][0],k.v[e][1],0)});1==d&&j.push({t:"m",p:c.mat.applyToPointArray(k.v[0][0],k.v[0][1],0)}),k.c&&d&&(j.push({t:"c",p1:c.mat.applyToPointArray(k.o[e-1][0],k.o[e-1][1],0),p2:c.mat.applyToPointArray(k.i[0][0],k.i[0][1],0),p3:c.mat.applyToPointArray(k.v[0][0],k.v[0][1],0)}),j.push({t:"z"})),b.lStr=j}if(b.st)for(e=0;16>e;e+=1)b.tr[e]=c.mat.props[e];b.trNodes=j}},CVShapeElement.prototype.renderFill=function(a,b,c){var d=b.style;(b.c.mdf||this.firstFrame)&&(d.co="rgb("+bm_floor(b.c.v[0])+","+bm_floor(b.c.v[1])+","+bm_floor(b.c.v[2])+")"),(b.o.mdf||c.opMdf||this.firstFrame)&&(d.coOp=b.o.v*c.opacity)},CVShapeElement.prototype.renderStroke=function(a,b,c){var d=b.style,e=b.d;e&&(e.mdf||this.firstFrame)&&(d.da=e.dasharray,d.do=e.dashoffset),(b.c.mdf||this.firstFrame)&&(d.co="rgb("+bm_floor(b.c.v[0])+","+bm_floor(b.c.v[1])+","+bm_floor(b.c.v[2])+")"),(b.o.mdf||c.opMdf||this.firstFrame)&&(d.coOp=b.o.v*c.opacity),(b.w.mdf||this.firstFrame)&&(d.wi=b.w.v)},CVShapeElement.prototype.destroy=function(){this.shapesData=null,this.globalData=null,this.canvasContext=null,this.stylesList.length=0,this.viewData.length=0,this._parent.destroy.call(this._parent)},createElement(CVBaseElement,CVSolidElement),CVSolidElement.prototype.renderFrame=function(a){if(this._parent.renderFrame.call(this,a)!==!1){var b=this.canvasContext;this.globalData.renderer.save(),this.globalData.renderer.ctxTransform(this.finalTransform.mat.props),this.globalData.renderer.ctxOpacity(this.finalTransform.opacity),b.fillStyle=this.data.sc,b.fillRect(0,0,this.data.sw,this.data.sh),this.globalData.renderer.restore(this.data.hasMask),this.firstFrame&&(this.firstFrame=!1)}},createElement(CVBaseElement,CVTextElement),CVTextElement.prototype.init=ITextElement.prototype.init,CVTextElement.prototype.getMeasures=ITextElement.prototype.getMeasures,CVTextElement.prototype.getMult=ITextElement.prototype.getMult,CVTextElement.prototype.prepareFrame=ITextElement.prototype.prepareFrame,CVTextElement.prototype.tHelper=document.createElement("canvas").getContext("2d"),CVTextElement.prototype.createElements=function(){this._parent.createElements.call(this)},CVTextElement.prototype.buildNewText=function(){var b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,a=this.currentTextDocumentData;for(this.renderedLetters=Array.apply(null,{length:this.currentTextDocumentData.l?this.currentTextDocumentData.l.length:0}),b=!1,a.fc?(b=!0,this.values.fill="rgb("+Math.round(255*a.fc[0])+","+Math.round(255*a.fc[1])+","+Math.round(255*a.fc[2])+")"):this.values.fill="rgba(0,0,0,0)",this.fill=b,c=!1,a.sc&&(c=!0,this.values.stroke="rgb("+Math.round(255*a.sc[0])+","+Math.round(255*a.sc[1])+","+Math.round(255*a.sc[2])+")",this.values.sWidth=a.sw),d=this.globalData.fontManager.getFontByName(a.f),g=a.l,h=this.mHelper,this.stroke=c,this.values.fValue=a.s+"px "+this.globalData.fontManager.getFontByName(a.f).fFamily,f=a.t.length,this.tHelper.font=this.values.fValue,s=this.data.singleShape,s&&(t=0,u=0,v=a.lineWidths,w=a.boxWidth,x=!0),y=0,e=0;f>e;e+=1){if(i=this.globalData.fontManager.getCharData(a.t.charAt(e),d.fStyle,this.globalData.fontManager.getFontByName(a.f).fFamily),j=i?i.data:null,h.reset(),s&&g[e].n&&(t=0,u+=a.yOffset,u+=x?1:0,x=!1),j&&j.shapes){if(m=j.shapes[0].it,o=m.length,h.scale(a.s/100,a.s/100),s){switch(a.ps&&h.translate(a.ps[0],a.ps[1]+a.ascent,0),a.j){case 1:h.translate(a.justifyOffset+(w-v[g[e].line]),0,0);break;case 2:h.translate(a.justifyOffset+(w-v[g[e].line])/2,0,0)}h.translate(t,u,0)}for(q=new Array(o),n=0;o>n;n+=1){for(l=m[n].ks.k.i.length,p=m[n].ks.k,r=[],k=1;l>k;k+=1)1==k&&r.push(h.applyToX(p.v[0][0],p.v[0][1],0),h.applyToY(p.v[0][0],p.v[0][1],0)),r.push(h.applyToX(p.o[k-1][0],p.o[k-1][1],0),h.applyToY(p.o[k-1][0],p.o[k-1][1],0),h.applyToX(p.i[k][0],p.i[k][1],0),h.applyToY(p.i[k][0],p.i[k][1],0),h.applyToX(p.v[k][0],p.v[k][1],0),h.applyToY(p.v[k][0],p.v[k][1],0));r.push(h.applyToX(p.o[k-1][0],p.o[k-1][1],0),h.applyToY(p.o[k-1][0],p.o[k-1][1],0),h.applyToX(p.i[0][0],p.i[0][1],0),h.applyToY(p.i[0][0],p.i[0][1],0),h.applyToX(p.v[0][0],p.v[0][1],0),h.applyToY(p.v[0][0],p.v[0][1],0)),q[n]=r}}else q=[];s&&(t+=g[e].l),this.textSpans[y]?this.textSpans[y].elem=q:this.textSpans[y]={elem:q},y+=1}},CVTextElement.prototype.renderFrame=function(a){var b,c,d,e,f,g,h,i,j,k,l,p,q,m,n,o;if(this._parent.renderFrame.call(this,a)!==!1){for(b=this.canvasContext,c=this.finalTransform.mat.props,this.globalData.renderer.save(),this.globalData.renderer.ctxTransform(c),this.globalData.renderer.ctxOpacity(this.finalTransform.opacity),b.font=this.values.fValue,b.lineCap="butt",b.lineJoin="miter",b.miterLimit=4,this.data.singleShape||this.getMeasures(),j=this.renderedLetters,k=this.currentTextDocumentData.l,e=k.length,m=null,n=null,o=null,d=0;e>d;d+=1)if(!k[d].n){if(l=j[d],l&&(this.globalData.renderer.save(),this.globalData.renderer.ctxTransform(l.props),this.globalData.renderer.ctxOpacity(l.o)),this.fill){for(l&&l.fc?m!==l.fc&&(m=l.fc,b.fillStyle=l.fc):m!==this.values.fill&&(m=this.values.fill,b.fillStyle=this.values.fill),p=this.textSpans[d].elem,g=p.length,this.globalData.canvasContext.beginPath(),f=0;g>f;f+=1)for(q=p[f],i=q.length,this.globalData.canvasContext.moveTo(q[0],q[1]),h=2;i>h;h+=6)this.globalData.canvasContext.bezierCurveTo(q[h],q[h+1],q[h+2],q[h+3],q[h+4],q[h+5]);this.globalData.canvasContext.closePath(),this.globalData.canvasContext.fill()}if(this.stroke){for(l&&l.sw?o!==l.sw&&(o=l.sw,b.lineWidth=l.sw):o!==this.values.sWidth&&(o=this.values.sWidth,b.lineWidth=this.values.sWidth),l&&l.sc?n!==l.sc&&(n=l.sc,b.strokeStyle=l.sc):n!==this.values.stroke&&(n=this.values.stroke,b.strokeStyle=this.values.stroke),p=this.textSpans[d].elem,g=p.length,this.globalData.canvasContext.beginPath(),f=0;g>f;f+=1)for(q=p[f],i=q.length,this.globalData.canvasContext.moveTo(q[0],q[1]),h=2;i>h;h+=6)this.globalData.canvasContext.bezierCurveTo(q[h],q[h+1],q[h+2],q[h+3],q[h+4],q[h+5]);this.globalData.canvasContext.closePath(),this.globalData.canvasContext.stroke()}l&&this.globalData.renderer.restore()}this.globalData.renderer.restore(this.data.hasMask),this.firstFrame&&(this.firstFrame=!1)}},createElement(BaseElement,HBaseElement),HBaseElement.prototype.checkBlendMode=function(){},HBaseElement.prototype.setBlendMode=BaseElement.prototype.setBlendMode,HBaseElement.prototype.getBaseElement=function(){return this.baseElement},HBaseElement.prototype.createElements=function(){this.data.hasMask?(this.layerElement=document.createElementNS(svgNS,"svg"),styleDiv(this.layerElement),this.baseElement=this.layerElement,this.maskedElement=this.layerElement):this.layerElement=this.parentContainer,this.transformedElement=this.layerElement,!this.data.ln||4!==this.data.ty&&0!==this.data.ty||(this.layerElement===this.parentContainer&&(this.layerElement=document.createElementNS(svgNS,"g"),this.baseElement=this.layerElement),this.layerElement.setAttribute("id",this.data.ln)),this.setBlendMode(),this.layerElement!==this.parentContainer&&(this.placeholder=null),this.checkParenting()},HBaseElement.prototype.renderFrame=function(a){var b,c,d,e;if(3===this.data.ty)return!1;if(this.currentFrameNum===this.lastNum||!this.isVisible)return this.isVisible;if(this.lastNum=this.currentFrameNum,this.finalTransform.opMdf=this.finalTransform.op.mdf,this.finalTransform.matMdf=this.finalTransform.mProp.mdf,this.finalTransform.opacity=this.finalTransform.op.v,this.firstFrame&&(this.finalTransform.opMdf=!0,this.finalTransform.matMdf=!0),c=this.finalTransform.mat,this.hierarchy)for(e=this.hierarchy.length,b=this.finalTransform.mProp.v.props,c.cloneFromProps(b),d=0;e>d;d+=1)this.finalTransform.matMdf=this.hierarchy[d].finalTransform.mProp.mdf?!0:this.finalTransform.matMdf,b=this.hierarchy[d].finalTransform.mProp.v.props,c.transform(b[0],b[1],b[2],b[3],b[4],b[5],b[6],b[7],b[8],b[9],b[10],b[11],b[12],b[13],b[14],b[15]);else this.isVisible&&this.finalTransform.matMdf&&(a?(b=this.finalTransform.mProp.v.props,c.cloneFromProps(b)):c.cloneFromProps(this.finalTransform.mProp.v.props));return this.data.hasMask&&this.maskManager.renderFrame(c),a&&(b=a.mat.props,c.cloneFromProps(b),this.finalTransform.opacity*=a.opacity,this.finalTransform.opMdf=a.opMdf?!0:this.finalTransform.opMdf,this.finalTransform.matMdf=a.matMdf?!0:this.finalTransform.matMdf),this.finalTransform.matMdf&&(this.transformedElement.style.transform=this.transformedElement.style.webkitTransform=c.toCSS(),this.finalMat=c),this.finalTransform.opMdf&&(this.transformedElement.style.opacity=this.finalTransform.opacity),this.isVisible},HBaseElement.prototype.destroy=function(){this.layerElement=null,this.transformedElement=null,this.parentContainer=null,this.matteElement&&(this.matteElement=null),this.maskManager&&(this.maskManager.destroy(),this.maskManager=null)},HBaseElement.prototype.getDomElement=function(){return this.layerElement},HBaseElement.prototype.addMasks=function(a){this.maskManager=new MaskElement(a,this,this.globalData)},HBaseElement.prototype.hide=function(){},HBaseElement.prototype.setMatte=function(){},HBaseElement.prototype.buildElementParenting=HybridRenderer.prototype.buildElementParenting,createElement(HBaseElement,HSolidElement),HSolidElement.prototype.createElements=function(){var b,c,a=document.createElement("div");styleDiv(a),b=document.createElementNS(svgNS,"svg"),styleDiv(b),b.setAttribute("width",this.data.sw),b.setAttribute("height",this.data.sh),a.appendChild(b),this.layerElement=a,this.transformedElement=a,this.baseElement=a,this.innerElem=a,this.data.ln&&this.innerElem.setAttribute("id",this.data.ln),0!==this.data.bm&&this.setBlendMode(),c=document.createElementNS(svgNS,"rect"),c.setAttribute("width",this.data.sw),c.setAttribute("height",this.data.sh),c.setAttribute("fill",this.data.sc),b.appendChild(c),this.data.hasMask&&(this.maskedElement=c),this.checkParenting()},HSolidElement.prototype.hide=IImageElement.prototype.hide,HSolidElement.prototype.renderFrame=IImageElement.prototype.renderFrame,HSolidElement.prototype.destroy=IImageElement.prototype.destroy,createElement(HBaseElement,HCompElement),HCompElement.prototype.createElements=function(){var b,c,a=document.createElement("div");styleDiv(a),this.data.ln&&a.setAttribute("id",this.data.ln),a.style.clip="rect(0px, "+this.data.w+"px, "+this.data.h+"px, 0px)",this.data.hasMask?(b=document.createElementNS(svgNS,"svg"),styleDiv(b),b.setAttribute("width",this.data.w),b.setAttribute("height",this.data.h),c=document.createElementNS(svgNS,"g"),b.appendChild(c),a.appendChild(b),this.maskedElement=c,this.baseElement=a,this.layerElement=c,this.transformedElement=a):(this.layerElement=a,this.baseElement=this.layerElement,this.transformedElement=a),this.checkParenting()},HCompElement.prototype.hide=ICompElement.prototype.hide,HCompElement.prototype.prepareFrame=ICompElement.prototype.prepareFrame,HCompElement.prototype.setElements=ICompElement.prototype.setElements,HCompElement.prototype.getElements=ICompElement.prototype.getElements,HCompElement.prototype.destroy=ICompElement.prototype.destroy,HCompElement.prototype.renderFrame=function(a){var c,b=this._parent.renderFrame.call(this,a),d=this.layers.length;if(b===!1)return this.hide(),void 0;for(this.hidden=!1,c=0;d>c;c+=1)(this.completeLayers||this.elements[c])&&this.elements[c].renderFrame();this.firstFrame&&(this.firstFrame=!1)},HCompElement.prototype.checkLayers=BaseRenderer.prototype.checkLayers,HCompElement.prototype.buildItem=HybridRenderer.prototype.buildItem,HCompElement.prototype.checkPendingElements=HybridRenderer.prototype.checkPendingElements,HCompElement.prototype.addPendingElement=HybridRenderer.prototype.addPendingElement,HCompElement.prototype.buildAllItems=BaseRenderer.prototype.buildAllItems,HCompElement.prototype.createItem=HybridRenderer.prototype.createItem,HCompElement.prototype.buildElementParenting=HybridRenderer.prototype.buildElementParenting,HCompElement.prototype.createImage=HybridRenderer.prototype.createImage,HCompElement.prototype.createComp=HybridRenderer.prototype.createComp,HCompElement.prototype.createSolid=HybridRenderer.prototype.createSolid,HCompElement.prototype.createShape=HybridRenderer.prototype.createShape,HCompElement.prototype.createText=HybridRenderer.prototype.createText,HCompElement.prototype.createBase=HybridRenderer.prototype.createBase,HCompElement.prototype.appendElementInPos=HybridRenderer.prototype.appendElementInPos,createElement(HBaseElement,HShapeElement),parent=HShapeElement.prototype._parent,extendPrototype(IShapeElement,HShapeElement),HShapeElement.prototype._parent=parent,HShapeElement.prototype.createElements=function(){var b,c,d,a=document.createElement("div");styleDiv(a),b=document.createElementNS(svgNS,"svg"),styleDiv(b),c=this.comp.data?this.comp.data:this.globalData.compSize,b.setAttribute("width",c.w),b.setAttribute("height",c.h),this.data.hasMask?(d=document.createElementNS(svgNS,"g"),a.appendChild(b),b.appendChild(d),this.maskedElement=d,this.layerElement=d,this.shapesContainer=d):(a.appendChild(b),this.layerElement=b,this.shapesContainer=document.createElementNS(svgNS,"g"),this.layerElement.appendChild(this.shapesContainer)),this.data.hd||(this.baseElement=a),this.innerElem=a,this.data.ln&&this.innerElem.setAttribute("id",this.data.ln),this.searchShapes(this.shapesData,this.viewData,this.layerElement,this.dynamicProperties,0),this.buildExpressionInterface(),this.layerElement=a,this.transformedElement=a,this.shapeCont=b,0!==this.data.bm&&this.setBlendMode(),this.checkParenting()},HShapeElement.prototype.renderFrame=function(a){var c,d,b=this._parent.renderFrame.call(this,a);return b===!1?(this.hide(),void 0):(this.hidden&&(this.layerElement.style.display="block",this.hidden=!1),this.renderModifiers(),this.addedTransforms.mdf=this.finalTransform.matMdf,this.addedTransforms.mats.length=1,this.addedTransforms.mats[0]=this.finalTransform.mat,this.renderShape(null,null,!0,null),this.isVisible&&(this.elemMdf||this.firstFrame)&&(c=this.shapeCont.getBBox(),d=!1,this.currentBBox.w!==c.width&&(this.currentBBox.w=c.width,this.shapeCont.setAttribute("width",c.width),d=!0),this.currentBBox.h!==c.height&&(this.currentBBox.h=c.height,this.shapeCont.setAttribute("height",c.height),d=!0),(d||this.currentBBox.x!==c.x||this.currentBBox.y!==c.y)&&(this.currentBBox.w=c.width,this.currentBBox.h=c.height,this.currentBBox.x=c.x,this.currentBBox.y=c.y,this.shapeCont.setAttribute("viewBox",this.currentBBox.x+" "+this.currentBBox.y+" "+this.currentBBox.w+" "+this.currentBBox.h),this.shapeCont.style.transform=this.shapeCont.style.webkitTransform="translate("+this.currentBBox.x+"px,"+this.currentBBox.y+"px)")),void 0)},createElement(HBaseElement,HTextElement),HTextElement.prototype.init=ITextElement.prototype.init,HTextElement.prototype.getMeasures=ITextElement.prototype.getMeasures,HTextElement.prototype.createPathShape=ITextElement.prototype.createPathShape,HTextElement.prototype.prepareFrame=ITextElement.prototype.prepareFrame,HTextElement.prototype.createElements=function(){var a,b,c;this.isMasked=this.checkMasks(),a=document.createElement("div"),styleDiv(a),this.layerElement=a,this.transformedElement=a,this.isMasked?(this.renderType="svg",b=document.createElementNS(svgNS,"svg"),styleDiv(b),this.cont=b,this.compW=this.comp.data?this.comp.data.w:this.globalData.compSize.w,this.compH=this.comp.data?this.comp.data.h:this.globalData.compSize.h,b.setAttribute("width",this.compW),b.setAttribute("height",this.compH),c=document.createElementNS(svgNS,"g"),b.appendChild(c),a.appendChild(b),this.maskedElement=c,this.innerElem=c):(this.renderType="html",this.innerElem=a),this.baseElement=a,this.checkParenting()},HTextElement.prototype.buildNewText=function(){var b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,a=this.currentTextDocumentData;for(this.renderedLetters=Array.apply(null,{length:this.currentTextDocumentData.l?this.currentTextDocumentData.l.length:0}),this.innerElem.style.color=this.innerElem.style.fill=a.fc?"rgb("+Math.round(255*a.fc[0])+","+Math.round(255*a.fc[1])+","+Math.round(255*a.fc[2])+")":"rgba(0,0,0,0)",a.sc&&(this.innerElem.style.stroke="rgb("+Math.round(255*a.sc[0])+","+Math.round(255*a.sc[1])+","+Math.round(255*a.sc[2])+")",this.innerElem.style.strokeWidth=a.sw+"px"),b=this.globalData.fontManager.getFontByName(a.f),this.globalData.fontManager.chars||(this.innerElem.style.fontSize=a.s+"px",this.innerElem.style.lineHeight=a.s+"px",b.fClass?this.innerElem.className=b.fClass:(this.innerElem.style.fontFamily=b.fFamily,c=a.fWeight,d=a.fStyle,this.innerElem.style.fontStyle=d,this.innerElem.style.fontWeight=c)),g=a.l,f=g.length,k=this.mHelper,m="",n=0,e=0;f>e;e+=1)this.globalData.fontManager.chars?(this.textPaths[n]?h=this.textPaths[n]:(h=document.createElementNS(svgNS,"path"),h.setAttribute("stroke-linecap","butt"),h.setAttribute("stroke-linejoin","round"),h.setAttribute("stroke-miterlimit","4")),this.isMasked||(this.textSpans[n]?(i=this.textSpans[n],j=i.children[0]):(i=document.createElement("div"),j=document.createElementNS(svgNS,"svg"),j.appendChild(h),styleDiv(i)))):this.isMasked?h=this.textPaths[n]?this.textPaths[n]:document.createElementNS(svgNS,"text"):this.textSpans[n]?(i=this.textSpans[n],h=this.textPaths[n]):(i=document.createElement("span"),styleDiv(i),h=document.createElement("span"),styleDiv(h),i.appendChild(h)),this.globalData.fontManager.chars?(o=this.globalData.fontManager.getCharData(a.t.charAt(e),b.fStyle,this.globalData.fontManager.getFontByName(a.f).fFamily),p=o?o.data:null,k.reset(),p&&p.shapes&&(l=p.shapes[0].it,k.scale(a.s/100,a.s/100),m=this.createPathShape(k,l),h.setAttribute("d",m)),this.isMasked?this.innerElem.appendChild(h):(this.innerElem.appendChild(i),p&&p.shapes?(document.body.appendChild(j),q=j.getBBox(),j.setAttribute("width",q.width),j.setAttribute("height",q.height),j.setAttribute("viewBox",q.x+" "+q.y+" "+q.width+" "+q.height),j.style.transform=j.style.webkitTransform="translate("+q.x+"px,"+q.y+"px)",g[e].yOffset=q.y,i.appendChild(j)):(j.setAttribute("width",1),j.setAttribute("height",1)))):(h.textContent=g[e].val,h.setAttributeNS("http://www.w3.org/XML/1998/namespace","xml:space","preserve"),this.isMasked?this.innerElem.appendChild(h):(this.innerElem.appendChild(i),h.style.transform=h.style.webkitTransform="translate3d(0,"+-a.s/1.2+"px,0)")),this.textSpans[n]=this.isMasked?h:i,this.textSpans[n].style.display="block",this.textPaths[n]=h,n+=1;for(;n<this.textSpans.length;)this.textSpans[n].style.display="none",n+=1},HTextElement.prototype.hide=SVGTextElement.prototype.hide,HTextElement.prototype.renderFrame=function(a){var c,d,e,f,g,h,b=this._parent.renderFrame.call(this,a);if(b===!1)return this.hide(),void 0;if(this.hidden&&(this.hidden=!1,this.innerElem.style.display="block",this.layerElement.style.display="block"),this.data.singleShape){if(!this.firstFrame&&!this.lettersChangedFlag)return;this.isMasked&&this.finalTransform.matMdf&&(this.cont.setAttribute("viewBox",-this.finalTransform.mProp.p.v[0]+" "+-this.finalTransform.mProp.p.v[1]+" "+this.compW+" "+this.compH),this.cont.style.transform=this.cont.style.webkitTransform="translate("+-this.finalTransform.mProp.p.v[0]+"px,"+-this.finalTransform.mProp.p.v[1]+"px)")}if(this.getMeasures(),this.lettersChangedFlag){for(e=this.renderedLetters,f=this.currentTextDocumentData.l,d=f.length,c=0;d>c;c+=1)f[c].n||(g=e[c],this.isMasked?this.textSpans[c].setAttribute("transform",g.m):this.textSpans[c].style.transform=this.textSpans[c].style.webkitTransform=g.m,this.textSpans[c].style.opacity=g.o,g.sw&&this.textPaths[c].setAttribute("stroke-width",g.sw),g.sc&&this.textPaths[c].setAttribute("stroke",g.sc),g.fc&&(this.textPaths[c].setAttribute("fill",g.fc),this.textPaths[c].style.color=g.fc));this.isVisible&&(this.elemMdf||this.firstFrame)&&this.innerElem.getBBox&&(h=this.innerElem.getBBox(),this.currentBBox.w!==h.width&&(this.currentBBox.w=h.width,this.cont.setAttribute("width",h.width)),this.currentBBox.h!==h.height&&(this.currentBBox.h=h.height,this.cont.setAttribute("height",h.height)),(this.currentBBox.w!==h.width||this.currentBBox.h!==h.height||this.currentBBox.x!==h.x||this.currentBBox.y!==h.y)&&(this.currentBBox.w=h.width,this.currentBBox.h=h.height,this.currentBBox.x=h.x,this.currentBBox.y=h.y,this.cont.setAttribute("viewBox",this.currentBBox.x+" "+this.currentBBox.y+" "+this.currentBBox.w+" "+this.currentBBox.h),this.cont.style.transform=this.cont.style.webkitTransform="translate("+this.currentBBox.x+"px,"+this.currentBBox.y+"px)")),this.firstFrame&&(this.firstFrame=!1)
}},HTextElement.prototype.destroy=SVGTextElement.prototype.destroy,createElement(HBaseElement,HImageElement),HImageElement.prototype.createElements=function(){var c,d,a=this.globalData.getAssetsPath(this.assetData),b=new Image;this.data.hasMask?(c=document.createElement("div"),styleDiv(c),d=document.createElementNS(svgNS,"svg"),styleDiv(d),d.setAttribute("width",this.assetData.w),d.setAttribute("height",this.assetData.h),c.appendChild(d),this.imageElem=document.createElementNS(svgNS,"image"),this.imageElem.setAttribute("width",this.assetData.w+"px"),this.imageElem.setAttribute("height",this.assetData.h+"px"),this.imageElem.setAttributeNS("http://www.w3.org/1999/xlink","href",a),d.appendChild(this.imageElem),this.layerElement=c,this.transformedElement=c,this.baseElement=c,this.innerElem=c,this.maskedElement=this.imageElem):(styleDiv(b),this.layerElement=b,this.baseElement=b,this.innerElem=b,this.transformedElement=b),b.src=a,this.data.ln&&this.innerElem.setAttribute("id",this.data.ln),this.checkParenting()},HImageElement.prototype.hide=HSolidElement.prototype.hide,HImageElement.prototype.renderFrame=HSolidElement.prototype.renderFrame,HImageElement.prototype.destroy=HSolidElement.prototype.destroy,createElement(HBaseElement,HCameraElement),HCameraElement.prototype.setup=function(){var a,c,b=this.comp.threeDElements.length;for(a=0;b>a;a+=1)c=this.comp.threeDElements[a],c.perspectiveElem.style.perspective=c.perspectiveElem.style.webkitPerspective=this.pe.v+"px",c.container.style.transformOrigin=c.container.style.mozTransformOrigin=c.container.style.webkitTransformOrigin="0px 0px 0px",c.perspectiveElem.style.transform=c.perspectiveElem.style.webkitTransform="matrix3d(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1)"},HCameraElement.prototype.createElements=function(){},HCameraElement.prototype.hide=function(){},HCameraElement.prototype.renderFrame=function(){var b,c,d,e,f,g,h,i,j,k,a=this.firstFrame;if(this.hierarchy)for(c=this.hierarchy.length,b=0;c>b;b+=1)a=this.hierarchy[b].finalTransform.mProp.mdf?!0:a;if(a||this.p&&this.p.mdf||this.px&&(this.px.mdf||this.py.mdf||this.pz.mdf)||this.rx.mdf||this.ry.mdf||this.rz.mdf||this.or.mdf||this.a&&this.a.mdf){if(this.mat.reset(),this.p?this.mat.translate(-this.p.v[0],-this.p.v[1],this.p.v[2]):this.mat.translate(-this.px.v,-this.py.v,this.pz.v),this.a&&(d=[this.p.v[0]-this.a.v[0],this.p.v[1]-this.a.v[1],this.p.v[2]-this.a.v[2]],e=Math.sqrt(Math.pow(d[0],2)+Math.pow(d[1],2)+Math.pow(d[2],2)),f=[d[0]/e,d[1]/e,d[2]/e],g=Math.sqrt(f[2]*f[2]+f[0]*f[0]),h=Math.atan2(f[1],g),i=Math.atan2(f[0],-f[2]),this.mat.rotateY(i).rotateX(-h)),this.mat.rotateX(-this.rx.v).rotateY(-this.ry.v).rotateZ(this.rz.v),this.mat.rotateX(-this.or.v[0]).rotateY(-this.or.v[1]).rotateZ(this.or.v[2]),this.mat.translate(this.globalData.compSize.w/2,this.globalData.compSize.h/2,0),this.mat.translate(0,0,this.pe.v),this.hierarchy)for(c=this.hierarchy.length,b=0;c>b;b+=1)j=this.hierarchy[b].finalTransform.mProp.iv.props,this.mat.transform(j[0],j[1],j[2],j[3],j[4],j[5],j[6],j[7],j[8],j[9],j[10],j[11],-j[12],-j[13],j[14],j[15]);for(c=this.comp.threeDElements.length,b=0;c>b;b+=1)k=this.comp.threeDElements[b],k.container.style.transform=k.container.style.webkitTransform=this.mat.toCSS()}this.firstFrame=!1},HCameraElement.prototype.destroy=function(){},Expressions=function(){function b(a){a.renderer.compInterface=CompExpressionInterface(a.renderer),a.renderer.globalData.projectInterface.registerComposition(a.renderer)}var a={};return a.initExpressions=b,a}(),expressionsPlugin=Expressions,function(){function a(){return this.pv}function b(a,b){var g,h,i,j,k,l,m,o,n,p,q,r,s,t,u,v,w,x,z,y,A,B,c=0,d=this.keyframes.length-1,e=1,f=!0;for(b=void 0===b?this.offsetTime:0,i="object"==typeof this.pv?[this.pv.length]:0;f;){if(g=this.keyframes[c],h=this.keyframes[c+1],c==d-1&&a>=h.t-b){g.h&&(g=h);break}if(h.t-b>a)break;d-1>c?c+=e:f=!1}if(n=0,g.to)if(g.bezierData||bez.buildBezierData(g),p=g.bezierData,a>=h.t-b||a<g.t-b)for(q=a>=h.t-b?p.points.length-1:0,k=p.points[q].point.length,j=0;k>j;j+=1)i[j]=p.points[q].point[j];else for(g.__fnct?o=g.__fnct:(o=BezierFactory.getBezierEasing(g.o.x,g.o.y,g.i.x,g.i.y,g.n).get,g.__fnct=o),l=o((a-(g.t-b))/(h.t-b-(g.t-b))),r=p.segmentLength*l,t=0,e=1,f=!0,m=p.points.length;f;){if(t+=p.points[n].partialLength*e,0===r||0===l||n==p.points.length-1){for(k=p.points[n].point.length,j=0;k>j;j+=1)i[j]=p.points[n].point[j];break}if(r>=t&&r<t+p.points[n+1].partialLength){for(s=(r-t)/p.points[n+1].partialLength,k=p.points[n].point.length,j=0;k>j;j+=1)i[j]=p.points[n].point[j]+(p.points[n+1].point[j]-p.points[n].point[j])*s;break}m-1>n&&1==e||n>0&&-1==e?n+=e:f=!1}else for(y=!1,d=g.s.length,c=0;d>c;c+=1)1!==g.h&&(g.o.x instanceof Array?(y=!0,g.__fnct||(g.__fnct=[]),g.__fnct[c]||(u=g.o.x[c]||g.o.x[0],v=g.o.y[c]||g.o.y[0],w=g.i.x[c]||g.i.x[0],x=g.i.y[c]||g.i.y[0])):(y=!1,g.__fnct||(u=g.o.x,v=g.o.y,w=g.i.x,x=g.i.y)),y?g.__fnct[c]?o=g.__fnct[c]:(o=BezierFactory.getBezierEasing(u,v,w,x).get,g.__fnct[c]=o):g.__fnct?o=g.__fnct:(o=BezierFactory.getBezierEasing(u,v,w,x).get,g.__fnct=o),l=a>=h.t-b?1:a<g.t-b?0:o((a-(g.t-b))/(h.t-b-(g.t-b)))),this.sh&&1!==g.h?(A=g.s[c],B=g.e[c],-180>A-B?A+=360:A-B>180&&(A-=360),z=A+(B-A)*l):z=1===g.h?g.s[c]:g.s[c]+(g.e[c]-g.s[c])*l,1===d?i=z:i[c]=z;return i}function c(a){var b,c,d,e,f;if(void 0!==this.vel)return this.vel;if(b=-.01,a*=this.elem.globalData.frameRate,c=this.getValueAtTime(a,0),d=this.getValueAtTime(a+b,0),c.length)for(e=Array.apply(null,{length:c.length}),f=0;f<c.length;f+=1)e[f]=this.elem.globalData.frameRate*((d[f]-c[f])/b);else e=(d-c)/b;return e}function d(a){this.propertyGroup=a}function e(a,b,c){b.x&&(c.k=!0,c.x=!0,c.getValue&&(c.getPreValue=c.getValue),c.getValue=ExpressionManager.initiateExpression.bind(c)(a,b,c))}var h,i,f=function(){function f(a,b){return this.textIndex=a+1,this.textTotal=b,this.getValue(),this.v}return function(g,h){this.pv=1,this.comp=g.comp,this.elem=g,this.mult=.01,this.type="textSelector",this.textTotal=h.totalChars,this.selectorValue=100,this.lastValue=[1,1,1],e.bind(this)(g,h,this),this.getMult=f,this.getVelocityAtTime=c,this.getValueAtTime=this.kf?b:a,this.setGroupProperty=d}}(),g=PropertyFactory.getProp;PropertyFactory.getProp=function(f,h,i,j,k){var m,l=g(f,h,i,j,k);return l.getVelocityAtTime=c,l.getValueAtTime=l.kf?b:a,l.setGroupProperty=d,m=l.k,void 0!==h.ix&&Object.defineProperty(l,"propertyIndex",{get:function(){return h.ix}}),e(f,h,l),!m&&l.x&&k.push(l),l},h=ShapePropertyFactory.getShapeProp,ShapePropertyFactory.getShapeProp=function(a,b,c,f,g){var j,i=h(a,b,c,f,g);return i.setGroupProperty=d,j=i.k,void 0!==b.ix&&Object.defineProperty(i,"propertyIndex",{get:function(){return b.ix}}),3===c?e(a,b.pt,i):4===c&&e(a,b.ks,i),!j&&i.x&&f.push(i),i},i=PropertyFactory.getTextSelectorProp,PropertyFactory.getTextSelectorProp=function(a,b,c){return 1===b.t?new f(a,b,c):i(a,b,c)}}(),ExpressionManager=function(){function duplicatePropertyValue(a,b){var c,d,e;if(b=b||1,"number"==typeof a)return a*b;if(a.i)return JSON.parse(JSON.stringify(a));for(c=Array.apply(null,{length:a.length}),e=a.length,d=0;e>d;d+=1)c[d]=a[d]*b;return c}function $bm_neg(a){var c,d,e,b=typeof a;if("number"===b||"boolean"===b)return-a;if("object"===b){for(d=a.length,e=[],c=0;d>c;c+=1)e[c]=-a[c];return e}}function sum(a,b){var e,f,g,h,c=typeof a,d=typeof b;if("string"===c||"string"===d)return a+b;if(!("number"!==c&&"boolean"!==c&&"string"!==c||"number"!==d&&"boolean"!==d&&"string"!==d))return a+b;if("object"===c&&("number"===d||"boolean"===d||"string"===d))return a[0]=a[0]+b,a;if(("number"===c||"boolean"===c||"string"===c)&&"object"===d)return b[0]=a+b[0],b;if("object"===c&&"object"===d){for(e=0,f=a.length,g=b.length,h=[];f>e||g>e;)h[e]="number"==typeof a[e]&&"number"==typeof b[e]?a[e]+b[e]:void 0==b[e]?a[e]:a[e]||b[e],e+=1;return h}return 0}function sub(a,b){var e,f,g,h,c=typeof a,d=typeof b;if(!("number"!==c&&"boolean"!==c&&"string"!==c||"number"!==d&&"boolean"!==d&&"string"!==d))return a-b;if("object"===c&&("number"===d||"boolean"===d||"string"===d))return a[0]=a[0]-b,a;if(("number"===c||"boolean"===c||"string"===c)&&"object"===d)return b[0]=a-b[0],b;if("object"===c&&"object"===d){for(e=0,f=a.length,g=b.length,h=[];f>e||g>e;)h[e]="number"==typeof a[e]&&"number"==typeof b[e]?a[e]-b[e]:void 0==b[e]?a[e]:a[e]||b[e],e+=1;return h}return 0}function mul(a,b){var e,f,g,c=typeof a,d=typeof b;if(!("number"!==c&&"boolean"!==c&&"string"!==c||"number"!==d&&"boolean"!==d&&"string"!==d))return a*b;if("object"===c&&("number"===d||"boolean"===d||"string"===d)){for(g=a.length,e=Array.apply(null,{length:g}),f=0;g>f;f+=1)e[f]=a[f]*b;return e}if(("number"===c||"boolean"===c||"string"===c)&&"object"===d){for(g=b.length,e=Array.apply(null,{length:g}),f=0;g>f;f+=1)e[f]=a*b[f];return e}return 0}function div(a,b){var e,f,g,c=typeof a,d=typeof b;if(!("number"!==c&&"boolean"!==c&&"string"!==c||"number"!==d&&"boolean"!==d&&"string"!==d))return a/b;if("object"===c&&("number"===d||"boolean"===d||"string"===d)){for(g=a.length,e=Array.apply(null,{length:g}),f=0;g>f;f+=1)e[f]=a[f]/b;return e}if(("number"===c||"boolean"===c||"string"===c)&&"object"===d){for(g=b.length,e=Array.apply(null,{length:g}),f=0;g>f;f+=1)e[f]=a/b[f];return e}return 0}function clamp(a,b,c){if(b>c){var d=c;c=b,b=d}return Math.min(Math.max(a,b),c)}function radiansToDegrees(a){return a/degToRads}function degreesToRadians(a){return a*degToRads}function length(a,b){var c,d,e;if("number"==typeof a)return b=b||0,Math.abs(a-b);for(b||(b=helperLengthArray),d=Math.min(a.length,b.length),e=0,c=0;d>c;c+=1)e+=Math.pow(b[c]-a[c],2);return Math.sqrt(e)}function normalize(a){return div(a,length(a))}function rgbToHsl(a){var g,h,j,b=a[0],c=a[1],d=a[2],e=Math.max(b,c,d),f=Math.min(b,c,d),i=(e+f)/2;if(e==f)g=h=0;else{switch(j=e-f,h=i>.5?j/(2-e-f):j/(e+f),e){case b:g=(c-d)/j+(d>c?6:0);break;case c:g=(d-b)/j+2;break;case d:g=(b-c)/j+4}g/=6}return[g,h,i,a[3]]}function hslToRgb(a){function h(a,b,c){return 0>c&&(c+=1),c>1&&(c-=1),1/6>c?a+6*(b-a)*c:.5>c?b:2/3>c?a+6*(b-a)*(2/3-c):a}var e,f,g,i,j,b=a[0],c=a[1],d=a[2];return 0==c?e=f=g=d:(i=.5>d?d*(1+c):d+c-d*c,j=2*d-i,e=h(j,i,b+1/3),f=h(j,i,b),g=h(j,i,b-1/3)),[e,f,g,a[3]]}function linear(a,b,c,d,e){var f,g,h,i;if(void 0===d||void 0===e)return linear(a,0,1,b,c);if(b>=a)return d;if(a>=c)return e;if(f=c===b?0:(a-b)/(c-b),!d.length)return d+(e-d)*f;for(h=d.length,i=Array.apply(null,{length:h}),g=0;h>g;g+=1)i[g]=d[g]+(e[g]-d[g])*f;return i}function random(a,b){var c,d,e,f,g;if(void 0===b&&(void 0===a?(a=0,b=1):(b=a,a=void 0)),b.length){for(d=b.length,a||(a=Array.apply(null,{length:d})),e=Array.apply(null,{length:d}),f=BMMath.random(),c=0;d>c;c+=1)e[c]=a[c]+f*(b[c]-a[c]);return e}return void 0===a&&(a=0),g=BMMath.random(),a+g*(b-a)}function initiateExpression(elem,data,property){function lookAt(a,b){var c=[b[0]-a[0],b[1]-a[1],b[2]-a[2]],d=Math.atan2(c[0],Math.sqrt(c[1]*c[1]+c[2]*c[2]))/degToRads,e=-Math.atan2(c[1],c[2])/degToRads;return[e,d,0]}function easeOut(a,b,c){return-(c-b)*a*(a-2)+b}function nearestKey(a){var b,d,e,f,c=data.k.length;if(data.k.length&&"number"!=typeof data.k[0]){for(d=-1,a*=elem.comp.globalData.frameRate,b=0;c-1>b;b+=1){if(a===data.k[b].t){d=b+1,e=data.k[b].t;break}if(a>data.k[b].t&&a<data.k[b+1].t){a-data.k[b].t>data.k[b+1].t-a?(d=b+2,e=data.k[b+1].t):(d=b+1,e=data.k[b].t);break}}-1===d&&(d=b+1,e=data.k[b].t)}else d=0,e=0;return f={},f.index=d,f.time=e/elem.comp.globalData.frameRate,f}function key(a){var b,c,d,e;if(!data.k.length||"number"==typeof data.k[0])return{time:0};for(a-=1,b={time:data.k[a].t/elem.comp.globalData.frameRate},c=a===data.k.length-1?data.k[a-1].e:data.k[a].s,e=c.length,d=0;e>d;d+=1)b[d]=c[d];return b}function framesToTime(a,b){return b||(b=elem.comp.globalData.frameRate),a/b}function timeToFrames(a,b){return a||(a=time),b||(b=elem.comp.globalData.frameRate),a*b}function toWorld(a){if(toworldMatrix.reset(),elem.finalTransform.mProp.applyToMatrix(toworldMatrix),elem.hierarchy&&elem.hierarchy.length){var b,c=elem.hierarchy.length;for(b=0;c>b;b+=1)elem.hierarchy[b].finalTransform.mProp.applyToMatrix(toworldMatrix);return toworldMatrix.applyToPointArray(a[0],a[1],a[2]||0)}return toworldMatrix.applyToPointArray(a[0],a[1],a[2]||0)}function fromWorld(a){var b,c,d;if(fromworldMatrix.reset(),b=[],b.push(a),elem.finalTransform.mProp.applyToMatrix(fromworldMatrix),elem.hierarchy&&elem.hierarchy.length){for(d=elem.hierarchy.length,c=0;d>c;c+=1)elem.hierarchy[c].finalTransform.mProp.applyToMatrix(fromworldMatrix);return fromworldMatrix.inversePoints(b)[0]}return fromworldMatrix.inversePoints(b)[0]}function seedRandom(a){BMMath.seedrandom(randSeed+a)}function execute(){if(seedRandom(randSeed),this.frameExpressionId!==elem.globalData.frameId||"textSelector"===this.type){if(this.lock)return this.v=duplicatePropertyValue(this.pv,this.mult),!0;"textSelector"===this.type&&(textIndex=this.textIndex,textTotal=this.textTotal,selectorValue=this.selectorValue),thisLayer||(thisLayer=elem.layerInterface,thisComp=elem.comp.compInterface),transform||(transform=elem.layerInterface("ADBE Transform Group")),4!==elemType||content||(content=thisLayer("ADBE Root Vectors Group")),effect||(effect=thisLayer(4)),hasParent=!(!elem.hierarchy||!elem.hierarchy.length),hasParent&&!parent&&(parent=elem.hierarchy[elem.hierarchy.length-1].layerInterface),this.lock=!0,this.getPreValue&&this.getPreValue(),value=this.pv,time=this.comp.renderedFrame/this.comp.globalData.frameRate,needsVelocity&&(velocity=velocityAtTime(time)),bindedFn(),this.frameExpressionId=elem.globalData.frameId;var a,b;if(this.mult)if("number"==typeof this.v||"string"==typeof this.v)this.v*=this.mult;else for(b=this.v.length,value===this.v&&(this.v=2===b?[value[0],value[1]]:[value[0],value[1],value[2]]),a=0;b>a;a+=1)this.v[a]*=this.mult;if("number"==typeof this.v||"string"==typeof this.v)this.lastValue!==this.v&&(this.lastValue=this.v,this.mdf=!0);else if(this.v.i)this.mdf=!0,this.paths.length=0,this.paths[0]=this.v;else for(b=this.v.length,a=0;b>a;a+=1)this.v[a]!==this.lastValue[a]&&(this.lastValue[a]=this.v[a],this.mdf=!0);this.lock=!1}}var transform,content,effect,inPoint,outPoint,thisLayer,fn,bindedFn,numKeys,wiggle,loopIn,loopInDuration,loopOut,loop_out,loopOutDuration,valueAtTime,velocityAtTime,comp,toworldMatrix,fromworldMatrix,time,velocity,value,textIndex,textTotal,selectorValue,index,hasParent,parent,randSeed,val=data.x,needsVelocity=-1!==val.indexOf("velocity"),elemType=elem.data.ty,thisComp=elem.comp,thisProperty=property;return elem.comp.frameDuration=1/elem.comp.globalData.frameRate,inPoint=elem.data.ip/elem.comp.globalData.frameRate,outPoint=elem.data.op/elem.comp.globalData.frameRate,fn=new Function,fn=eval("[function(){"+val+";this.v = $bm_rt;}"+"]")[0],bindedFn=fn.bind(this),numKeys=data.k?data.k.length:0,wiggle=function(a,b){var c,d,g,h,i,j,e=this.pv.length?this.pv.length:1,f=Array.apply(null,{len:e});for(d=0;e>d;d+=1)f[d]=0;for(a=5,g=Math.floor(time*a),c=0,d=0;g>c;){for(d=0;e>d;d+=1)f[d]+=-b+2*b*BMMath.random();c+=1}for(h=time*a,i=h-Math.floor(h),j=Array.apply({length:e}),d=0;e>d;d+=1)j[d]=this.pv[d]+f[d]+(-b+2*b*BMMath.random())*i;return j}.bind(this),loopIn=function(a,b,c){var d,e,f,g,h,i,j,k,l,m,n,o,p,q,r;if(!this.k)return this.pv;if(d=time*elem.comp.globalData.frameRate,e=this.keyframes,f=e[0].t,d>=f)return this.pv;if(c?(g=b?Math.abs(elem.comp.globalData.frameRate*b):Math.max(0,this.elem.data.op-f),h=f+g):((!b||b>e.length-1)&&(b=e.length-1),h=e[b].t,g=h-f),"pingpong"===a){if(l=Math.floor((f-d)/g),0===l%2)return this.getValueAtTime((f-d)%g+f,0)}else{if("offset"===a){if(m=this.getValueAtTime(f,0),n=this.getValueAtTime(h,0),o=this.getValueAtTime(g-(f-d)%g+f,0),p=Math.floor((f-d)/g)+1,this.pv.length){for(k=new Array(m.length),j=k.length,i=0;j>i;i+=1)k[i]=o[i]-(n[i]-m[i])*p;return k}return o-(n-m)*p}if("continue"===a){if(q=this.getValueAtTime(f,0),r=this.getValueAtTime(f+.001,0),this.pv.length){for(k=new Array(q.length),j=k.length,i=0;j>i;i+=1)k[i]=q[i]+(q[i]-r[i])*(f-d)/5e-4;return k}return q+(q-r)*(f-d)/5e-4}}return this.getValueAtTime(g-(f-d)%g+f,0)}.bind(this),loopInDuration=function(a,b){return loopIn(a,b,!0)}.bind(this),loopOut=function(a,b,c){var d,e,f,g,h,i,j,k,l,m,n,o,p,q,r;if(!this.k||!this.keyframes)return this.pv;if(d=time*elem.comp.globalData.frameRate,e=this.keyframes,f=e[e.length-1].t,f>=d)return this.pv;if(c?(g=b?Math.abs(f-elem.comp.globalData.frameRate*b):Math.max(0,f-this.elem.data.ip),h=f-g):((!b||b>e.length-1)&&(b=e.length-1),h=e[e.length-1-b].t,g=f-h),"pingpong"===a){if(l=Math.floor((d-h)/g),0!==l%2)return this.getValueAtTime(g-(d-h)%g+h,0)}else{if("offset"===a){if(m=this.getValueAtTime(h,0),n=this.getValueAtTime(f,0),o=this.getValueAtTime((d-h)%g+h,0),p=Math.floor((d-h)/g),this.pv.length){for(k=new Array(m.length),j=k.length,i=0;j>i;i+=1)k[i]=(n[i]-m[i])*p+o[i];return k}return(n-m)*p+o}if("continue"===a){if(q=this.getValueAtTime(f,0),r=this.getValueAtTime(f-.001,0),this.pv.length){for(k=new Array(q.length),j=k.length,i=0;j>i;i+=1)k[i]=q[i]+(q[i]-r[i])*(d-f)/5e-4;return k}return q+(q-r)*(d-f)/5e-4}}return this.getValueAtTime((d-h)%g+h,0)}.bind(this),loop_out=loopOut,loopOutDuration=function(a,b){return loopOut(a,b,!0)}.bind(this),valueAtTime=function(a){return this.getValueAtTime(a*elem.comp.globalData.frameRate,0)}.bind(this),velocityAtTime=function(a){return this.getVelocityAtTime(a)}.bind(this),comp=elem.comp.globalData.projectInterface.bind(elem.comp.globalData.projectInterface),toworldMatrix=new Matrix,fromworldMatrix=new Matrix,index=elem.data.ind+1,hasParent=!(!elem.hierarchy||!elem.hierarchy.length),randSeed=Math.floor(1e6*Math.random()),execute}var ob={},Math=BMMath,radians_to_degrees=radiansToDegrees,degrees_to_radians=radiansToDegrees,helperLengthArray=[0,0,0,0,0,0];return ob.initiateExpression=initiateExpression,ob}(),ShapeExpressionInterface=function(){function b(a,b,c){return n(a,b,c)}function c(a,b,c){return p(a,b,c)}function d(a,b,c){return q(a,b,c)}function e(a,b,c){return r(a,b,c)}function f(a,b,c){return s(a,b,c)}function g(a,b,c){return t(a,b,c)}function h(a,b,c){return u(a,b,c)}function i(a,b,c){return v(a,b,c)}function j(a,b,c){return w(a,b,c)}function k(a,b,c){return x(a,b,c)}function l(a,b,c){return y(a,b,c)}function m(a,b,c){var e,d=[],f=a?a.length:0;for(e=0;f>e;e+=1)"gr"==a[e].ty?d.push(ShapeExpressionInterface.createGroupInterface(a[e],b[e],c)):"fl"==a[e].ty?d.push(ShapeExpressionInterface.createFillInterface(a[e],b[e],c)):"st"==a[e].ty?d.push(ShapeExpressionInterface.createStrokeInterface(a[e],b[e],c)):"tm"==a[e].ty?d.push(ShapeExpressionInterface.createTrimInterface(a[e],b[e],c)):"tr"==a[e].ty||("el"==a[e].ty?d.push(ShapeExpressionInterface.createEllipseInterface(a[e],b[e],c)):"sr"==a[e].ty?d.push(ShapeExpressionInterface.createStarInterface(a[e],b[e],c)):"sh"==a[e].ty?d.push(ShapeExpressionInterface.createPathInterface(a[e],b[e],c)):"rc"==a[e].ty?d.push(ShapeExpressionInterface.createRectInterface(a[e],b[e],c)):"rd"==a[e].ty&&d.push(ShapeExpressionInterface.createRoundedInterface(a[e],b[e],c)));return d}var a={createShapeInterface:b,createGroupInterface:c,createTrimInterface:f,createStrokeInterface:e,createTransformInterface:g,createEllipseInterface:h,createStarInterface:i,createRectInterface:j,createRoundedInterface:k,createPathInterface:l,createFillInterface:d},n=function(){return function(a,b,c){function e(a){if("number"==typeof a)return d[a-1];for(var b=0,c=d.length;c>b;){if(d[b]._name===a)return d[b];b+=1}}var d;return e.propertyGroup=c,d=m(a,b,e),e}}(),o=function(){return function(a,b,c){var d,e=function(a){if("number"==typeof a)return d[a-1];for(var b=0,c=d.length;c>b;){if(d[b]._name===a||d[b].mn===a)return d[b];b+=1}};return e.propertyGroup=function(a){return 1===a?e:c(a-1)},d=m(a.it,b.it,e.propertyGroup),e.numProperties=d.length,e}}(),p=function(){return function(a,b,c){var e,f,d=function(a){switch(a){case"ADBE Vectors Group":case 2:return d.content;case"ADBE Vector Transform Group":case 3:default:return d.transform}};return d.propertyGroup=function(a){return 1===a?d:c(a-1)},e=o(a,b,d.propertyGroup),f=ShapeExpressionInterface.createTransformInterface(a.it[a.it.length-1],b.it[b.it.length-1],d.propertyGroup),d.content=e,d.transform=f,Object.defineProperty(d,"_name",{get:function(){return a.nm}}),d.numProperties=1,d.nm=a.nm,d.mn=a.mn,d}}(),q=function(){return function(a,b,c){b.c.setGroupProperty(c),b.o.setGroupProperty(c);var d={get color(){return b.c.k&&b.c.getValue(),[b.c.v[0]/b.c.mult,b.c.v[1]/b.c.mult,b.c.v[2]/b.c.mult,1]},get opacity(){return b.o.k&&b.o.getValue(),b.o.v},_name:a.nm,mn:a.mn};return d}}(),r=function(){return function(a,b,c){function d(a){return 1===a?e:c(a-1)}b.c.setGroupProperty(d),b.o.setGroupProperty(d),b.w.setGroupProperty(d);var e={get color(){return b.c.k&&b.c.getValue(),[b.c.v[0]/b.c.mult,b.c.v[1]/b.c.mult,b.c.v[2]/b.c.mult,1]},get opacity(){return b.o.k&&b.o.getValue(),b.o.v},get strokeWidth(){return b.w.k&&b.w.getValue(),b.w.v},dashOb:{},get dash(){var f,d=b.d,e=a.d,g=e.length;for(f=0;g>f;f+=1)d.dataProps[f].p.k&&d.dataProps[f].p.getValue(),d.dataProps[f].p.setGroupProperty(c),this.dashOb[e[f].nm]=d.dataProps[f].p.v;return this.dashOb},_name:a.nm,mn:a.mn};return e}}(),s=function(){return function(a,b,c){function d(a){return 1==a?e:c(--a)}function e(b){return b===a.e.ix?e.end:b===a.s.ix?e.start:b===a.o.ix?e.offset:void 0}return e.propertyIndex=a.ix,b.s.setGroupProperty(d),b.e.setGroupProperty(d),b.o.setGroupProperty(d),e.propertyIndex=a.ix,Object.defineProperty(e,"start",{get:function(){return b.s.k&&b.s.getValue(),b.s.v/b.s.mult}}),Object.defineProperty(e,"end",{get:function(){return b.e.k&&b.e.getValue(),b.e.v/b.e.mult}}),Object.defineProperty(e,"offset",{get:function(){return b.o.k&&b.o.getValue(),b.o.v}}),Object.defineProperty(e,"_name",{get:function(){return a.nm}}),e.mn=a.mn,e}}(),t=function(){return function(a,b,c){function d(a){return 1==a?e:c(--a)}function e(b){return a.a.ix===b?e.anchorPoint:a.o.ix===b?e.opacity:a.p.ix===b?e.position:a.r.ix===b?e.rotation:a.s.ix===b?e.scale:a.sk&&a.sk.ix===b?e.skew:a.sa&&a.sa.ix===b?e.skewAxis:"Opacity"===b?e.opacity:"Position"===b?e.position:"Anchor Point"===b?e.anchorPoint:"Scale"===b?e.scale:"Rotation"===b?e.rotation:"Skew"===b?e.skew:"Skew Axis"===b?e.skewAxis:void 0}b.transform.mProps.o.setGroupProperty(d),b.transform.mProps.p.setGroupProperty(d),b.transform.mProps.a.setGroupProperty(d),b.transform.mProps.s.setGroupProperty(d),b.transform.mProps.r.setGroupProperty(d),b.transform.mProps.sk&&(b.transform.mProps.sk.setGroupProperty(d),b.transform.mProps.sa.setGroupProperty(d)),b.transform.op.setGroupProperty(d),Object.defineProperty(e,"opacity",{get:function(){return b.transform.mProps.o.k&&b.transform.mProps.o.getValue(),b.transform.mProps.o.v/b.transform.mProps.o.mult}}),Object.defineProperty(e,"position",{get:function(){return b.transform.mProps.p.k&&b.transform.mProps.p.getValue(),[b.transform.mProps.p.v[0],b.transform.mProps.p.v[1]]}}),Object.defineProperty(e,"anchorPoint",{get:function(){return b.transform.mProps.a.k&&b.transform.mProps.a.getValue(),[b.transform.mProps.a.v[0],b.transform.mProps.a.v[1]]}});var f=[];return Object.defineProperty(e,"scale",{get:function(){return b.transform.mProps.s.k&&b.transform.mProps.s.getValue(),f[0]=b.transform.mProps.s.v[0]/b.transform.mProps.s.mult,f[1]=b.transform.mProps.s.v[1]/b.transform.mProps.s.mult,f}}),Object.defineProperty(e,"rotation",{get:function(){return b.transform.mProps.r.k&&b.transform.mProps.r.getValue(),b.transform.mProps.r.v/b.transform.mProps.r.mult}}),Object.defineProperty(e,"skew",{get:function(){return b.transform.mProps.sk.k&&b.transform.mProps.sk.getValue(),b.transform.mProps.sk.v}}),Object.defineProperty(e,"skewAxis",{get:function(){return b.transform.mProps.sa.k&&b.transform.mProps.sa.getValue(),b.transform.mProps.sa.v}}),Object.defineProperty(e,"_name",{get:function(){return a.nm}}),e.ty="tr",e.mn=a.mn,e}}(),u=function(){return function(a,b,c){function d(a){return 1==a?f:c(--a)}function f(b){return a.p.ix===b?f.position:a.s.ix===b?f.size:void 0}f.propertyIndex=a.ix;var e="tm"===b.sh.ty?b.sh.prop:b.sh;return e.s.setGroupProperty(d),e.p.setGroupProperty(d),Object.defineProperty(f,"size",{get:function(){return e.s.k&&e.s.getValue(),[e.s.v[0],e.s.v[1]]}}),Object.defineProperty(f,"position",{get:function(){return e.p.k&&e.p.getValue(),[e.p.v[0],e.p.v[1]]}}),Object.defineProperty(f,"_name",{get:function(){return a.nm}}),f.mn=a.mn,f}}(),v=function(){return function(a,b,c){function d(a){return 1==a?f:c(--a)}function f(b){return a.p.ix===b?f.position:a.r.ix===b?f.rotation:a.pt.ix===b?f.points:a.or.ix===b||"ADBE Vector Star Outer Radius"===b?f.outerRadius:a.os.ix===b?f.outerRoundness:!a.ir||a.ir.ix!==b&&"ADBE Vector Star Inner Radius"!==b?a.is&&a.is.ix===b?f.innerRoundness:void 0:f.innerRadius}var e="tm"===b.sh.ty?b.sh.prop:b.sh;return f.propertyIndex=a.ix,e.or.setGroupProperty(d),e.os.setGroupProperty(d),e.pt.setGroupProperty(d),e.p.setGroupProperty(d),e.r.setGroupProperty(d),a.ir&&(e.ir.setGroupProperty(d),e.is.setGroupProperty(d)),Object.defineProperty(f,"position",{get:function(){return e.p.k&&e.p.getValue(),e.p.v}}),Object.defineProperty(f,"rotation",{get:function(){return e.r.k&&e.r.getValue(),e.r.v/e.r.mult}}),Object.defineProperty(f,"points",{get:function(){return e.pt.k&&e.pt.getValue(),e.pt.v}}),Object.defineProperty(f,"outerRadius",{get:function(){return e.or.k&&e.or.getValue(),e.or.v}}),Object.defineProperty(f,"outerRoundness",{get:function(){return e.os.k&&e.os.getValue(),e.os.v/e.os.mult}}),Object.defineProperty(f,"innerRadius",{get:function(){return e.ir?(e.ir.k&&e.ir.getValue(),e.ir.v):0}}),Object.defineProperty(f,"innerRoundness",{get:function(){return e.is?(e.is.k&&e.is.getValue(),e.is.v/e.is.mult):0}}),Object.defineProperty(f,"_name",{get:function(){return a.nm}}),f.mn=a.mn,f}}(),w=function(){return function(a,b,c){function d(a){return 1==a?f:c(--a)}function f(b){return a.p.ix===b?f.position:a.r.ix===b?f.rotation:a.pt.ix===b?f.points:a.or.ix===b||"ADBE Vector Star Outer Radius"===b?f.outerRadius:a.os.ix===b?f.outerRoundness:!a.ir||a.ir.ix!==b&&"ADBE Vector Star Inner Radius"!==b?a.is&&a.is.ix===b?f.innerRoundness:void 0:f.innerRadius}var e="tm"===b.sh.ty?b.sh.prop:b.sh;return f.propertyIndex=a.ix,e.p.setGroupProperty(d),e.s.setGroupProperty(d),e.r.setGroupProperty(d),Object.defineProperty(f,"position",{get:function(){return e.p.k&&e.p.getValue(),e.p.v}}),Object.defineProperty(f,"roundness",{get:function(){return e.r.k&&e.r.getValue(),e.r.v}}),Object.defineProperty(f,"size",{get:function(){return e.s.k&&e.s.getValue(),e.s.v}}),Object.defineProperty(f,"_name",{get:function(){return a.nm}}),f.mn=a.mn,f}}(),x=function(){return function(a,b,c){function d(a){return 1==a?f:c(--a)}function f(b){return a.r.ix===b||"Round Corners 1"===b?f.radius:void 0}var e=b;return f.propertyIndex=a.ix,e.rd.setGroupProperty(d),Object.defineProperty(f,"radius",{get:function(){return e.rd.k&&e.rd.getValue(),e.rd.v}}),Object.defineProperty(f,"_name",{get:function(){return a.nm}}),f.mn=a.mn,f}}(),y=function(){return function(a,b,c){var e,d="tm"===b.sh.ty?b.sh.prop:b.sh;return d.setGroupProperty(c),e={get shape(){return d.k&&d.getValue(),d.v},get path(){return d.k&&d.getValue(),d.v},_name:a.nm,mn:a.mn}}}();return a}(),LayerExpressionInterface=function(){function a(a){var c,d,b=new Matrix;if(b.reset(),this._elem.finalTransform.mProp.applyToMatrix(b),this._elem.hierarchy&&this._elem.hierarchy.length){for(d=this._elem.hierarchy.length,c=0;d>c;c+=1)this._elem.hierarchy[c].finalTransform.mProp.applyToMatrix(b);return b.applyToPointArray(a[0],a[1],a[2]||0)}return b.applyToPointArray(a[0],a[1],a[2]||0)}return function(b){function d(a){f.mask=a.getMask.bind(a)}function e(a){f.effect=a}function f(a){switch(a){case"ADBE Root Vectors Group":case 2:return f.shapeInterface;case 1:case"Transform":case"transform":case"ADBE Transform Group":return c;case 4:case"ADBE Effect Parade":return f.effect}}var c=TransformExpressionInterface(b.transform);return f.toWorld=a,f.toComp=a,f._elem=b,Object.defineProperty(f,"hasParent",{get:function(){return!!b.hierarchy}}),Object.defineProperty(f,"parent",{get:function(){return b.hierarchy[0].layerInterface}}),Object.defineProperty(f,"rotation",{get:function(){return c.rotation}}),Object.defineProperty(f,"scale",{get:function(){return c.scale}}),Object.defineProperty(f,"position",{get:function(){return c.position}}),Object.defineProperty(f,"anchorPoint",{get:function(){return c.anchorPoint}}),Object.defineProperty(f,"transform",{get:function(){return c}}),Object.defineProperty(f,"_name",{value:b.data.nm}),Object.defineProperty(f,"content",{get:function(){return f.shapeInterface}}),f.active=!0,f.registerMaskInterface=d,f.registerEffectsInterface=e,f}}(),CompExpressionInterface=function(){return function(a){function b(b){for(var c=0,d=a.layers.length;d>c;){if(a.layers[c].nm===b||a.layers[c].ind===b-1)return a.elements[c].layerInterface;c+=1}}return b.layer=b,b.pixelAspect=1,b.height=a.globalData.compSize.h,b.width=a.globalData.compSize.w,b.pixelAspect=1,b.frameDuration=1/a.globalData.frameRate,b}}(),TransformExpressionInterface=function(){return function(a){function b(c){switch(c){case"scale":case"Scale":case"ADBE Scale":return b.scale;case"rotation":case"Rotation":case"ADBE Rotation":return b.rotation;case"position":case"Position":case"ADBE Position":return a.position;case"anchorPoint":case"AnchorPoint":case"ADBE AnchorPoint":return b.anchorPoint;case"opacity":case"Opacity":return b.opacity}}return Object.defineProperty(b,"rotation",{get:function(){return a.rotation}}),Object.defineProperty(b,"scale",{get:function(){var c,b=a.scale,d=b.length,e=Array.apply(null,{length:d});for(c=0;d>c;c+=1)e[c]=100*b[c];return e}}),Object.defineProperty(b,"position",{get:function(){return a.position}}),Object.defineProperty(b,"xPosition",{get:function(){return a.xPosition}}),Object.defineProperty(b,"yPosition",{get:function(){return a.yPosition}}),Object.defineProperty(b,"anchorPoint",{get:function(){return a.anchorPoint}}),Object.defineProperty(b,"opacity",{get:function(){return 100*a.opacity}}),Object.defineProperty(b,"skew",{get:function(){return a.skew}}),Object.defineProperty(b,"skewAxis",{get:function(){return a.skewAxis}}),b}}(),ProjectInterface=function(){function a(a){this.compositions.push(a)}return function(){function b(a){for(var b=0,c=this.compositions.length;c>b;){if(this.compositions[b].data&&this.compositions[b].data.nm===a)return this.compositions[b].prepareFrame(this.currentFrame),this.compositions[b].compInterface;b+=1}return this.compositions[0].compInterface}return b.compositions=[],b.currentFrame=0,b.registerComposition=a,b}}(),EffectsExpressionInterface=function(){function b(a,b){var d,e,f,g;if(a.effects){for(d=[],e=a.data.ef,g=a.effects.effectElements.length,f=0;g>f;f+=1)d.push(c(e[f],a.effects.effectElements[f],b,a));return function(b){for(var c=a.data.ef,e=0,f=c.length;f>e;){if(b===c[e].nm||b===c[e].mn||b===c[e].ix)return d[e];e+=1}}}}function c(a,b,e,f){var h,j,g=[],i=a.ef.length;for(h=0;i>h;h+=1)5===a.ef[h].ty?g.push(c(a.ef[h],b.effectElements[h],e,f)):g.push(d(b.effectElements[h],a.ef[h].ty,f));return j=function(b){for(var c=a.ef,d=0,e=c.length;e>d;){if(b===c[d].nm||b===c[d].mn||b===c[d].ix)return 5===c[d].ty?g[d]:g[d]();d+=1}return g[0]()},j.active=0!==a.en,j}function d(a,b,c){return function(){var d,e,f;if(10===b)return c.comp.compInterface(a.p.v);if(a.p.k&&a.p.getValue(),"number"==typeof a.p.v)return a.p.v;for(e=a.p.v.length,f=Array.apply(null,{length:e}),d=0;e>d;d+=1)f[d]=a.p.v[d];return f}}var a={createEffectsInterface:b};return a}(),GroupEffect.prototype.getValue=function(){this.mdf=!1;var a,b=this.dynamicProperties.length;for(a=0;b>a;a+=1)this.dynamicProperties[a].getValue(),this.mdf=this.dynamicProperties[a].mdf?!0:this.mdf},GroupEffect.prototype.init=function(a,b,c){var d,e,f,g;for(this.data=a,this.mdf=!1,this.effectElements=[],e=this.data.ef.length,g=this.data.ef,d=0;e>d;d+=1)switch(g[d].ty){case 0:f=new SliderEffect(g[d],b,c),this.effectElements.push(f);break;case 1:f=new AngleEffect(g[d],b,c),this.effectElements.push(f);
break;case 2:f=new ColorEffect(g[d],b,c),this.effectElements.push(f);break;case 3:f=new PointEffect(g[d],b,c),this.effectElements.push(f);break;case 4:case 7:f=new CheckboxEffect(g[d],b,c),this.effectElements.push(f);break;case 10:f=new LayerIndexEffect(g[d],b,c),this.effectElements.push(f);break;case 5:f=new EffectsManager(g[d],b,c),this.effectElements.push(f);break;case 6:f=new NoValueEffect(g[d],b,c),this.effectElements.push(f)}},bodymovinjs={},bodymovinjs.play=play,bodymovinjs.pause=pause,bodymovinjs.togglePause=togglePause,bodymovinjs.setSpeed=setSpeed,bodymovinjs.setDirection=setDirection,bodymovinjs.stop=stop,bodymovinjs.moveFrame=moveFrame,bodymovinjs.searchAnimations=searchAnimations,bodymovinjs.registerAnimation=registerAnimation,bodymovinjs.loadAnimation=loadAnimation,bodymovinjs.setSubframeRendering=setSubframeRendering,bodymovinjs.resize=resize,bodymovinjs.start=start,bodymovinjs.goToAndStop=goToAndStop,bodymovinjs.destroy=destroy,bodymovinjs.setQuality=setQuality,bodymovinjs.installPlugin=installPlugin,bodymovinjs.__getFactory=getFactory,bodymovinjs.version="4.5.8",standalone="__[STANDALONE]__",animationData="__[ANIMATIONDATA]__",renderer="",standalone&&(scripts=document.getElementsByTagName("script"),index=scripts.length-1,myScript=scripts[index],queryString=myScript.src.replace(/^[^\?]+\??/,""),renderer=getQueryVariable("renderer")),readyStateCheckInterval=setInterval(checkReady,100),bodymovinjs});